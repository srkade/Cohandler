(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function vw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ud={exports:{}},za={},cd={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function yw(){if(ig)return Ve;ig=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function O(M,G,ce){this.props=M,this.context=G,this.refs=W,this.updater=ce||b}O.prototype.isReactComponent={},O.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=O.prototype;function ee(M,G,ce){this.props=M,this.context=G,this.refs=W,this.updater=ce||b}var ie=ee.prototype=new q;ie.constructor=ee,j(ie,O.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray,xe=Object.prototype.hasOwnProperty,me={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function R(M,G,ce){var ve,Te={},Re=null,Be=null;if(G!=null)for(ve in G.ref!==void 0&&(Be=G.ref),G.key!==void 0&&(Re=""+G.key),G)xe.call(G,ve)&&!N.hasOwnProperty(ve)&&(Te[ve]=G[ve]);var Ne=arguments.length-2;if(Ne===1)Te.children=ce;else if(1<Ne){for(var be=Array(Ne),Fe=0;Fe<Ne;Fe++)be[Fe]=arguments[Fe+2];Te.children=be}if(M&&M.defaultProps)for(ve in Ne=M.defaultProps,Ne)Te[ve]===void 0&&(Te[ve]=Ne[ve]);return{$$typeof:r,type:M,key:Re,ref:Be,props:Te,_owner:me.current}}function S(M,G){return{$$typeof:r,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ce){return G[ce]})}var F=/\/+/g;function A(M,G){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):G.toString(36)}function Je(M,G,ce,ve,Te){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(Re){case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case r:case e:Be=!0}}if(Be)return Be=M,Te=Te(Be),M=ve===""?"."+A(Be,0):ve,ue(Te)?(ce="",M!=null&&(ce=M.replace(F,"$&/")+"/"),Je(Te,G,ce,"",function(Fe){return Fe})):Te!=null&&(P(Te)&&(Te=S(Te,ce+(!Te.key||Be&&Be.key===Te.key?"":(""+Te.key).replace(F,"$&/")+"/")+M)),G.push(Te)),1;if(Be=0,ve=ve===""?".":ve+":",ue(M))for(var Ne=0;Ne<M.length;Ne++){Re=M[Ne];var be=ve+A(Re,Ne);Be+=Je(Re,G,ce,be,Te)}else if(be=k(M),typeof be=="function")for(M=be.call(M),Ne=0;!(Re=M.next()).done;)Re=Re.value,be=ve+A(Re,Ne++),Be+=Je(Re,G,ce,be,Te);else if(Re==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ge(M,G,ce){if(M==null)return M;var ve=[],Te=0;return Je(M,ve,"","",function(Re){return G.call(ce,Re,Te++)}),ve}function Ye(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(ce){(M._status===0||M._status===-1)&&(M._status=1,M._result=ce)},function(ce){(M._status===0||M._status===-1)&&(M._status=2,M._result=ce)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},te={transition:null},pe={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:te,ReactCurrentOwner:me};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Ge,forEach:function(M,G,ce){Ge(M,function(){G.apply(this,arguments)},ce)},count:function(M){var G=0;return Ge(M,function(){G++}),G},toArray:function(M){return Ge(M,function(G){return G})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ve.Component=O,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=ee,Ve.StrictMode=s,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ve.act=se,Ve.cloneElement=function(M,G,ce){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ve=j({},M.props),Te=M.key,Re=M.ref,Be=M._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,Be=me.current),G.key!==void 0&&(Te=""+G.key),M.type&&M.type.defaultProps)var Ne=M.type.defaultProps;for(be in G)xe.call(G,be)&&!N.hasOwnProperty(be)&&(ve[be]=G[be]===void 0&&Ne!==void 0?Ne[be]:G[be])}var be=arguments.length-2;if(be===1)ve.children=ce;else if(1<be){Ne=Array(be);for(var Fe=0;Fe<be;Fe++)Ne[Fe]=arguments[Fe+2];ve.children=Ne}return{$$typeof:r,type:M.type,key:Te,ref:Re,props:ve,_owner:Be}},Ve.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ve.createElement=R,Ve.createFactory=function(M){var G=R.bind(null,M);return G.type=M,G},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(M){return{$$typeof:f,render:M}},Ve.isValidElement=P,Ve.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:Ye}},Ve.memo=function(M,G){return{$$typeof:v,type:M,compare:G===void 0?null:G}},Ve.startTransition=function(M){var G=te.transition;te.transition={};try{M()}finally{te.transition=G}},Ve.unstable_act=se,Ve.useCallback=function(M,G){return He.current.useCallback(M,G)},Ve.useContext=function(M){return He.current.useContext(M)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(M){return He.current.useDeferredValue(M)},Ve.useEffect=function(M,G){return He.current.useEffect(M,G)},Ve.useId=function(){return He.current.useId()},Ve.useImperativeHandle=function(M,G,ce){return He.current.useImperativeHandle(M,G,ce)},Ve.useInsertionEffect=function(M,G){return He.current.useInsertionEffect(M,G)},Ve.useLayoutEffect=function(M,G){return He.current.useLayoutEffect(M,G)},Ve.useMemo=function(M,G){return He.current.useMemo(M,G)},Ve.useReducer=function(M,G,ce){return He.current.useReducer(M,G,ce)},Ve.useRef=function(M){return He.current.useRef(M)},Ve.useState=function(M){return He.current.useState(M)},Ve.useSyncExternalStore=function(M,G,ce){return He.current.useSyncExternalStore(M,G,ce)},Ve.useTransition=function(){return He.current.useTransition()},Ve.version="18.3.1",Ve}var sg;function nf(){return sg||(sg=1,cd.exports=yw()),cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function _w(){if(og)return za;og=1;var r=nf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,v){var w,T={},k=null,b=null;v!==void 0&&(k=""+v),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(b=p.ref);for(w in p)s.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:k,ref:b,props:T,_owner:o.current}}return za.Fragment=t,za.jsx=h,za.jsxs=h,za}var ag;function ww(){return ag||(ag=1,ud.exports=_w()),ud.exports}var I=ww(),V=nf();const Me=vw(V);var bu={},hd={exports:{}},Hn={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Ew(){return lg||(lg=1,function(r){function e(te,pe){var se=te.length;te.push(pe);e:for(;0<se;){var M=se-1>>>1,G=te[M];if(0<o(G,pe))te[M]=pe,te[se]=G,se=M;else break e}}function t(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var pe=te[0],se=te.pop();if(se!==pe){te[0]=se;e:for(var M=0,G=te.length,ce=G>>>1;M<ce;){var ve=2*(M+1)-1,Te=te[ve],Re=ve+1,Be=te[Re];if(0>o(Te,se))Re<G&&0>o(Be,Te)?(te[M]=Be,te[Re]=se,M=Re):(te[M]=Te,te[ve]=se,M=ve);else if(Re<G&&0>o(Be,se))te[M]=Be,te[Re]=se,M=Re;else break e}}return pe}function o(te,pe){var se=te.sortIndex-pe.sortIndex;return se!==0?se:te.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],v=[],w=1,T=null,k=3,b=!1,j=!1,W=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(te){for(var pe=t(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=te)s(v),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(v)}}function ue(te){if(W=!1,ie(te),!j)if(t(p)!==null)j=!0,Ye(xe);else{var pe=t(v);pe!==null&&He(ue,pe.startTime-te)}}function xe(te,pe){j=!1,W&&(W=!1,q(R),R=-1),b=!0;var se=k;try{for(ie(pe),T=t(p);T!==null&&(!(T.expirationTime>pe)||te&&!L());){var M=T.callback;if(typeof M=="function"){T.callback=null,k=T.priorityLevel;var G=M(T.expirationTime<=pe);pe=r.unstable_now(),typeof G=="function"?T.callback=G:T===t(p)&&s(p),ie(pe)}else s(p);T=t(p)}if(T!==null)var ce=!0;else{var ve=t(v);ve!==null&&He(ue,ve.startTime-pe),ce=!1}return ce}finally{T=null,k=se,b=!1}}var me=!1,N=null,R=-1,S=5,P=-1;function L(){return!(r.unstable_now()-P<S)}function F(){if(N!==null){var te=r.unstable_now();P=te;var pe=!0;try{pe=N(!0,te)}finally{pe?A():(me=!1,N=null)}}else me=!1}var A;if(typeof ee=="function")A=function(){ee(F)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Ge=Je.port2;Je.port1.onmessage=F,A=function(){Ge.postMessage(null)}}else A=function(){O(F,0)};function Ye(te){N=te,me||(me=!0,A())}function He(te,pe){R=O(function(){te(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){j||b||(j=!0,Ye(xe))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(te){switch(k){case 1:case 2:case 3:var pe=3;break;default:pe=k}var se=k;k=pe;try{return te()}finally{k=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=k;k=te;try{return pe()}finally{k=se}},r.unstable_scheduleCallback=function(te,pe,se){var M=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,te){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,te={id:w++,callback:pe,priorityLevel:te,startTime:se,expirationTime:G,sortIndex:-1},se>M?(te.sortIndex=se,e(v,te),t(p)===null&&te===t(v)&&(W?(q(R),R=-1):W=!0,He(ue,se-M))):(te.sortIndex=G,e(p,te),j||b||(j=!0,Ye(xe))),te},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(te){var pe=k;return function(){var se=k;k=pe;try{return te.apply(this,arguments)}finally{k=se}}}}(fd)),fd}var ug;function Tw(){return ug||(ug=1,dd.exports=Ew()),dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Iw(){if(cg)return Hn;cg=1;var r=nf(),e=Tw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function k(n){return p.call(T,n)?!0:p.call(w,n)?!1:v.test(n)?T[n]=!0:(w[n]=!0,!1)}function b(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,a,c){if(i===null||typeof i>"u"||b(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function W(n,i,a,c,d,g,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=_}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){O[n]=new W(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];O[i]=new W(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){O[n]=new W(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){O[n]=new W(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){O[n]=new W(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){O[n]=new W(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){O[n]=new W(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){O[n]=new W(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){O[n]=new W(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function ee(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(q,ee);O[i]=new W(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(q,ee);O[i]=new W(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(q,ee);O[i]=new W(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){O[n]=new W(n,1,!1,n.toLowerCase(),null,!1,!1)}),O.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){O[n]=new W(n,1,!1,n.toLowerCase(),null,!0,!0)});function ie(n,i,a,c){var d=O.hasOwnProperty(i)?O[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,a,d,c)&&(a=null),c||d===null?k(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ue=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),me=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),te=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,M;function G(n){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var ce=!1;function ve(n,i){if(!n||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var c=$}Reflect.construct(n,[],i)}else{try{i.call()}catch($){c=$}n.call(i.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,C=g.length-1;1<=_&&0<=C&&d[_]!==g[C];)C--;for(;1<=_&&0<=C;_--,C--)if(d[_]!==g[C]){if(_!==1||C!==1)do if(_--,C--,0>C||d[_]!==g[C]){var x=`
`+d[_].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=_&&0<=C);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function Te(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case me:return"Portal";case S:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case Je:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ge:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case Ye:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function Be(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ne(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fe(n){var i=be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Dn(n){n._valueTracker||(n._valueTracker=Fe(n))}function Kn(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function hn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gn(n,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ze(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ne(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Kr(n,i){i=i.checked,i!=null&&ie(n,"checked",i,!1)}function dn(n,i){Kr(n,i);var a=Ne(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ir(n,i.type,a):i.hasOwnProperty("defaultValue")&&Ir(n,i.type,Ne(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function sr(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Ir(n,i,a){(i!=="number"||hn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var It=Array.isArray;function Xt(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ne(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Sr(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fn(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(It(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ne(a)}}function Rr(n,i){var a=Ne(i.value),c=Ne(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Cr(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function it(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?it(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var zt,kr=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Qn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(n){ar.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),or[i]=or[n]})});function Dt(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||or.hasOwnProperty(n)&&or[n]?(""+i).trim():i+"px"}function Gr(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Dt(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var lr=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ur(n,i){if(i){if(lr[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ar(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=null;function Jt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ce=null,Le=null,tt=null;function st(n){if(n=ka(n)){if(typeof Ce!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Gl(i),Ce(n.stateNode,n.type,i))}}function K(n){Le?tt?tt.push(n):tt=[n]:Le=n}function ge(){if(Le){var n=Le,i=tt;if(tt=Le=null,st(n),i)for(n=0;n<i.length;n++)st(i[n])}}function Oe(n,i){return n(i)}function Yn(){}var bt=!1;function Zt(n,i,a){if(bt)return n(i,a);bt=!0;try{return Oe(n,i,a)}finally{bt=!1,(Le!==null||tt!==null)&&(Yn(),ge())}}function De(n,i){var a=n.stateNode;if(a===null)return null;var c=Gl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var kt=!1;if(f)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){kt=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{kt=!1}function kn(n,i,a,c,d,g,_,C,x){var $=Array.prototype.slice.call(arguments,3);try{i.apply(a,$)}catch(X){this.onError(X)}}var pn=!1,bn=null,$t=!1,An=null,hr={onError:function(n){pn=!0,bn=n}};function mn(n,i,a,c,d,g,_,C,x){pn=!1,bn=null,kn.apply(hr,arguments)}function Ln(n,i,a,c,d,g,_,C,x){if(mn.apply(this,arguments),pn){if(pn){var $=bn;pn=!1,bn=null}else throw Error(t(198));$t||($t=!0,An=$)}}function _t(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function On(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function gn(n){if(_t(n)!==n)throw Error(t(188))}function Pr(n){var i=n.alternate;if(!i){if(i=_t(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return gn(d),n;if(g===c)return gn(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var _=!1,C=d.child;C;){if(C===a){_=!0,a=d,c=g;break}if(C===c){_=!0,c=d,a=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===a){_=!0,a=g,c=d;break}if(C===c){_=!0,c=g,a=d;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Vn(n){return n=Pr(n),n!==null?vn(n):null}function vn(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=vn(n);if(i!==null)return i;n=n.sibling}return null}var Mn=e.unstable_scheduleCallback,Wt=e.unstable_cancelCallback,xr=e.unstable_shouldYield,Nr=e.unstable_requestPaint,ze=e.unstable_now,Xn=e.unstable_getCurrentPriorityLevel,en=e.unstable_ImmediatePriority,Ht=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,St=e.unstable_LowPriority,At=e.unstable_IdlePriority,Lt=null,pt=null;function tn(n){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Lt,n,void 0,(n.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Qr,yn=Math.log,nn=Math.LN2;function Qr(n){return n>>>=0,n===0?32:31-(yn(n)/nn|0)|0}var dr=64,pi=4194304;function Dr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Yr(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,_=a&268435455;if(_!==0){var C=_&~d;C!==0?c=Dr(C):(g&=_,g!==0&&(c=Dr(g)))}else _=a&~d,_!==0?c=Dr(_):g!==0&&(c=Dr(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-wt(i),d=1<<a,c|=n[a],i&=~d;return c}function ha(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var _=31-wt(g),C=1<<_,x=d[_];x===-1?(!(C&a)||C&c)&&(d[_]=ha(C,i)):x<=i&&(n.expiredLanes|=C),g&=~C}}function Jn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xs(){var n=dr;return dr<<=1,!(dr&4194240)&&(dr=64),n}function $i(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Wi(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-wt(i),n[i]=a}function ot(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-wt(a),g=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Hi(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-wt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var $e=0;function qi(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var kl,oo,Al,Pl,xl,da=!1,Xr=[],rn=null,br=null,Lr=null,Ki=new Map,fr=new Map,Jr=[],Uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nl(n,i){switch(n){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Ki.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(i.pointerId)}}function Fn(n,i,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=ka(i),i!==null&&oo(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Bc(n,i,a,c,d){switch(i){case"focusin":return rn=Fn(rn,n,i,a,c,d),!0;case"dragenter":return br=Fn(br,n,i,a,c,d),!0;case"mouseover":return Lr=Fn(Lr,n,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return Ki.set(g,Fn(Ki.get(g)||null,n,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,fr.set(g,Fn(fr.get(g)||null,n,i,a,c,d)),!0}return!1}function Dl(n){var i=Os(n.target);if(i!==null){var a=_t(i);if(a!==null){if(i=a.tag,i===13){if(i=On(a),i!==null){n.blockedOn=i,xl(n.priority,function(){Al(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gi(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ao(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);cr=c,a.target.dispatchEvent(c),cr=null}else return i=ka(a),i!==null&&oo(i),n.blockedOn=a,!1;i.shift()}return!0}function Ns(n,i,a){gi(n)&&a.delete(i)}function bl(){da=!1,rn!==null&&gi(rn)&&(rn=null),br!==null&&gi(br)&&(br=null),Lr!==null&&gi(Lr)&&(Lr=null),Ki.forEach(Ns),fr.forEach(Ns)}function Or(n,i){n.blockedOn===i&&(n.blockedOn=null,da||(da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bl)))}function Vr(n){function i(d){return Or(d,n)}if(0<Xr.length){Or(Xr[0],n);for(var a=1;a<Xr.length;a++){var c=Xr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(rn!==null&&Or(rn,n),br!==null&&Or(br,n),Lr!==null&&Or(Lr,n),Ki.forEach(i),fr.forEach(i),a=0;a<Jr.length;a++)c=Jr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Dl(a),a.blockedOn===null&&Jr.shift()}var vi=ue.ReactCurrentBatchConfig,Gi=!0;function ht(n,i,a,c){var d=$e,g=vi.transition;vi.transition=null;try{$e=1,fa(n,i,a,c)}finally{$e=d,vi.transition=g}}function zc(n,i,a,c){var d=$e,g=vi.transition;vi.transition=null;try{$e=4,fa(n,i,a,c)}finally{$e=d,vi.transition=g}}function fa(n,i,a,c){if(Gi){var d=ao(n,i,a,c);if(d===null)Zc(n,i,c,Ds,a),Nl(n,c);else if(Bc(d,n,i,a,c))c.stopPropagation();else if(Nl(n,c),i&4&&-1<Uc.indexOf(n)){for(;d!==null;){var g=ka(d);if(g!==null&&kl(g),g=ao(n,i,a,c),g===null&&Zc(n,i,c,Ds,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Zc(n,i,c,null,a)}}var Ds=null;function ao(n,i,a,c){if(Ds=null,n=Jt(c),n=Os(n),n!==null)if(i=_t(n),i===null)n=null;else if(a=i.tag,a===13){if(n=On(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ds=n,null}function pa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xn()){case en:return 1;case Ht:return 4;case ct:case St:return 16;case At:return 536870912;default:return 16}default:return 16}}var Zn=null,lo=null,jn=null;function ma(){if(jn)return jn;var n,i=lo,a=i.length,c,d="value"in Zn?Zn.value:Zn.textContent,g=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[g-c];c++);return jn=d.slice(n,1<c?1-c:void 0)}function uo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Zr(){return!0}function ga(){return!1}function sn(n){function i(a,c,d,g,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zr:ga,this.isPropagationStopped=ga,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),i}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=sn(Mr),ei=se({},Mr,{view:0,detail:0}),$c=sn(ei),ho,yi,Qi,bs=se({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(ho=n.screenX-Qi.screenX,yi=n.screenY-Qi.screenY):yi=ho=0,Qi=n),ho)},movementY:function(n){return"movementY"in n?n.movementY:yi}}),fo=sn(bs),va=se({},bs,{dataTransfer:0}),Ll=sn(va),po=se({},ei,{relatedTarget:0}),mo=sn(po),Ol=se({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=sn(Ol),Vl=se({},Mr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ml=sn(Vl),Fl=se({},Mr,{data:0}),ya=sn(Fl),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=jl[n])?!!i[n]:!1}function ti(){return Ul}var u=se({},ei,{key:function(n){if(n.key){var i=go[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=uo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Pn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(n){return n.type==="keypress"?uo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=sn(u),y=se({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=sn(y),U=se({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),H=sn(U),re=se({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=sn(re),Ot=se({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=sn(Ot),qt=[9,13,27,32],Pt=f&&"CompositionEvent"in window,pr=null;f&&"documentMode"in document&&(pr=document.documentMode);var er=f&&"TextEvent"in window&&!pr,Ls=f&&(!Pt||pr&&8<pr&&11>=pr),vo=" ",Jf=!1;function Zf(n,i){switch(n){case"keyup":return qt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yo=!1;function p0(n,i){switch(n){case"compositionend":return ep(i);case"keypress":return i.which!==32?null:(Jf=!0,vo);case"textInput":return n=i.data,n===vo&&Jf?null:n;default:return null}}function m0(n,i){if(yo)return n==="compositionend"||!Pt&&Zf(n,i)?(n=ma(),jn=lo=Zn=null,yo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ls&&i.locale!=="ko"?null:i.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!g0[n.type]:i==="textarea"}function np(n,i,a,c){K(c),i=Hl(i,"onChange"),0<i.length&&(a=new co("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var _a=null,wa=null;function v0(n){wp(n,0)}function Bl(n){var i=Io(n);if(Kn(i))return n}function y0(n,i){if(n==="change")return i}var rp=!1;if(f){var Wc;if(f){var Hc="oninput"in document;if(!Hc){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Hc=typeof ip.oninput=="function"}Wc=Hc}else Wc=!1;rp=Wc&&(!document.documentMode||9<document.documentMode)}function sp(){_a&&(_a.detachEvent("onpropertychange",op),wa=_a=null)}function op(n){if(n.propertyName==="value"&&Bl(wa)){var i=[];np(i,wa,n,Jt(n)),Zt(v0,i)}}function _0(n,i,a){n==="focusin"?(sp(),_a=i,wa=a,_a.attachEvent("onpropertychange",op)):n==="focusout"&&sp()}function w0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Bl(wa)}function E0(n,i){if(n==="click")return Bl(i)}function T0(n,i){if(n==="input"||n==="change")return Bl(i)}function I0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Fr=typeof Object.is=="function"?Object.is:I0;function Ea(n,i){if(Fr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!Fr(n[d],i[d]))return!1}return!0}function ap(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lp(n,i){var a=ap(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ap(a)}}function up(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?up(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function cp(){for(var n=window,i=hn();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=hn(n.document)}return i}function qc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function S0(n){var i=cp(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&up(a.ownerDocument.documentElement,a)){if(c!==null&&qc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=lp(a,g);var _=lp(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var R0=f&&"documentMode"in document&&11>=document.documentMode,_o=null,Kc=null,Ta=null,Gc=!1;function hp(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||_o==null||_o!==hn(c)||(c=_o,"selectionStart"in c&&qc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ta&&Ea(Ta,c)||(Ta=c,c=Hl(Kc,"onSelect"),0<c.length&&(i=new co("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=_o)))}function zl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var wo={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Qc={},dp={};f&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function $l(n){if(Qc[n])return Qc[n];if(!wo[n])return n;var i=wo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in dp)return Qc[n]=i[a];return n}var fp=$l("animationend"),pp=$l("animationiteration"),mp=$l("animationstart"),gp=$l("transitionend"),vp=new Map,yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(n,i){vp.set(n,i),l(i,[n])}for(var Yc=0;Yc<yp.length;Yc++){var Xc=yp[Yc],C0=Xc.toLowerCase(),k0=Xc[0].toUpperCase()+Xc.slice(1);Yi(C0,"on"+k0)}Yi(fp,"onAnimationEnd"),Yi(pp,"onAnimationIteration"),Yi(mp,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(gp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function _p(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Ln(c,i,void 0,n),n.currentTarget=null}function wp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var _=c.length-1;0<=_;_--){var C=c[_],x=C.instance,$=C.currentTarget;if(C=C.listener,x!==g&&d.isPropagationStopped())break e;_p(d,C,$),g=x}else for(_=0;_<c.length;_++){if(C=c[_],x=C.instance,$=C.currentTarget,C=C.listener,x!==g&&d.isPropagationStopped())break e;_p(d,C,$),g=x}}}if($t)throw n=An,$t=!1,An=null,n}function lt(n,i){var a=i[sh];a===void 0&&(a=i[sh]=new Set);var c=n+"__bubble";a.has(c)||(Ep(i,n,2,!1),a.add(c))}function Jc(n,i,a){var c=0;i&&(c|=4),Ep(a,n,c,i)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Sa(n){if(!n[Wl]){n[Wl]=!0,s.forEach(function(a){a!=="selectionchange"&&(A0.has(a)||Jc(a,!1,n),Jc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Wl]||(i[Wl]=!0,Jc("selectionchange",!1,i))}}function Ep(n,i,a,c){switch(pa(i)){case 1:var d=ht;break;case 4:d=zc;break;default:d=fa}a=d.bind(null,i,a,n),d=void 0,!kt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Zc(n,i,a,c,d){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;_=_.return}for(;C!==null;){if(_=Os(C),_===null)return;if(x=_.tag,x===5||x===6){c=g=_;continue e}C=C.parentNode}}c=c.return}Zt(function(){var $=g,X=Jt(a),J=[];e:{var Y=vp.get(n);if(Y!==void 0){var oe=co,he=n;switch(n){case"keypress":if(uo(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":he="focus",oe=mo;break;case"focusout":he="blur",oe=mo;break;case"beforeblur":case"afterblur":oe=mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case fp:case pp:case mp:oe=_i;break;case gp:oe=rt;break;case"scroll":oe=$c;break;case"wheel":oe=qe;break;case"copy":case"cut":case"paste":oe=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var de=(i&4)!==0,Rt=!de&&n==="scroll",B=de?Y!==null?Y+"Capture":null:Y;de=[];for(var D=$,z;D!==null;){z=D;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,B!==null&&(ne=De(D,B),ne!=null&&de.push(Ra(D,ne,z)))),Rt)break;D=D.return}0<de.length&&(Y=new oe(Y,he,null,a,X),J.push({event:Y,listeners:de}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",Y&&a!==cr&&(he=a.relatedTarget||a.fromElement)&&(Os(he)||he[wi]))break e;if((oe||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(he=a.relatedTarget||a.toElement,oe=$,he=he?Os(he):null,he!==null&&(Rt=_t(he),he!==Rt||he.tag!==5&&he.tag!==6)&&(he=null)):(oe=null,he=$),oe!==he)){if(de=fo,ne="onMouseLeave",B="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(de=E,ne="onPointerLeave",B="onPointerEnter",D="pointer"),Rt=oe==null?Y:Io(oe),z=he==null?Y:Io(he),Y=new de(ne,D+"leave",oe,a,X),Y.target=Rt,Y.relatedTarget=z,ne=null,Os(X)===$&&(de=new de(B,D+"enter",he,a,X),de.target=z,de.relatedTarget=Rt,ne=de),Rt=ne,oe&&he)t:{for(de=oe,B=he,D=0,z=de;z;z=Eo(z))D++;for(z=0,ne=B;ne;ne=Eo(ne))z++;for(;0<D-z;)de=Eo(de),D--;for(;0<z-D;)B=Eo(B),z--;for(;D--;){if(de===B||B!==null&&de===B.alternate)break t;de=Eo(de),B=Eo(B)}de=null}else de=null;oe!==null&&Tp(J,Y,oe,de,!1),he!==null&&Rt!==null&&Tp(J,Rt,he,de,!0)}}e:{if(Y=$?Io($):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var fe=y0;else if(tp(Y))if(rp)fe=T0;else{fe=w0;var ye=_0}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(fe=E0);if(fe&&(fe=fe(n,$))){np(J,fe,a,X);break e}ye&&ye(n,Y,$),n==="focusout"&&(ye=Y._wrapperState)&&ye.controlled&&Y.type==="number"&&Ir(Y,"number",Y.value)}switch(ye=$?Io($):window,n){case"focusin":(tp(ye)||ye.contentEditable==="true")&&(_o=ye,Kc=$,Ta=null);break;case"focusout":Ta=Kc=_o=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,hp(J,a,X);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":hp(J,a,X)}var _e;if(Pt)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else yo?Zf(n,a)&&(Se="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Ls&&a.locale!=="ko"&&(yo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&yo&&(_e=ma()):(Zn=X,lo="value"in Zn?Zn.value:Zn.textContent,yo=!0)),ye=Hl($,Se),0<ye.length&&(Se=new ya(Se,n,null,a,X),J.push({event:Se,listeners:ye}),_e?Se.data=_e:(_e=ep(a),_e!==null&&(Se.data=_e)))),(_e=er?p0(n,a):m0(n,a))&&($=Hl($,"onBeforeInput"),0<$.length&&(X=new ya("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:$}),X.data=_e))}wp(J,i)})}function Ra(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Hl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=De(n,a),g!=null&&c.unshift(Ra(n,g,d)),g=De(n,i),g!=null&&c.push(Ra(n,g,d))),n=n.return}return c}function Eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Tp(n,i,a,c,d){for(var g=i._reactName,_=[];a!==null&&a!==c;){var C=a,x=C.alternate,$=C.stateNode;if(x!==null&&x===c)break;C.tag===5&&$!==null&&(C=$,d?(x=De(a,g),x!=null&&_.unshift(Ra(a,x,C))):d||(x=De(a,g),x!=null&&_.push(Ra(a,x,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var P0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Ip(n){return(typeof n=="string"?n:""+n).replace(P0,`
`).replace(x0,"")}function ql(n,i,a){if(i=Ip(i),Ip(n)!==i&&a)throw Error(t(425))}function Kl(){}var eh=null,th=null;function nh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rh=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(n){return Sp.resolve(null).then(n).catch(b0)}:rh;function b0(n){setTimeout(function(){throw n})}function ih(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Vr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Vr(i)}function Xi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Rp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var To=Math.random().toString(36).slice(2),ni="__reactFiber$"+To,Ca="__reactProps$"+To,wi="__reactContainer$"+To,sh="__reactEvents$"+To,L0="__reactListeners$"+To,O0="__reactHandles$"+To;function Os(n){var i=n[ni];if(i)return i;for(var a=n.parentNode;a;){if(i=a[wi]||a[ni]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Rp(n);n!==null;){if(a=n[ni])return a;n=Rp(n)}return i}n=a,a=n.parentNode}return null}function ka(n){return n=n[ni]||n[wi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Io(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Gl(n){return n[Ca]||null}var oh=[],So=-1;function Ji(n){return{current:n}}function ut(n){0>So||(n.current=oh[So],oh[So]=null,So--)}function at(n,i){So++,oh[So]=n.current,n.current=i}var Zi={},_n=Ji(Zi),Un=Ji(!1),Vs=Zi;function Ro(n,i){var a=n.type.contextTypes;if(!a)return Zi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Bn(n){return n=n.childContextTypes,n!=null}function Ql(){ut(Un),ut(_n)}function Cp(n,i,a){if(_n.current!==Zi)throw Error(t(168));at(_n,i),at(Un,a)}function kp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Be(n)||"Unknown",d));return se({},a,c)}function Yl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zi,Vs=_n.current,at(_n,n),at(Un,Un.current),!0}function Ap(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=kp(n,i,Vs),c.__reactInternalMemoizedMergedChildContext=n,ut(Un),ut(_n),at(_n,n)):ut(Un),at(Un,a)}var Ei=null,Xl=!1,ah=!1;function Pp(n){Ei===null?Ei=[n]:Ei.push(n)}function V0(n){Xl=!0,Pp(n)}function es(){if(!ah&&Ei!==null){ah=!0;var n=0,i=$e;try{var a=Ei;for($e=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Ei=null,Xl=!1}catch(d){throw Ei!==null&&(Ei=Ei.slice(n+1)),Mn(en,es),d}finally{$e=i,ah=!1}}return null}var Co=[],ko=0,Jl=null,Zl=0,mr=[],gr=0,Ms=null,Ti=1,Ii="";function Fs(n,i){Co[ko++]=Zl,Co[ko++]=Jl,Jl=n,Zl=i}function xp(n,i,a){mr[gr++]=Ti,mr[gr++]=Ii,mr[gr++]=Ms,Ms=n;var c=Ti;n=Ii;var d=32-wt(c)-1;c&=~(1<<d),a+=1;var g=32-wt(i)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Ti=1<<32-wt(i)+d|a<<d|c,Ii=g+n}else Ti=1<<g|a<<d|c,Ii=n}function lh(n){n.return!==null&&(Fs(n,1),xp(n,1,0))}function uh(n){for(;n===Jl;)Jl=Co[--ko],Co[ko]=null,Zl=Co[--ko],Co[ko]=null;for(;n===Ms;)Ms=mr[--gr],mr[gr]=null,Ii=mr[--gr],mr[gr]=null,Ti=mr[--gr],mr[gr]=null}var tr=null,nr=null,dt=!1,jr=null;function Np(n,i){var a=wr(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Dp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,tr=n,nr=Xi(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,tr=n,nr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ms!==null?{id:Ti,overflow:Ii}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=wr(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,tr=n,nr=null,!0):!1;default:return!1}}function ch(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hh(n){if(dt){var i=nr;if(i){var a=i;if(!Dp(n,i)){if(ch(n))throw Error(t(418));i=Xi(a.nextSibling);var c=tr;i&&Dp(n,i)?Np(c,a):(n.flags=n.flags&-4097|2,dt=!1,tr=n)}}else{if(ch(n))throw Error(t(418));n.flags=n.flags&-4097|2,dt=!1,tr=n}}}function bp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;tr=n}function eu(n){if(n!==tr)return!1;if(!dt)return bp(n),dt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!nh(n.type,n.memoizedProps)),i&&(i=nr)){if(ch(n))throw Lp(),Error(t(418));for(;i;)Np(n,i),i=Xi(i.nextSibling)}if(bp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){nr=Xi(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}nr=null}}else nr=tr?Xi(n.stateNode.nextSibling):null;return!0}function Lp(){for(var n=nr;n;)n=Xi(n.nextSibling)}function Ao(){nr=tr=null,dt=!1}function dh(n){jr===null?jr=[n]:jr.push(n)}var M0=ue.ReactCurrentBatchConfig;function Aa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(_){var C=d.refs;_===null?delete C[g]:C[g]=_},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function tu(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Op(n){var i=n._init;return i(n._payload)}function Vp(n){function i(B,D){if(n){var z=B.deletions;z===null?(B.deletions=[D],B.flags|=16):z.push(D)}}function a(B,D){if(!n)return null;for(;D!==null;)i(B,D),D=D.sibling;return null}function c(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function d(B,D){return B=ls(B,D),B.index=0,B.sibling=null,B}function g(B,D,z){return B.index=z,n?(z=B.alternate,z!==null?(z=z.index,z<D?(B.flags|=2,D):z):(B.flags|=2,D)):(B.flags|=1048576,D)}function _(B){return n&&B.alternate===null&&(B.flags|=2),B}function C(B,D,z,ne){return D===null||D.tag!==6?(D=rd(z,B.mode,ne),D.return=B,D):(D=d(D,z),D.return=B,D)}function x(B,D,z,ne){var fe=z.type;return fe===N?X(B,D,z.props.children,ne,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ye&&Op(fe)===D.type)?(ne=d(D,z.props),ne.ref=Aa(B,D,z),ne.return=B,ne):(ne=Ru(z.type,z.key,z.props,null,B.mode,ne),ne.ref=Aa(B,D,z),ne.return=B,ne)}function $(B,D,z,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=id(z,B.mode,ne),D.return=B,D):(D=d(D,z.children||[]),D.return=B,D)}function X(B,D,z,ne,fe){return D===null||D.tag!==7?(D=qs(z,B.mode,ne,fe),D.return=B,D):(D=d(D,z),D.return=B,D)}function J(B,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=rd(""+D,B.mode,z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case xe:return z=Ru(D.type,D.key,D.props,null,B.mode,z),z.ref=Aa(B,null,D),z.return=B,z;case me:return D=id(D,B.mode,z),D.return=B,D;case Ye:var ne=D._init;return J(B,ne(D._payload),z)}if(It(D)||pe(D))return D=qs(D,B.mode,z,null),D.return=B,D;tu(B,D)}return null}function Y(B,D,z,ne){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return fe!==null?null:C(B,D,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case xe:return z.key===fe?x(B,D,z,ne):null;case me:return z.key===fe?$(B,D,z,ne):null;case Ye:return fe=z._init,Y(B,D,fe(z._payload),ne)}if(It(z)||pe(z))return fe!==null?null:X(B,D,z,ne,null);tu(B,z)}return null}function oe(B,D,z,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get(z)||null,C(D,B,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case xe:return B=B.get(ne.key===null?z:ne.key)||null,x(D,B,ne,fe);case me:return B=B.get(ne.key===null?z:ne.key)||null,$(D,B,ne,fe);case Ye:var ye=ne._init;return oe(B,D,z,ye(ne._payload),fe)}if(It(ne)||pe(ne))return B=B.get(z)||null,X(D,B,ne,fe,null);tu(D,ne)}return null}function he(B,D,z,ne){for(var fe=null,ye=null,_e=D,Se=D=0,Qt=null;_e!==null&&Se<z.length;Se++){_e.index>Se?(Qt=_e,_e=null):Qt=_e.sibling;var Xe=Y(B,_e,z[Se],ne);if(Xe===null){_e===null&&(_e=Qt);break}n&&_e&&Xe.alternate===null&&i(B,_e),D=g(Xe,D,Se),ye===null?fe=Xe:ye.sibling=Xe,ye=Xe,_e=Qt}if(Se===z.length)return a(B,_e),dt&&Fs(B,Se),fe;if(_e===null){for(;Se<z.length;Se++)_e=J(B,z[Se],ne),_e!==null&&(D=g(_e,D,Se),ye===null?fe=_e:ye.sibling=_e,ye=_e);return dt&&Fs(B,Se),fe}for(_e=c(B,_e);Se<z.length;Se++)Qt=oe(_e,B,Se,z[Se],ne),Qt!==null&&(n&&Qt.alternate!==null&&_e.delete(Qt.key===null?Se:Qt.key),D=g(Qt,D,Se),ye===null?fe=Qt:ye.sibling=Qt,ye=Qt);return n&&_e.forEach(function(us){return i(B,us)}),dt&&Fs(B,Se),fe}function de(B,D,z,ne){var fe=pe(z);if(typeof fe!="function")throw Error(t(150));if(z=fe.call(z),z==null)throw Error(t(151));for(var ye=fe=null,_e=D,Se=D=0,Qt=null,Xe=z.next();_e!==null&&!Xe.done;Se++,Xe=z.next()){_e.index>Se?(Qt=_e,_e=null):Qt=_e.sibling;var us=Y(B,_e,Xe.value,ne);if(us===null){_e===null&&(_e=Qt);break}n&&_e&&us.alternate===null&&i(B,_e),D=g(us,D,Se),ye===null?fe=us:ye.sibling=us,ye=us,_e=Qt}if(Xe.done)return a(B,_e),dt&&Fs(B,Se),fe;if(_e===null){for(;!Xe.done;Se++,Xe=z.next())Xe=J(B,Xe.value,ne),Xe!==null&&(D=g(Xe,D,Se),ye===null?fe=Xe:ye.sibling=Xe,ye=Xe);return dt&&Fs(B,Se),fe}for(_e=c(B,_e);!Xe.done;Se++,Xe=z.next())Xe=oe(_e,B,Se,Xe.value,ne),Xe!==null&&(n&&Xe.alternate!==null&&_e.delete(Xe.key===null?Se:Xe.key),D=g(Xe,D,Se),ye===null?fe=Xe:ye.sibling=Xe,ye=Xe);return n&&_e.forEach(function(gw){return i(B,gw)}),dt&&Fs(B,Se),fe}function Rt(B,D,z,ne){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case xe:e:{for(var fe=z.key,ye=D;ye!==null;){if(ye.key===fe){if(fe=z.type,fe===N){if(ye.tag===7){a(B,ye.sibling),D=d(ye,z.props.children),D.return=B,B=D;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ye&&Op(fe)===ye.type){a(B,ye.sibling),D=d(ye,z.props),D.ref=Aa(B,ye,z),D.return=B,B=D;break e}a(B,ye);break}else i(B,ye);ye=ye.sibling}z.type===N?(D=qs(z.props.children,B.mode,ne,z.key),D.return=B,B=D):(ne=Ru(z.type,z.key,z.props,null,B.mode,ne),ne.ref=Aa(B,D,z),ne.return=B,B=ne)}return _(B);case me:e:{for(ye=z.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(B,D.sibling),D=d(D,z.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else i(B,D);D=D.sibling}D=id(z,B.mode,ne),D.return=B,B=D}return _(B);case Ye:return ye=z._init,Rt(B,D,ye(z._payload),ne)}if(It(z))return he(B,D,z,ne);if(pe(z))return de(B,D,z,ne);tu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(B,D.sibling),D=d(D,z),D.return=B,B=D):(a(B,D),D=rd(z,B.mode,ne),D.return=B,B=D),_(B)):a(B,D)}return Rt}var Po=Vp(!0),Mp=Vp(!1),nu=Ji(null),ru=null,xo=null,fh=null;function ph(){fh=xo=ru=null}function mh(n){var i=nu.current;ut(nu),n._currentValue=i}function gh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function No(n,i){ru=n,fh=xo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(zn=!0),n.firstContext=null)}function vr(n){var i=n._currentValue;if(fh!==n)if(n={context:n,memoizedValue:i,next:null},xo===null){if(ru===null)throw Error(t(308));xo=n,ru.dependencies={lanes:0,firstContext:n}}else xo=xo.next=n;return i}var js=null;function vh(n){js===null?js=[n]:js.push(n)}function Fp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,vh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Si(n,c)}function Si(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ts=!1;function yh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ri(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ns(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Qe&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Si(n,a)}return d=c.interleaved,d===null?(i.next=i,vh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Si(n,a)}function iu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Hi(n,a)}}function Up(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function su(n,i,a,c){var d=n.updateQueue;ts=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,$=x.next;x.next=null,_===null?g=$:_.next=$,_=x;var X=n.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==_&&(C===null?X.firstBaseUpdate=$:C.next=$,X.lastBaseUpdate=x))}if(g!==null){var J=d.baseState;_=0,X=$=x=null,C=g;do{var Y=C.lane,oe=C.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=n,de=C;switch(Y=i,oe=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){J=he.call(oe,J,Y);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Y=typeof he=="function"?he.call(oe,J,Y):he,Y==null)break e;J=se({},J,Y);break e;case 2:ts=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[C]:Y.push(C))}else oe={eventTime:oe,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?($=X=oe,x=J):X=X.next=oe,_|=Y;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(x=J),d.baseState=x,d.firstBaseUpdate=$,d.lastBaseUpdate=X,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);zs|=_,n.lanes=_,n.memoizedState=J}}function Bp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Pa={},ri=Ji(Pa),xa=Ji(Pa),Na=Ji(Pa);function Us(n){if(n===Pa)throw Error(t(174));return n}function _h(n,i){switch(at(Na,i),at(xa,n),at(ri,Pa),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:et(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=et(i,n)}ut(ri),at(ri,i)}function Do(){ut(ri),ut(xa),ut(Na)}function zp(n){Us(Na.current);var i=Us(ri.current),a=et(i,n.type);i!==a&&(at(xa,n),at(ri,a))}function wh(n){xa.current===n&&(ut(ri),ut(xa))}var mt=Ji(0);function ou(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Eh=[];function Th(){for(var n=0;n<Eh.length;n++)Eh[n]._workInProgressVersionPrimary=null;Eh.length=0}var au=ue.ReactCurrentDispatcher,Ih=ue.ReactCurrentBatchConfig,Bs=0,gt=null,Vt=null,Kt=null,lu=!1,Da=!1,ba=0,F0=0;function wn(){throw Error(t(321))}function Sh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Fr(n[a],i[a]))return!1;return!0}function Rh(n,i,a,c,d,g){if(Bs=g,gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,au.current=n===null||n.memoizedState===null?z0:$0,n=a(c,d),Da){g=0;do{if(Da=!1,ba=0,25<=g)throw Error(t(301));g+=1,Kt=Vt=null,i.updateQueue=null,au.current=W0,n=a(c,d)}while(Da)}if(au.current=hu,i=Vt!==null&&Vt.next!==null,Bs=0,Kt=Vt=gt=null,lu=!1,i)throw Error(t(300));return n}function Ch(){var n=ba!==0;return ba=0,n}function ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?gt.memoizedState=Kt=n:Kt=Kt.next=n,Kt}function yr(){if(Vt===null){var n=gt.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var i=Kt===null?gt.memoizedState:Kt.next;if(i!==null)Kt=i,Vt=n;else{if(n===null)throw Error(t(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Kt===null?gt.memoizedState=Kt=n:Kt=Kt.next=n}return Kt}function La(n,i){return typeof i=="function"?i(n):i}function kh(n){var i=yr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Vt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var C=_=null,x=null,$=g;do{var X=$.lane;if((Bs&X)===X)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var J={lane:X,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(C=x=J,_=c):x=x.next=J,gt.lanes|=X,zs|=X}$=$.next}while($!==null&&$!==g);x===null?_=c:x.next=C,Fr(c,i.memoizedState)||(zn=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,gt.lanes|=g,zs|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ah(n){var i=yr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do g=n(g,_.action),_=_.next;while(_!==d);Fr(g,i.memoizedState)||(zn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function $p(){}function Wp(n,i){var a=gt,c=yr(),d=i(),g=!Fr(c.memoizedState,d);if(g&&(c.memoizedState=d,zn=!0),c=c.queue,Ph(Kp.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||Kt!==null&&Kt.memoizedState.tag&1){if(a.flags|=2048,Oa(9,qp.bind(null,a,c,d,i),void 0,null),Gt===null)throw Error(t(349));Bs&30||Hp(a,i,d)}return d}function Hp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=gt.updateQueue,i===null?(i={lastEffect:null,stores:null},gt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function qp(n,i,a,c){i.value=a,i.getSnapshot=c,Gp(i)&&Qp(n)}function Kp(n,i,a){return a(function(){Gp(i)&&Qp(n)})}function Gp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Fr(n,a)}catch{return!0}}function Qp(n){var i=Si(n,1);i!==null&&$r(i,n,1,-1)}function Yp(n){var i=ii();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:n},i.queue=n,n=n.dispatch=B0.bind(null,gt,n),[i.memoizedState,n]}function Oa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=gt.updateQueue,i===null?(i={lastEffect:null,stores:null},gt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Xp(){return yr().memoizedState}function uu(n,i,a,c){var d=ii();gt.flags|=n,d.memoizedState=Oa(1|i,a,void 0,c===void 0?null:c)}function cu(n,i,a,c){var d=yr();c=c===void 0?null:c;var g=void 0;if(Vt!==null){var _=Vt.memoizedState;if(g=_.destroy,c!==null&&Sh(c,_.deps)){d.memoizedState=Oa(i,a,g,c);return}}gt.flags|=n,d.memoizedState=Oa(1|i,a,g,c)}function Jp(n,i){return uu(8390656,8,n,i)}function Ph(n,i){return cu(2048,8,n,i)}function Zp(n,i){return cu(4,2,n,i)}function em(n,i){return cu(4,4,n,i)}function tm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function nm(n,i,a){return a=a!=null?a.concat([n]):null,cu(4,4,tm.bind(null,i,n),a)}function xh(){}function rm(n,i){var a=yr();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Sh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function im(n,i){var a=yr();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Sh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function sm(n,i,a){return Bs&21?(Fr(a,i)||(a=xs(),gt.lanes|=a,zs|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,zn=!0),n.memoizedState=a)}function j0(n,i){var a=$e;$e=a!==0&&4>a?a:4,n(!0);var c=Ih.transition;Ih.transition={};try{n(!1),i()}finally{$e=a,Ih.transition=c}}function om(){return yr().memoizedState}function U0(n,i,a){var c=os(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},am(n))lm(i,a);else if(a=Fp(n,i,a,c),a!==null){var d=Nn();$r(a,n,c,d),um(a,i,c)}}function B0(n,i,a){var c=os(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(am(n))lm(i,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var _=i.lastRenderedState,C=g(_,a);if(d.hasEagerState=!0,d.eagerState=C,Fr(C,_)){var x=i.interleaved;x===null?(d.next=d,vh(i)):(d.next=x.next,x.next=d),i.interleaved=d;return}}catch{}finally{}a=Fp(n,i,d,c),a!==null&&(d=Nn(),$r(a,n,c,d),um(a,i,c))}}function am(n){var i=n.alternate;return n===gt||i!==null&&i===gt}function lm(n,i){Da=lu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function um(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Hi(n,a)}}var hu={readContext:vr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},z0={readContext:vr,useCallback:function(n,i){return ii().memoizedState=[n,i===void 0?null:i],n},useContext:vr,useEffect:Jp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,uu(4194308,4,tm.bind(null,i,n),a)},useLayoutEffect:function(n,i){return uu(4194308,4,n,i)},useInsertionEffect:function(n,i){return uu(4,2,n,i)},useMemo:function(n,i){var a=ii();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=ii();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=U0.bind(null,gt,n),[c.memoizedState,n]},useRef:function(n){var i=ii();return n={current:n},i.memoizedState=n},useState:Yp,useDebugValue:xh,useDeferredValue:function(n){return ii().memoizedState=n},useTransition:function(){var n=Yp(!1),i=n[0];return n=j0.bind(null,n[1]),ii().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=gt,d=ii();if(dt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Gt===null)throw Error(t(349));Bs&30||Hp(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Jp(Kp.bind(null,c,g,n),[n]),c.flags|=2048,Oa(9,qp.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=ii(),i=Gt.identifierPrefix;if(dt){var a=Ii,c=Ti;a=(c&~(1<<32-wt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ba++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=F0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},$0={readContext:vr,useCallback:rm,useContext:vr,useEffect:Ph,useImperativeHandle:nm,useInsertionEffect:Zp,useLayoutEffect:em,useMemo:im,useReducer:kh,useRef:Xp,useState:function(){return kh(La)},useDebugValue:xh,useDeferredValue:function(n){var i=yr();return sm(i,Vt.memoizedState,n)},useTransition:function(){var n=kh(La)[0],i=yr().memoizedState;return[n,i]},useMutableSource:$p,useSyncExternalStore:Wp,useId:om,unstable_isNewReconciler:!1},W0={readContext:vr,useCallback:rm,useContext:vr,useEffect:Ph,useImperativeHandle:nm,useInsertionEffect:Zp,useLayoutEffect:em,useMemo:im,useReducer:Ah,useRef:Xp,useState:function(){return Ah(La)},useDebugValue:xh,useDeferredValue:function(n){var i=yr();return Vt===null?i.memoizedState=n:sm(i,Vt.memoizedState,n)},useTransition:function(){var n=Ah(La)[0],i=yr().memoizedState;return[n,i]},useMutableSource:$p,useSyncExternalStore:Wp,useId:om,unstable_isNewReconciler:!1};function Ur(n,i){if(n&&n.defaultProps){i=se({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Nh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var du={isMounted:function(n){return(n=n._reactInternals)?_t(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Nn(),d=os(n),g=Ri(c,d);g.payload=i,a!=null&&(g.callback=a),i=ns(n,g,d),i!==null&&($r(i,n,d,c),iu(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Nn(),d=os(n),g=Ri(c,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ns(n,g,d),i!==null&&($r(i,n,d,c),iu(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Nn(),c=os(n),d=Ri(a,c);d.tag=2,i!=null&&(d.callback=i),i=ns(n,d,c),i!==null&&($r(i,n,c,a),iu(i,n,c))}};function cm(n,i,a,c,d,g,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,_):i.prototype&&i.prototype.isPureReactComponent?!Ea(a,c)||!Ea(d,g):!0}function hm(n,i,a){var c=!1,d=Zi,g=i.contextType;return typeof g=="object"&&g!==null?g=vr(g):(d=Bn(i)?Vs:_n.current,c=i.contextTypes,g=(c=c!=null)?Ro(n,d):Zi),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=du,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),i}function dm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&du.enqueueReplaceState(i,i.state,null)}function Dh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},yh(n);var g=i.contextType;typeof g=="object"&&g!==null?d.context=vr(g):(g=Bn(i)?Vs:_n.current,d.context=Ro(n,g)),d.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Nh(n,i,g,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&du.enqueueReplaceState(d,d.state,null),su(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function bo(n,i){try{var a="",c=i;do a+=Te(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:d,digest:null}}function bh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Lh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function fm(n,i,a){a=Ri(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){_u||(_u=!0,Qh=c),Lh(n,i)},a}function pm(n,i,a){a=Ri(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Lh(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Lh(n,i),typeof c!="function"&&(is===null?is=new Set([this]):is.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function mm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new H0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=sw.bind(null,n,i,a),i.then(n,n))}function gm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function vm(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ri(-1,1),i.tag=2,ns(a,i,1))),a.lanes|=1),n)}var q0=ue.ReactCurrentOwner,zn=!1;function xn(n,i,a,c){i.child=n===null?Mp(i,null,a,c):Po(i,n.child,a,c)}function ym(n,i,a,c,d){a=a.render;var g=i.ref;return No(i,d),c=Rh(n,i,a,c,g,d),a=Ch(),n!==null&&!zn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ci(n,i,d)):(dt&&a&&lh(i),i.flags|=1,xn(n,i,c,d),i.child)}function _m(n,i,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!nd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,wm(n,i,g,c,d)):(n=Ru(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!(n.lanes&d)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ea,a(_,c)&&n.ref===i.ref)return Ci(n,i,d)}return i.flags|=1,n=ls(g,c),n.ref=i.ref,n.return=i,i.child=n}function wm(n,i,a,c,d){if(n!==null){var g=n.memoizedProps;if(Ea(g,c)&&n.ref===i.ref)if(zn=!1,i.pendingProps=c=g,(n.lanes&d)!==0)n.flags&131072&&(zn=!0);else return i.lanes=n.lanes,Ci(n,i,d)}return Oh(n,i,a,c,d)}function Em(n,i,a){var c=i.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Oo,rr),rr|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,at(Oo,rr),rr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,at(Oo,rr),rr|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,at(Oo,rr),rr|=c;return xn(n,i,d,a),i.child}function Tm(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Oh(n,i,a,c,d){var g=Bn(a)?Vs:_n.current;return g=Ro(i,g),No(i,d),a=Rh(n,i,a,c,g,d),c=Ch(),n!==null&&!zn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ci(n,i,d)):(dt&&c&&lh(i),i.flags|=1,xn(n,i,a,d),i.child)}function Im(n,i,a,c,d){if(Bn(a)){var g=!0;Yl(i)}else g=!1;if(No(i,d),i.stateNode===null)pu(n,i),hm(i,a,c),Dh(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,C=i.memoizedProps;_.props=C;var x=_.context,$=a.contextType;typeof $=="object"&&$!==null?$=vr($):($=Bn(a)?Vs:_n.current,$=Ro(i,$));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||x!==$)&&dm(i,_,c,$),ts=!1;var Y=i.memoizedState;_.state=Y,su(i,c,_,d),x=i.memoizedState,C!==c||Y!==x||Un.current||ts?(typeof X=="function"&&(Nh(i,a,X,c),x=i.memoizedState),(C=ts||cm(i,a,C,c,Y,x,$))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=x),_.props=c,_.state=x,_.context=$,c=C):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,jp(n,i),C=i.memoizedProps,$=i.type===i.elementType?C:Ur(i.type,C),_.props=$,J=i.pendingProps,Y=_.context,x=a.contextType,typeof x=="object"&&x!==null?x=vr(x):(x=Bn(a)?Vs:_n.current,x=Ro(i,x));var oe=a.getDerivedStateFromProps;(X=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==J||Y!==x)&&dm(i,_,c,x),ts=!1,Y=i.memoizedState,_.state=Y,su(i,c,_,d);var he=i.memoizedState;C!==J||Y!==he||Un.current||ts?(typeof oe=="function"&&(Nh(i,a,oe,c),he=i.memoizedState),($=ts||cm(i,a,$,c,Y,he,x)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,he,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,he,x)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=he),_.props=c,_.state=he,_.context=x,c=$):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return Vh(n,i,a,c,g,d)}function Vh(n,i,a,c,d,g){Tm(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Ap(i,a,!1),Ci(n,i,g);c=i.stateNode,q0.current=i;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Po(i,n.child,null,g),i.child=Po(i,null,C,g)):xn(n,i,C,g),i.memoizedState=c.state,d&&Ap(i,a,!0),i.child}function Sm(n){var i=n.stateNode;i.pendingContext?Cp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Cp(n,i.context,!1),_h(n,i.containerInfo)}function Rm(n,i,a,c,d){return Ao(),dh(d),i.flags|=256,xn(n,i,a,c),i.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Fh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Cm(n,i,a){var c=i.pendingProps,d=mt.current,g=!1,_=(i.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),at(mt,d&1),n===null)return hh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,g?(c=i.mode,g=i.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Cu(_,c,0,null),n=qs(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=Fh(a),i.memoizedState=Mh,n):jh(i,_));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return K0(n,i,_,c,C,d,a);if(g){g=c.fallback,_=i.mode,d=n.child,C=d.sibling;var x={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=x,i.deletions=null):(c=ls(d,x),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?g=ls(C,g):(g=qs(g,_,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,_=n.child.memoizedState,_=_===null?Fh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=n.childLanes&~a,i.memoizedState=Mh,c}return g=n.child,n=g.sibling,c=ls(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function jh(n,i){return i=Cu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function fu(n,i,a,c){return c!==null&&dh(c),Po(i,n.child,null,a),n=jh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function K0(n,i,a,c,d,g,_){if(a)return i.flags&256?(i.flags&=-257,c=bh(Error(t(422))),fu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,d=i.mode,c=Cu({mode:"visible",children:c.children},d,0,null),g=qs(g,d,_,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&Po(i,n.child,null,_),i.child.memoizedState=Fh(_),i.memoizedState=Mh,g);if(!(i.mode&1))return fu(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=bh(g,c,void 0),fu(n,i,_,c)}if(C=(_&n.childLanes)!==0,zn||C){if(c=Gt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Si(n,d),$r(c,n,d,-1))}return td(),c=bh(Error(t(421))),fu(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=ow.bind(null,n),d._reactRetry=i,null):(n=g.treeContext,nr=Xi(d.nextSibling),tr=i,dt=!0,jr=null,n!==null&&(mr[gr++]=Ti,mr[gr++]=Ii,mr[gr++]=Ms,Ti=n.id,Ii=n.overflow,Ms=i),i=jh(i,c.children),i.flags|=4096,i)}function km(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),gh(n.return,i,a)}function Uh(n,i,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Am(n,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(xn(n,i,c.children,a),c=mt.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&km(n,a,i);else if(n.tag===19)km(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(at(mt,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&ou(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Uh(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&ou(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Uh(i,!0,a,null,g);break;case"together":Uh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function pu(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ci(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),zs|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ls(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ls(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function G0(n,i,a){switch(i.tag){case 3:Sm(i),Ao();break;case 5:zp(i);break;case 1:Bn(i.type)&&Yl(i);break;case 4:_h(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;at(nu,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(at(mt,mt.current&1),i.flags|=128,null):a&i.child.childLanes?Cm(n,i,a):(at(mt,mt.current&1),n=Ci(n,i,a),n!==null?n.sibling:null);at(mt,mt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Am(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),at(mt,mt.current),c)break;return null;case 22:case 23:return i.lanes=0,Em(n,i,a)}return Ci(n,i,a)}var Pm,Bh,xm,Nm;Pm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bh=function(){},xm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Us(ri.current);var g=null;switch(a){case"input":d=Gn(n,d),c=Gn(n,c),g=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),g=[];break;case"textarea":d=Sr(n,d),c=Sr(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Kl)}ur(a,c);var _;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var C=d[$];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var x=c[$];if(C=d!=null?d[$]:void 0,c.hasOwnProperty($)&&x!==C&&(x!=null||C!=null))if($==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in x)x.hasOwnProperty(_)&&C[_]!==x[_]&&(a||(a={}),a[_]=x[_])}else a||(g||(g=[]),g.push($,a)),a=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&lt("scroll",n),g||C===x||(g=[])):(g=g||[]).push($,x))}a&&(g=g||[]).push("style",a);var $=g;(i.updateQueue=$)&&(i.flags|=4)}},Nm=function(n,i,a,c){a!==c&&(i.flags|=4)};function Va(n,i){if(!dt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function En(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Q0(n,i,a){var c=i.pendingProps;switch(uh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(i),null;case 1:return Bn(i.type)&&Ql(),En(i),null;case 3:return c=i.stateNode,Do(),ut(Un),ut(_n),Th(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(eu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,jr!==null&&(Jh(jr),jr=null))),Bh(n,i),En(i),null;case 5:wh(i);var d=Us(Na.current);if(a=i.type,n!==null&&i.stateNode!=null)xm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return En(i),null}if(n=Us(ri.current),eu(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[ni]=i,c[Ca]=g,n=(i.mode&1)!==0,a){case"dialog":lt("cancel",c),lt("close",c);break;case"iframe":case"object":case"embed":lt("load",c);break;case"video":case"audio":for(d=0;d<Ia.length;d++)lt(Ia[d],c);break;case"source":lt("error",c);break;case"img":case"image":case"link":lt("error",c),lt("load",c);break;case"details":lt("toggle",c);break;case"input":Ze(c,g),lt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},lt("invalid",c);break;case"textarea":fn(c,g),lt("invalid",c)}ur(a,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var C=g[_];_==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&ql(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&ql(c.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&lt("scroll",c)}switch(a){case"input":Dn(c),sr(c,g,!0);break;case"textarea":Dn(c),Cr(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Kl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=it(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[ni]=i,n[Ca]=c,Pm(n,i,!1,!1),i.stateNode=n;e:{switch(_=Ar(a,c),a){case"dialog":lt("cancel",n),lt("close",n),d=c;break;case"iframe":case"object":case"embed":lt("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ia.length;d++)lt(Ia[d],n);d=c;break;case"source":lt("error",n),d=c;break;case"img":case"image":case"link":lt("error",n),lt("load",n),d=c;break;case"details":lt("toggle",n),d=c;break;case"input":Ze(n,c),d=Gn(n,c),lt("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),lt("invalid",n);break;case"textarea":fn(n,c),d=Sr(n,c),lt("invalid",n);break;default:d=c}ur(a,d),C=d;for(g in C)if(C.hasOwnProperty(g)){var x=C[g];g==="style"?Gr(n,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&kr(n,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Qn(n,x):typeof x=="number"&&Qn(n,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&lt("scroll",n):x!=null&&ie(n,g,x,_))}switch(a){case"input":Dn(n),sr(n,c,!1);break;case"textarea":Dn(n),Cr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ne(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?Xt(n,!!c.multiple,g,!1):c.defaultValue!=null&&Xt(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Kl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return En(i),null;case 6:if(n&&i.stateNode!=null)Nm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Us(Na.current),Us(ri.current),eu(i)){if(c=i.stateNode,a=i.memoizedProps,c[ni]=i,(g=c.nodeValue!==a)&&(n=tr,n!==null))switch(n.tag){case 3:ql(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ql(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ni]=i,i.stateNode=c}return En(i),null;case 13:if(ut(mt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dt&&nr!==null&&i.mode&1&&!(i.flags&128))Lp(),Ao(),i.flags|=98560,g=!1;else if(g=eu(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ni]=i}else Ao(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;En(i),g=!1}else jr!==null&&(Jh(jr),jr=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||mt.current&1?Mt===0&&(Mt=3):td())),i.updateQueue!==null&&(i.flags|=4),En(i),null);case 4:return Do(),Bh(n,i),n===null&&Sa(i.stateNode.containerInfo),En(i),null;case 10:return mh(i.type._context),En(i),null;case 17:return Bn(i.type)&&Ql(),En(i),null;case 19:if(ut(mt),g=i.memoizedState,g===null)return En(i),null;if(c=(i.flags&128)!==0,_=g.rendering,_===null)if(c)Va(g,!1);else{if(Mt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=ou(n),_!==null){for(i.flags|=128,Va(g,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,n=_.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return at(mt,mt.current&1|2),i.child}n=n.sibling}g.tail!==null&&ze()>Vo&&(i.flags|=128,c=!0,Va(g,!1),i.lanes=4194304)}else{if(!c)if(n=ou(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Va(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!dt)return En(i),null}else 2*ze()-g.renderingStartTime>Vo&&a!==1073741824&&(i.flags|=128,c=!0,Va(g,!1),i.lanes=4194304);g.isBackwards?(_.sibling=i.child,i.child=_):(a=g.last,a!==null?a.sibling=_:i.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ze(),i.sibling=null,a=mt.current,at(mt,c?a&1|2:a&1),i):(En(i),null);case 22:case 23:return ed(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?rr&1073741824&&(En(i),i.subtreeFlags&6&&(i.flags|=8192)):En(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Y0(n,i){switch(uh(i),i.tag){case 1:return Bn(i.type)&&Ql(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Do(),ut(Un),ut(_n),Th(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return wh(i),null;case 13:if(ut(mt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ao()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ut(mt),null;case 4:return Do(),null;case 10:return mh(i.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var mu=!1,Tn=!1,X0=typeof WeakSet=="function"?WeakSet:Set,le=null;function Lo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Et(n,i,c)}else a.current=null}function zh(n,i,a){try{a()}catch(c){Et(n,i,c)}}var Dm=!1;function J0(n,i){if(eh=Gi,n=cp(),qc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,C=-1,x=-1,$=0,X=0,J=n,Y=null;t:for(;;){for(var oe;J!==a||d!==0&&J.nodeType!==3||(C=_+d),J!==g||c!==0&&J.nodeType!==3||(x=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(oe=J.firstChild)!==null;)Y=J,J=oe;for(;;){if(J===n)break t;if(Y===a&&++$===d&&(C=_),Y===g&&++X===c&&(x=_),(oe=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=oe}a=C===-1||x===-1?null:{start:C,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(th={focusedElem:n,selectionRange:a},Gi=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var he=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,Rt=he.memoizedState,B=i.stateNode,D=B.getSnapshotBeforeUpdate(i.elementType===i.type?de:Ur(i.type,de),Rt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){Et(i,i.return,ne)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return he=Dm,Dm=!1,he}function Ma(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&zh(i,a,g)}d=d.next}while(d!==c)}}function gu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function $h(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function bm(n){var i=n.alternate;i!==null&&(n.alternate=null,bm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[ni],delete i[Ca],delete i[sh],delete i[L0],delete i[O0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Lm(n){return n.tag===5||n.tag===3||n.tag===4}function Om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Lm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kl));else if(c!==4&&(n=n.child,n!==null))for(Wh(n,i,a),n=n.sibling;n!==null;)Wh(n,i,a),n=n.sibling}function Hh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Hh(n,i,a),n=n.sibling;n!==null;)Hh(n,i,a),n=n.sibling}var on=null,Br=!1;function rs(n,i,a){for(a=a.child;a!==null;)Vm(n,i,a),a=a.sibling}function Vm(n,i,a){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Lt,a)}catch{}switch(a.tag){case 5:Tn||Lo(a,i);case 6:var c=on,d=Br;on=null,rs(n,i,a),on=c,Br=d,on!==null&&(Br?(n=on,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):on.removeChild(a.stateNode));break;case 18:on!==null&&(Br?(n=on,a=a.stateNode,n.nodeType===8?ih(n.parentNode,a):n.nodeType===1&&ih(n,a),Vr(n)):ih(on,a.stateNode));break;case 4:c=on,d=Br,on=a.stateNode.containerInfo,Br=!0,rs(n,i,a),on=c,Br=d;break;case 0:case 11:case 14:case 15:if(!Tn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&zh(a,i,_),d=d.next}while(d!==c)}rs(n,i,a);break;case 1:if(!Tn&&(Lo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Et(a,i,C)}rs(n,i,a);break;case 21:rs(n,i,a);break;case 22:a.mode&1?(Tn=(c=Tn)||a.memoizedState!==null,rs(n,i,a),Tn=c):rs(n,i,a);break;default:rs(n,i,a)}}function Mm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new X0),i.forEach(function(c){var d=aw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function zr(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 5:on=C.stateNode,Br=!1;break e;case 3:on=C.stateNode.containerInfo,Br=!0;break e;case 4:on=C.stateNode.containerInfo,Br=!0;break e}C=C.return}if(on===null)throw Error(t(160));Vm(g,_,d),on=null,Br=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch($){Et(d,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Fm(i,n),i=i.sibling}function Fm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zr(i,n),si(n),c&4){try{Ma(3,n,n.return),gu(3,n)}catch(de){Et(n,n.return,de)}try{Ma(5,n,n.return)}catch(de){Et(n,n.return,de)}}break;case 1:zr(i,n),si(n),c&512&&a!==null&&Lo(a,a.return);break;case 5:if(zr(i,n),si(n),c&512&&a!==null&&Lo(a,a.return),n.flags&32){var d=n.stateNode;try{Qn(d,"")}catch(de){Et(n,n.return,de)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,_=a!==null?a.memoizedProps:g,C=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Kr(d,g),Ar(C,_);var $=Ar(C,g);for(_=0;_<x.length;_+=2){var X=x[_],J=x[_+1];X==="style"?Gr(d,J):X==="dangerouslySetInnerHTML"?kr(d,J):X==="children"?Qn(d,J):ie(d,X,J,$)}switch(C){case"input":dn(d,g);break;case"textarea":Rr(d,g);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?Xt(d,!!g.multiple,oe,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Xt(d,!!g.multiple,g.defaultValue,!0):Xt(d,!!g.multiple,g.multiple?[]:"",!1))}d[Ca]=g}catch(de){Et(n,n.return,de)}}break;case 6:if(zr(i,n),si(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(de){Et(n,n.return,de)}}break;case 3:if(zr(i,n),si(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Vr(i.containerInfo)}catch(de){Et(n,n.return,de)}break;case 4:zr(i,n),si(n);break;case 13:zr(i,n),si(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Gh=ze())),c&4&&Mm(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Tn=($=Tn)||X,zr(i,n),Tn=$):zr(i,n),si(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!X&&n.mode&1)for(le=n,X=n.child;X!==null;){for(J=le=X;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Ma(4,Y,Y.return);break;case 1:Lo(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(de){Et(c,a,de)}}break;case 5:Lo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Bm(J);continue}}oe!==null?(oe.return=Y,le=oe):Bm(J)}X=X.sibling}e:for(X=null,J=n;;){if(J.tag===5){if(X===null){X=J;try{d=J.stateNode,$?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=J.stateNode,x=J.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=Dt("display",_))}catch(de){Et(n,n.return,de)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=$?"":J.memoizedProps}catch(de){Et(n,n.return,de)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:zr(i,n),si(n),c&4&&Mm(n);break;case 21:break;default:zr(i,n),si(n)}}function si(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Lm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Qn(d,""),c.flags&=-33);var g=Om(n);Hh(n,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Om(n);Wh(n,C,_);break;default:throw Error(t(161))}}catch(x){Et(n,n.return,x)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Z0(n,i,a){le=n,jm(n)}function jm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||mu;if(!_){var C=d.alternate,x=C!==null&&C.memoizedState!==null||Tn;C=mu;var $=Tn;if(mu=_,(Tn=x)&&!$)for(le=d;le!==null;)_=le,x=_.child,_.tag===22&&_.memoizedState!==null?zm(d):x!==null?(x.return=_,le=x):zm(d);for(;g!==null;)le=g,jm(g),g=g.sibling;le=d,mu=C,Tn=$}Um(n)}else d.subtreeFlags&8772&&g!==null?(g.return=d,le=g):Um(n)}}function Um(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Tn||gu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Tn)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Ur(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Bp(i,g,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Bp(i,_,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var x=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var X=$.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&Vr(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tn||i.flags&512&&$h(i)}catch(Y){Et(i,i.return,Y)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function Bm(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function zm(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{gu(4,i)}catch(x){Et(i,a,x)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(x){Et(i,d,x)}}var g=i.return;try{$h(i)}catch(x){Et(i,g,x)}break;case 5:var _=i.return;try{$h(i)}catch(x){Et(i,_,x)}}}catch(x){Et(i,i.return,x)}if(i===n){le=null;break}var C=i.sibling;if(C!==null){C.return=i.return,le=C;break}le=i.return}}var ew=Math.ceil,vu=ue.ReactCurrentDispatcher,qh=ue.ReactCurrentOwner,_r=ue.ReactCurrentBatchConfig,Qe=0,Gt=null,xt=null,an=0,rr=0,Oo=Ji(0),Mt=0,Fa=null,zs=0,yu=0,Kh=0,ja=null,$n=null,Gh=0,Vo=1/0,ki=null,_u=!1,Qh=null,is=null,wu=!1,ss=null,Eu=0,Ua=0,Yh=null,Tu=-1,Iu=0;function Nn(){return Qe&6?ze():Tu!==-1?Tu:Tu=ze()}function os(n){return n.mode&1?Qe&2&&an!==0?an&-an:M0.transition!==null?(Iu===0&&(Iu=xs()),Iu):(n=$e,n!==0||(n=window.event,n=n===void 0?16:pa(n.type)),n):1}function $r(n,i,a,c){if(50<Ua)throw Ua=0,Yh=null,Error(t(185));Wi(n,a,c),(!(Qe&2)||n!==Gt)&&(n===Gt&&(!(Qe&2)&&(yu|=a),Mt===4&&as(n,an)),Wn(n,c),a===1&&Qe===0&&!(i.mode&1)&&(Vo=ze()+500,Xl&&es()))}function Wn(n,i){var a=n.callbackNode;mi(n,i);var c=Yr(n,n===Gt?an:0);if(c===0)a!==null&&Wt(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Wt(a),i===1)n.tag===0?V0(Wm.bind(null,n)):Pp(Wm.bind(null,n)),D0(function(){!(Qe&6)&&es()}),a=null;else{switch(qi(c)){case 1:a=en;break;case 4:a=Ht;break;case 16:a=ct;break;case 536870912:a=At;break;default:a=ct}a=Jm(a,$m.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function $m(n,i){if(Tu=-1,Iu=0,Qe&6)throw Error(t(327));var a=n.callbackNode;if(Mo()&&n.callbackNode!==a)return null;var c=Yr(n,n===Gt?an:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Su(n,c);else{i=c;var d=Qe;Qe|=2;var g=qm();(Gt!==n||an!==i)&&(ki=null,Vo=ze()+500,Ws(n,i));do try{rw();break}catch(C){Hm(n,C)}while(!0);ph(),vu.current=g,Qe=d,xt!==null?i=0:(Gt=null,an=0,i=Mt)}if(i!==0){if(i===2&&(d=Jn(n),d!==0&&(c=d,i=Xh(n,d))),i===1)throw a=Fa,Ws(n,0),as(n,c),Wn(n,ze()),a;if(i===6)as(n,c);else{if(d=n.current.alternate,!(c&30)&&!tw(d)&&(i=Su(n,c),i===2&&(g=Jn(n),g!==0&&(c=g,i=Xh(n,g))),i===1))throw a=Fa,Ws(n,0),as(n,c),Wn(n,ze()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Hs(n,$n,ki);break;case 3:if(as(n,c),(c&130023424)===c&&(i=Gh+500-ze(),10<i)){if(Yr(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Nn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=rh(Hs.bind(null,n,$n,ki),i);break}Hs(n,$n,ki);break;case 4:if(as(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-wt(c);g=1<<_,_=i[_],_>d&&(d=_),c&=~g}if(c=d,c=ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*ew(c/1960))-c,10<c){n.timeoutHandle=rh(Hs.bind(null,n,$n,ki),c);break}Hs(n,$n,ki);break;case 5:Hs(n,$n,ki);break;default:throw Error(t(329))}}}return Wn(n,ze()),n.callbackNode===a?$m.bind(null,n):null}function Xh(n,i){var a=ja;return n.current.memoizedState.isDehydrated&&(Ws(n,i).flags|=256),n=Su(n,i),n!==2&&(i=$n,$n=a,i!==null&&Jh(i)),n}function Jh(n){$n===null?$n=n:$n.push.apply($n,n)}function tw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Fr(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(n,i){for(i&=~Kh,i&=~yu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-wt(i),c=1<<a;n[a]=-1,i&=~c}}function Wm(n){if(Qe&6)throw Error(t(327));Mo();var i=Yr(n,0);if(!(i&1))return Wn(n,ze()),null;var a=Su(n,i);if(n.tag!==0&&a===2){var c=Jn(n);c!==0&&(i=c,a=Xh(n,c))}if(a===1)throw a=Fa,Ws(n,0),as(n,i),Wn(n,ze()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Hs(n,$n,ki),Wn(n,ze()),null}function Zh(n,i){var a=Qe;Qe|=1;try{return n(i)}finally{Qe=a,Qe===0&&(Vo=ze()+500,Xl&&es())}}function $s(n){ss!==null&&ss.tag===0&&!(Qe&6)&&Mo();var i=Qe;Qe|=1;var a=_r.transition,c=$e;try{if(_r.transition=null,$e=1,n)return n()}finally{$e=c,_r.transition=a,Qe=i,!(Qe&6)&&es()}}function ed(){rr=Oo.current,ut(Oo)}function Ws(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,N0(a)),xt!==null)for(a=xt.return;a!==null;){var c=a;switch(uh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ql();break;case 3:Do(),ut(Un),ut(_n),Th();break;case 5:wh(c);break;case 4:Do();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:mh(c.type._context);break;case 22:case 23:ed()}a=a.return}if(Gt=n,xt=n=ls(n.current,null),an=rr=i,Mt=0,Fa=null,Kh=yu=zs=0,$n=ja=null,js!==null){for(i=0;i<js.length;i++)if(a=js[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}a.pending=c}js=null}return n}function Hm(n,i){do{var a=xt;try{if(ph(),au.current=hu,lu){for(var c=gt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}lu=!1}if(Bs=0,Kt=Vt=gt=null,Da=!1,ba=0,qh.current=null,a===null||a.return===null){Mt=1,Fa=i,xt=null;break}e:{var g=n,_=a.return,C=a,x=i;if(i=an,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,X=C,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var oe=gm(_);if(oe!==null){oe.flags&=-257,vm(oe,_,C,g,i),oe.mode&1&&mm(g,$,i),i=oe,x=$;var he=i.updateQueue;if(he===null){var de=new Set;de.add(x),i.updateQueue=de}else he.add(x);break e}else{if(!(i&1)){mm(g,$,i),td();break e}x=Error(t(426))}}else if(dt&&C.mode&1){var Rt=gm(_);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),vm(Rt,_,C,g,i),dh(bo(x,C));break e}}g=x=bo(x,C),Mt!==4&&(Mt=2),ja===null?ja=[g]:ja.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var B=fm(g,x,i);Up(g,B);break e;case 1:C=x;var D=g.type,z=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(is===null||!is.has(z)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=pm(g,C,i);Up(g,ne);break e}}g=g.return}while(g!==null)}Gm(a)}catch(fe){i=fe,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function qm(){var n=vu.current;return vu.current=hu,n===null?hu:n}function td(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Gt===null||!(zs&268435455)&&!(yu&268435455)||as(Gt,an)}function Su(n,i){var a=Qe;Qe|=2;var c=qm();(Gt!==n||an!==i)&&(ki=null,Ws(n,i));do try{nw();break}catch(d){Hm(n,d)}while(!0);if(ph(),Qe=a,vu.current=c,xt!==null)throw Error(t(261));return Gt=null,an=0,Mt}function nw(){for(;xt!==null;)Km(xt)}function rw(){for(;xt!==null&&!xr();)Km(xt)}function Km(n){var i=Xm(n.alternate,n,rr);n.memoizedProps=n.pendingProps,i===null?Gm(n):xt=i,qh.current=null}function Gm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=Y0(a,i),a!==null){a.flags&=32767,xt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mt=6,xt=null;return}}else if(a=Q0(a,i,rr),a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);Mt===0&&(Mt=5)}function Hs(n,i,a){var c=$e,d=_r.transition;try{_r.transition=null,$e=1,iw(n,i,a,c)}finally{_r.transition=d,$e=c}return null}function iw(n,i,a,c){do Mo();while(ss!==null);if(Qe&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(ot(n,g),n===Gt&&(xt=Gt=null,an=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wu||(wu=!0,Jm(ct,function(){return Mo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=_r.transition,_r.transition=null;var _=$e;$e=1;var C=Qe;Qe|=4,qh.current=null,J0(n,a),Fm(a,n),S0(th),Gi=!!eh,th=eh=null,n.current=a,Z0(a),Nr(),Qe=C,$e=_,_r.transition=g}else n.current=a;if(wu&&(wu=!1,ss=n,Eu=d),g=n.pendingLanes,g===0&&(is=null),tn(a.stateNode),Wn(n,ze()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(_u)throw _u=!1,n=Qh,Qh=null,n;return Eu&1&&n.tag!==0&&Mo(),g=n.pendingLanes,g&1?n===Yh?Ua++:(Ua=0,Yh=n):Ua=0,es(),null}function Mo(){if(ss!==null){var n=qi(Eu),i=_r.transition,a=$e;try{if(_r.transition=null,$e=16>n?16:n,ss===null)var c=!1;else{if(n=ss,ss=null,Eu=0,Qe&6)throw Error(t(331));var d=Qe;for(Qe|=4,le=n.current;le!==null;){var g=le,_=g.child;if(le.flags&16){var C=g.deletions;if(C!==null){for(var x=0;x<C.length;x++){var $=C[x];for(le=$;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:Ma(8,X,g)}var J=X.child;if(J!==null)J.return=X,le=J;else for(;le!==null;){X=le;var Y=X.sibling,oe=X.return;if(bm(X),X===$){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var Rt=de.sibling;de.sibling=null,de=Rt}while(de!==null)}}le=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,le=_;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ma(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,le=B;break e}le=g.return}}var D=n.current;for(le=D;le!==null;){_=le;var z=_.child;if(_.subtreeFlags&2064&&z!==null)z.return=_,le=z;else e:for(_=D;le!==null;){if(C=le,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:gu(9,C)}}catch(fe){Et(C,C.return,fe)}if(C===_){le=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,le=ne;break e}le=C.return}}if(Qe=d,es(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Lt,n)}catch{}c=!0}return c}finally{$e=a,_r.transition=i}}return!1}function Qm(n,i,a){i=bo(a,i),i=fm(n,i,1),n=ns(n,i,1),i=Nn(),n!==null&&(Wi(n,1,i),Wn(n,i))}function Et(n,i,a){if(n.tag===3)Qm(n,n,a);else for(;i!==null;){if(i.tag===3){Qm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(is===null||!is.has(c))){n=bo(a,n),n=pm(i,n,1),i=ns(i,n,1),n=Nn(),i!==null&&(Wi(i,1,n),Wn(i,n));break}}i=i.return}}function sw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Nn(),n.pingedLanes|=n.suspendedLanes&a,Gt===n&&(an&a)===a&&(Mt===4||Mt===3&&(an&130023424)===an&&500>ze()-Gh?Ws(n,0):Kh|=a),Wn(n,i)}function Ym(n,i){i===0&&(n.mode&1?(i=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):i=1);var a=Nn();n=Si(n,i),n!==null&&(Wi(n,i,a),Wn(n,a))}function ow(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Ym(n,a)}function aw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Ym(n,a)}var Xm;Xm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Un.current)zn=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return zn=!1,G0(n,i,a);zn=!!(n.flags&131072)}else zn=!1,dt&&i.flags&1048576&&xp(i,Zl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;pu(n,i),n=i.pendingProps;var d=Ro(i,_n.current);No(i,a),d=Rh(null,i,c,n,d,a);var g=Ch();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Bn(c)?(g=!0,Yl(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yh(i),d.updater=du,i.stateNode=d,d._reactInternals=i,Dh(i,c,n,a),i=Vh(null,i,c,!0,g,a)):(i.tag=0,dt&&g&&lh(i),xn(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(pu(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=uw(c),n=Ur(c,n),d){case 0:i=Oh(null,i,c,n,a);break e;case 1:i=Im(null,i,c,n,a);break e;case 11:i=ym(null,i,c,n,a);break e;case 14:i=_m(null,i,c,Ur(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ur(c,d),Oh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ur(c,d),Im(n,i,c,d,a);case 3:e:{if(Sm(i),n===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,d=g.element,jp(n,i),su(i,c,null,a);var _=i.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=bo(Error(t(423)),i),i=Rm(n,i,c,a,d);break e}else if(c!==d){d=bo(Error(t(424)),i),i=Rm(n,i,c,a,d);break e}else for(nr=Xi(i.stateNode.containerInfo.firstChild),tr=i,dt=!0,jr=null,a=Mp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ao(),c===d){i=Ci(n,i,a);break e}xn(n,i,c,a)}i=i.child}return i;case 5:return zp(i),n===null&&hh(i),c=i.type,d=i.pendingProps,g=n!==null?n.memoizedProps:null,_=d.children,nh(c,d)?_=null:g!==null&&nh(c,g)&&(i.flags|=32),Tm(n,i),xn(n,i,_,a),i.child;case 6:return n===null&&hh(i),null;case 13:return Cm(n,i,a);case 4:return _h(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Po(i,null,c,a):xn(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ur(c,d),ym(n,i,c,d,a);case 7:return xn(n,i,i.pendingProps,a),i.child;case 8:return xn(n,i,i.pendingProps.children,a),i.child;case 12:return xn(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,g=i.memoizedProps,_=d.value,at(nu,c._currentValue),c._currentValue=_,g!==null)if(Fr(g.value,_)){if(g.children===d.children&&!Un.current){i=Ci(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var C=g.dependencies;if(C!==null){_=g.child;for(var x=C.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Ri(-1,a&-a),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var X=$.pending;X===null?x.next=x:(x.next=X.next,X.next=x),$.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),gh(g.return,a,i),C.lanes|=a;break}x=x.next}}else if(g.tag===10)_=g.type===i.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),gh(_,a,i),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}xn(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,No(i,a),d=vr(d),c=c(d),i.flags|=1,xn(n,i,c,a),i.child;case 14:return c=i.type,d=Ur(c,i.pendingProps),d=Ur(c.type,d),_m(n,i,c,d,a);case 15:return wm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ur(c,d),pu(n,i),i.tag=1,Bn(c)?(n=!0,Yl(i)):n=!1,No(i,a),hm(i,c,d),Dh(i,c,d,a),Vh(null,i,c,!0,n,a);case 19:return Am(n,i,a);case 22:return Em(n,i,a)}throw Error(t(156,i.tag))};function Jm(n,i){return Mn(n,i)}function lw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(n,i,a,c){return new lw(n,i,a,c)}function nd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function uw(n){if(typeof n=="function")return nd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===Ge)return 14}return 2}function ls(n,i){var a=n.alternate;return a===null?(a=wr(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Ru(n,i,a,c,d,g){var _=2;if(c=n,typeof n=="function")nd(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case N:return qs(a.children,d,g,i);case R:_=8,d|=8;break;case S:return n=wr(12,a,i,d|2),n.elementType=S,n.lanes=g,n;case A:return n=wr(13,a,i,d),n.elementType=A,n.lanes=g,n;case Je:return n=wr(19,a,i,d),n.elementType=Je,n.lanes=g,n;case He:return Cu(a,d,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:_=10;break e;case L:_=9;break e;case F:_=11;break e;case Ge:_=14;break e;case Ye:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=wr(_,a,i,d),i.elementType=n,i.type=c,i.lanes=g,i}function qs(n,i,a,c){return n=wr(7,n,c,i),n.lanes=a,n}function Cu(n,i,a,c){return n=wr(22,n,c,i),n.elementType=He,n.lanes=a,n.stateNode={isHidden:!1},n}function rd(n,i,a){return n=wr(6,n,null,i),n.lanes=a,n}function id(n,i,a){return i=wr(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function cw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function sd(n,i,a,c,d,g,_,C,x){return n=new cw(n,i,a,C,x),i===1?(i=1,g===!0&&(i|=8)):i=0,g=wr(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yh(g),n}function hw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Zm(n){if(!n)return Zi;n=n._reactInternals;e:{if(_t(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Bn(a))return kp(n,a,i)}return i}function eg(n,i,a,c,d,g,_,C,x){return n=sd(a,c,!0,n,d,g,_,C,x),n.context=Zm(null),a=n.current,c=Nn(),d=os(a),g=Ri(c,d),g.callback=i??null,ns(a,g,d),n.current.lanes=d,Wi(n,d,c),Wn(n,c),n}function ku(n,i,a,c){var d=i.current,g=Nn(),_=os(d);return a=Zm(a),i.context===null?i.context=a:i.pendingContext=a,i=Ri(g,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ns(d,i,_),n!==null&&($r(n,d,_,g),iu(n,d,_)),_}function Au(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function tg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function od(n,i){tg(n,i),(n=n.alternate)&&tg(n,i)}function dw(){return null}var ng=typeof reportError=="function"?reportError:function(n){console.error(n)};function ad(n){this._internalRoot=n}Pu.prototype.render=ad.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));ku(n,i,null,null)},Pu.prototype.unmount=ad.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;$s(function(){ku(null,n,null,null)}),i[wi]=null}};function Pu(n){this._internalRoot=n}Pu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Pl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,n),a===0&&Dl(n)}};function ld(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function rg(){}function fw(n,i,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var $=Au(_);g.call($)}}var _=eg(i,c,n,0,null,!1,!1,"",rg);return n._reactRootContainer=_,n[wi]=_.current,Sa(n.nodeType===8?n.parentNode:n),$s(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var $=Au(x);C.call($)}}var x=sd(n,0,!1,null,null,!1,!1,"",rg);return n._reactRootContainer=x,n[wi]=x.current,Sa(n.nodeType===8?n.parentNode:n),$s(function(){ku(i,x,a,c)}),x}function Nu(n,i,a,c,d){var g=a._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var C=d;d=function(){var x=Au(_);C.call(x)}}ku(i,_,n,d)}else _=fw(a,i,n,d,c);return Au(_)}kl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Dr(i.pendingLanes);a!==0&&(Hi(i,a|1),Wn(i,ze()),!(Qe&6)&&(Vo=ze()+500,es()))}break;case 13:$s(function(){var c=Si(n,1);if(c!==null){var d=Nn();$r(c,n,1,d)}}),od(n,1)}},oo=function(n){if(n.tag===13){var i=Si(n,134217728);if(i!==null){var a=Nn();$r(i,n,134217728,a)}od(n,134217728)}},Al=function(n){if(n.tag===13){var i=os(n),a=Si(n,i);if(a!==null){var c=Nn();$r(a,n,i,c)}od(n,i)}},Pl=function(){return $e},xl=function(n,i){var a=$e;try{return $e=n,i()}finally{$e=a}},Ce=function(n,i,a){switch(i){case"input":if(dn(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Gl(c);if(!d)throw Error(t(90));Kn(c),dn(c,d)}}}break;case"textarea":Rr(n,a);break;case"select":i=a.value,i!=null&&Xt(n,!!a.multiple,i,!1)}},Oe=Zh,Yn=$s;var pw={usingClientEntryPoint:!1,Events:[ka,Io,Gl,K,ge,Zh]},Ba={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mw={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vn(n),n===null?null:n.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||dw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Lt=Du.inject(mw),pt=Du}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pw,Hn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(i))throw Error(t(200));return hw(n,i,null,a)},Hn.createRoot=function(n,i){if(!ld(n))throw Error(t(299));var a=!1,c="",d=ng;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=sd(n,1,!1,null,null,a,!1,c,d),n[wi]=i.current,Sa(n.nodeType===8?n.parentNode:n),new ad(i)},Hn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Vn(i),n=n===null?null:n.stateNode,n},Hn.flushSync=function(n){return $s(n)},Hn.hydrate=function(n,i,a){if(!xu(i))throw Error(t(200));return Nu(null,n,i,!0,a)},Hn.hydrateRoot=function(n,i,a){if(!ld(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",_=ng;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=eg(i,null,n,1,a??null,d,!1,g,_),n[wi]=i.current,Sa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Pu(i)},Hn.render=function(n,i,a){if(!xu(i))throw Error(t(200));return Nu(null,n,i,!1,a)},Hn.unmountComponentAtNode=function(n){if(!xu(n))throw Error(t(40));return n._reactRootContainer?($s(function(){Nu(null,null,n,!1,function(){n._reactRootContainer=null,n[wi]=null})}),!0):!1},Hn.unstable_batchedUpdates=Zh,Hn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!xu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Nu(n,i,a,!1,c)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var hg;function Ov(){if(hg)return hd.exports;hg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hd.exports=Iw(),hd.exports}var dg;function Sw(){if(dg)return bu;dg=1;var r=Ov();return bu.createRoot=r.createRoot,bu.hydrateRoot=r.hydrateRoot,bu}var Rw=Sw(),$a={},fg;function Cw(){if(fg)return $a;fg=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.parse=h,$a.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function h(k,b){const j=new l,W=k.length;if(W<2)return j;const O=(b==null?void 0:b.decode)||w;let q=0;do{const ee=k.indexOf("=",q);if(ee===-1)break;const ie=k.indexOf(";",q),ue=ie===-1?W:ie;if(ee>ue){q=k.lastIndexOf(";",ee-1)+1;continue}const xe=f(k,q,ee),me=p(k,ee,xe),N=k.slice(xe,me);if(j[N]===void 0){let R=f(k,ee+1,ue),S=p(k,ue,R);const P=O(k.slice(R,S));j[N]=P}q=ue+1}while(q<W);return j}function f(k,b,j){do{const W=k.charCodeAt(b);if(W!==32&&W!==9)return b}while(++b<j);return j}function p(k,b,j){for(;b>j;){const W=k.charCodeAt(--b);if(W!==32&&W!==9)return b+1}return j}function v(k,b,j){const W=(j==null?void 0:j.encode)||encodeURIComponent;if(!r.test(k))throw new TypeError(`argument name is invalid: ${k}`);const O=W(b);if(!e.test(O))throw new TypeError(`argument val is invalid: ${b}`);let q=k+"="+O;if(!j)return q;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);q+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);q+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);q+="; Path="+j.path}if(j.expires){if(!T(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);q+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(q+="; HttpOnly"),j.secure&&(q+="; Secure"),j.partitioned&&(q+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return q}function w(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function T(k){return o.call(k)==="[object Date]"}return $a}Cw();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pg="popstate";function kw(r={}){function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return Pd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:tl(o)}return Pw(e,t,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ji(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aw(){return Math.random().toString(36).substring(2,10)}function mg(r,e){return{usr:r.state,key:r.key,idx:e}}function Pd(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||s||Aw()}}function tl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function na(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Pw(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f="POP",p=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function T(){f="POP";let O=w(),q=O==null?null:O-v;v=O,p&&p({action:f,location:W.location,delta:q})}function k(O,q){f="PUSH";let ee=Pd(W.location,O,q);v=w()+1;let ie=mg(ee,v),ue=W.createHref(ee);try{h.pushState(ie,"",ue)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;o.location.assign(ue)}l&&p&&p({action:f,location:W.location,delta:1})}function b(O,q){f="REPLACE";let ee=Pd(W.location,O,q);v=w();let ie=mg(ee,v),ue=W.createHref(ee);h.replaceState(ie,"",ue),l&&p&&p({action:f,location:W.location,delta:0})}function j(O){let q=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof O=="string"?O:tl(O);return ee=ee.replace(/ $/,"%20"),ft(q,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,q)}let W={get action(){return f},get location(){return r(o,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(pg,T),p=O,()=>{o.removeEventListener(pg,T),p=null}},createHref(O){return e(o,O)},createURL:j,encodeLocation(O){let q=j(O);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:k,replace:b,go(O){return h.go(O)}};return W}function Vv(r,e,t="/"){return xw(r,e,t,!1)}function xw(r,e,t,s){let o=typeof e=="string"?na(e):e,l=Ts(o.pathname||"/",t);if(l==null)return null;let h=Mv(r);Nw(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let v=zw(l);f=Uw(h[p],v,s)}return f}function Mv(r,e=[],t=[],s=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let v=Di([s,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Mv(l.children,e,w,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:Fw(v,l.index),routesMeta:w})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of Fv(l.path))o(l,h,p)}),e}function Fv(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Fv(s.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function Nw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:jw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Dw=/^:[\w-]+$/,bw=3,Lw=2,Ow=1,Vw=10,Mw=-2,gg=r=>r==="*";function Fw(r,e){let t=r.split("/"),s=t.length;return t.some(gg)&&(s+=Mw),e&&(s+=Lw),t.filter(o=>!gg(o)).reduce((o,l)=>o+(Dw.test(l)?bw:l===""?Ow:Vw),s)}function jw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Uw(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],v=f===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},w),k=p.route;if(!T&&v&&t&&!s[s.length-1].route.index&&(T=ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Di([l,T.pathname]),pathnameBase:qw(Di([l,T.pathnameBase])),route:k}),T.pathnameBase!=="/"&&(l=Di([l,T.pathnameBase]))}return h}function ec(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Bw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:T},k)=>{if(w==="*"){let j=f[k]||"";h=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=f[k];return T&&!b?v[w]=void 0:v[w]=(b||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function Bw(r,e=!1,t=!0){ji(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function $w(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?na(r):r;return{pathname:t?t.startsWith("/")?t:Ww(t,e):e,search:Kw(s),hash:Gw(o)}}function Ww(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function pd(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rf(r){let e=Hw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function sf(r,e,t,s=!1){let o;typeof r=="string"?o=na(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),pd("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),pd("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),pd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),T-=1;o.pathname=k.join("/")}f=T>=0?e[T]:"/"}let p=$w(o,f),v=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||w)&&(p.pathname+="/"),p}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),qw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Kw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Gw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Qw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var Yw=["GET",...jv];new Set(Yw);var ra=V.createContext(null);ra.displayName="DataRouter";var Ec=V.createContext(null);Ec.displayName="DataRouterState";var Uv=V.createContext({isTransitioning:!1});Uv.displayName="ViewTransition";var Xw=V.createContext(new Map);Xw.displayName="Fetchers";var Jw=V.createContext(null);Jw.displayName="Await";var qr=V.createContext(null);qr.displayName="Navigation";var fl=V.createContext(null);fl.displayName="Location";var fi=V.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var of=V.createContext(null);of.displayName="RouteError";function Zw(r,{relative:e}={}){ft(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=V.useContext(qr),{hash:o,pathname:l,search:h}=ml(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Di([t,l])),s.createHref({pathname:f,search:h,hash:o})}function ia(){return V.useContext(fl)!=null}function As(){return ft(ia(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(fl).location}var Bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(r){V.useContext(qr).static||V.useLayoutEffect(r)}function pl(){let{isDataRoute:r}=V.useContext(fi);return r?dE():eE()}function eE(){ft(ia(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(ra),{basename:e,navigator:t}=V.useContext(qr),{matches:s}=V.useContext(fi),{pathname:o}=As(),l=JSON.stringify(rf(s)),h=V.useRef(!1);return zv(()=>{h.current=!0}),V.useCallback((p,v={})=>{if(ji(h.current,Bv),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=sf(p,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Di([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,r])}V.createContext(null);function ml(r,{relative:e}={}){let{matches:t}=V.useContext(fi),{pathname:s}=As(),o=JSON.stringify(rf(t));return V.useMemo(()=>sf(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function tE(r,e){return $v(r,e)}function $v(r,e,t,s){var W;ft(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(qr),{matches:l}=V.useContext(fi),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let v=As(),w;if(e){let O=typeof e=="string"?na(e):e;ft(p==="/"||((W=O.pathname)==null?void 0:W.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),w=O}else w=v;let T=w.pathname||"/",k=T;if(p!=="/"){let O=p.replace(/^\//,"").split("/");k="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=Vv(r,{pathname:k}),j=oE(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Di([p,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Di([p,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,s);return e&&j?V.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function nE(){let r=hE(),e=Qw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,null)}var rE=V.createElement(nE,null),iE=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?V.createElement(fi.Provider,{value:this.props.routeContext},V.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sE({routeContext:r,match:e,children:t}){let s=V.useContext(ra);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(fi.Provider,{value:r},t)}function oE(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:w,errors:T}=t,k=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||k){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,v,w)=>{let T,k=!1,b=null,j=null;t&&(T=l&&v.route.id?l[v.route.id]:void 0,b=v.route.errorElement||rE,h&&(f<0&&w===0?(fE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):f===w&&(k=!0,j=v.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,w+1)),O=()=>{let q;return T?q=b:k?q=j:v.route.Component?q=V.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=p,V.createElement(sE,{match:v,routeContext:{outlet:p,matches:W,isDataRoute:t!=null},children:q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?V.createElement(iE,{location:t.location,revalidation:t.revalidation,component:b,error:T,children:O(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):O()},null)}function af(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aE(r){let e=V.useContext(ra);return ft(e,af(r)),e}function lE(r){let e=V.useContext(Ec);return ft(e,af(r)),e}function uE(r){let e=V.useContext(fi);return ft(e,af(r)),e}function lf(r){let e=uE(r),t=e.matches[e.matches.length-1];return ft(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function cE(){return lf("useRouteId")}function hE(){var s;let r=V.useContext(of),e=lE("useRouteError"),t=lf("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function dE(){let{router:r}=aE("useNavigate"),e=lf("useNavigate"),t=V.useRef(!1);return zv(()=>{t.current=!0}),V.useCallback(async(o,l={})=>{ji(t.current,Bv),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var vg={};function fE(r,e,t){vg[r]||(vg[r]=!0,ji(!1,t))}V.memo(pE);function pE({routes:r,future:e,state:t}){return $v(r,void 0,t,e)}function mE({to:r,replace:e,state:t,relative:s}){ft(ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(qr);ji(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(fi),{pathname:h}=As(),f=pl(),p=sf(r,rf(l),h,s==="path"),v=JSON.stringify(p);return V.useEffect(()=>{f(JSON.parse(v),{replace:e,state:t,relative:s})},[f,v,s,e,t]),null}function hs(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gE({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ft(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=na(t));let{pathname:p="/",search:v="",hash:w="",state:T=null,key:k="default"}=t,b=V.useMemo(()=>{let j=Ts(p,h);return j==null?null:{location:{pathname:j,search:v,hash:w,state:T,key:k},navigationType:s}},[h,p,v,w,T,k,s]);return ji(b!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:V.createElement(qr.Provider,{value:f},V.createElement(fl.Provider,{children:e,value:b}))}function vE({children:r,location:e}){return tE(xd(r),e)}function xd(r,e=[]){let t=[];return V.Children.forEach(r,(s,o)=>{if(!V.isValidElement(s))return;let l=[...e,o];if(s.type===V.Fragment){t.push.apply(t,xd(s.props.children,l));return}ft(s.type===hs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=xd(s.props.children,l)),t.push(h)}),t}var $u="get",Wu="application/x-www-form-urlencoded";function Tc(r){return r!=null&&typeof r.tagName=="string"}function yE(r){return Tc(r)&&r.tagName.toLowerCase()==="button"}function _E(r){return Tc(r)&&r.tagName.toLowerCase()==="form"}function wE(r){return Tc(r)&&r.tagName.toLowerCase()==="input"}function EE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TE(r,e){return r.button===0&&(!e||e==="_self")&&!EE(r)}var Lu=null;function IE(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var SE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function md(r){return r!=null&&!SE.has(r)?(ji(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):r}function RE(r,e){let t,s,o,l,h;if(_E(r)){let f=r.getAttribute("action");s=f?Ts(f,e):null,t=r.getAttribute("method")||$u,o=md(r.getAttribute("enctype"))||Wu,l=new FormData(r)}else if(yE(r)||wE(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?Ts(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||$u,o=md(r.getAttribute("formenctype"))||md(f.getAttribute("enctype"))||Wu,l=new FormData(f,r),!IE()){let{name:v,type:w,value:T}=r;if(w==="image"){let k=v?`${v}.`:"";l.append(`${k}x`,"0"),l.append(`${k}y`,"0")}else v&&l.append(v,T)}}else{if(Tc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$u,s=null,o=Wu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function uf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function CE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function AE(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await CE(l,t);return h.links?h.links():[]}return[]}));return DE(s.flat(1).filter(kE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yg(r,e,t,s,o,l){let h=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,f=(p,v)=>{var w;return t[v].pathname!==p.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,v)=>h(p,v)||f(p,v)):l==="data"?e.filter((p,v)=>{var T;let w=s.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,v)||f(p,v))return!0;if(p.route.shouldRevalidate){let k=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function PE(r,e){return xE(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function xE(r){return[...new Set(r)]}function NE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function DE(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(NE(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function bE(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LE(){let r=V.useContext(ra);return uf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OE(){let r=V.useContext(Ec);return uf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cf=V.createContext(void 0);cf.displayName="FrameworkContext";function Wv(){let r=V.useContext(cf);return uf(r,"You must render this element inside a <HydratedRouter> element"),r}function VE(r,e){let t=V.useContext(cf),[s,o]=V.useState(!1),[l,h]=V.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:v,onMouseLeave:w,onTouchStart:T}=e,k=V.useRef(null);V.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let W=q=>{q.forEach(ee=>{h(ee.isIntersecting)})},O=new IntersectionObserver(W,{threshold:.5});return k.current&&O.observe(k.current),()=>{O.disconnect()}}},[r]),V.useEffect(()=>{if(s){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[s]);let b=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,k,{}]:[l,k,{onFocus:Wa(f,b),onBlur:Wa(p,j),onMouseEnter:Wa(v,b),onMouseLeave:Wa(w,j),onTouchStart:Wa(T,b)}]:[!1,k,{}]}function Wa(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ME({page:r,...e}){let{router:t}=LE(),s=V.useMemo(()=>Vv(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?V.createElement(jE,{page:r,matches:s,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function FE(r){let{manifest:e,routeModules:t}=Wv(),[s,o]=V.useState([]);return V.useEffect(()=>{let l=!1;return AE(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function jE({page:r,matches:e,...t}){let s=As(),{manifest:o,routeModules:l}=Wv(),{loaderData:h,matches:f}=OE(),p=V.useMemo(()=>yg(r,e,f,o,s,"data"),[r,e,f,o,s]),v=V.useMemo(()=>yg(r,e,f,o,s,"assets"),[r,e,f,o,s]),w=V.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let b=new Set,j=!1;if(e.forEach(O=>{var ee;let q=o.routes[O.route.id];!q||!q.hasLoader||(!p.some(ie=>ie.route.id===O.route.id)&&O.route.id in h&&((ee=l[O.route.id])!=null&&ee.shouldRevalidate)||q.hasClientLoader?j=!0:b.add(O.route.id))}),b.size===0)return[];let W=bE(r);return j&&b.size>0&&W.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[W.pathname+W.search]},[h,s,o,p,e,r,l]),T=V.useMemo(()=>PE(v,o),[v,o]),k=FE(v);return V.createElement(V.Fragment,null,w.map(b=>V.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),T.map(b=>V.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),k.map(({key:b,link:j})=>V.createElement("link",{key:b,...j})))}function UE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hv&&(window.__reactRouterVersion="7.0.1")}catch{}function BE({basename:r,children:e,window:t}){let s=V.useRef();s.current==null&&(s.current=kw({window:t,v5Compat:!0}));let o=s.current,[l,h]=V.useState({action:o.action,location:o.location}),f=V.useCallback(p=>{V.startTransition(()=>h(p))},[h]);return V.useLayoutEffect(()=>o.listen(f),[o,f]),V.createElement(gE,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kv=V.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:v,preventScrollReset:w,viewTransition:T,...k},b){let{basename:j}=V.useContext(qr),W=typeof v=="string"&&qv.test(v),O,q=!1;if(typeof v=="string"&&W&&(O=v,Hv))try{let S=new URL(window.location.href),P=v.startsWith("//")?new URL(S.protocol+v):new URL(v),L=Ts(P.pathname,j);P.origin===S.origin&&L!=null?v=L+P.search+P.hash:q=!0}catch{ji(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Zw(v,{relative:o}),[ie,ue,xe]=VE(s,k),me=HE(v,{replace:h,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function N(S){e&&e(S),S.defaultPrevented||me(S)}let R=V.createElement("a",{...k,...xe,href:O||ee,onClick:q||l?e:N,ref:UE(b,ue),target:p,"data-discover":!W&&t==="render"?"true":void 0});return ie&&!W?V.createElement(V.Fragment,null,R,V.createElement(ME,{page:ee})):R});Kv.displayName="Link";var zE=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...v},w){let T=ml(h,{relative:v.relative}),k=As(),b=V.useContext(Ec),{navigator:j,basename:W}=V.useContext(qr),O=b!=null&&YE(T)&&f===!0,q=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ee=k.pathname,ie=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,q=q.toLowerCase()),ie&&W&&(ie=Ts(ie,W)||ie);const ue=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let xe=ee===q||!o&&ee.startsWith(q)&&ee.charAt(ue)==="/",me=ie!=null&&(ie===q||!o&&ie.startsWith(q)&&ie.charAt(q.length)==="/"),N={isActive:xe,isPending:me,isTransitioning:O},R=xe?e:void 0,S;typeof s=="function"?S=s(N):S=[s,xe?"active":null,me?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(N):l;return V.createElement(Kv,{...v,"aria-current":R,className:S,ref:w,style:P,to:h,viewTransition:f},typeof p=="function"?p(N):p)});zE.displayName="NavLink";var $E=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=$u,action:f,onSubmit:p,relative:v,preventScrollReset:w,viewTransition:T,...k},b)=>{let j=GE(),W=QE(f,{relative:v}),O=h.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&qv.test(f),ee=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,xe=(ue==null?void 0:ue.getAttribute("formmethod"))||h;j(ue||ie.currentTarget,{fetcherKey:e,method:xe,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:T})};return V.createElement("form",{ref:b,method:O,action:W,onSubmit:s?p:ee,...k,"data-discover":!q&&r==="render"?"true":void 0})});$E.displayName="Form";function WE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(r){let e=V.useContext(ra);return ft(e,WE(r)),e}function HE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=pl(),p=As(),v=ml(r,{relative:l});return V.useCallback(w=>{if(TE(w,e)){w.preventDefault();let T=t!==void 0?t:tl(p)===tl(v);f(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,v,t,s,e,r,o,l,h])}var qE=0,KE=()=>`__${String(++qE)}__`;function GE(){let{router:r}=Gv("useSubmit"),{basename:e}=V.useContext(qr),t=cE();return V.useCallback(async(s,o={})=>{let{action:l,method:h,encType:f,formData:p,body:v}=RE(s,e);if(o.navigate===!1){let w=o.fetcherKey||KE();await r.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function QE(r,{relative:e}={}){let{basename:t}=V.useContext(qr),s=V.useContext(fi);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ml(r||".",{relative:e})},h=As();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),tl(l)}function YE(r,e={}){let t=V.useContext(Uv);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gv("useViewTransitionState"),o=ml(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ts(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ts(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ec(o.pathname,h)!=null||ec(o.pathname,l)!=null}new TextEncoder;var XE=Ov(),_g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,v=p?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let k=(f&15)<<2|v>>6,b=v&63;p||(b=64,h||(k=64)),s.push(t[w],t[T],t[k],t[b])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Qv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new ZE;const k=l<<2|f>>4;if(s.push(k),v!==64){const b=f<<4&240|v>>2;if(s.push(b),T!==64){const j=v<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eT=function(r){const e=Qv(r);return Yv.encodeByteArray(e,!0)},tc=function(r){return eT(r).replace(/\./g,"")},Xv=function(r){try{return Yv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=()=>tT().__FIREBASE_DEFAULTS__,rT=()=>{if(typeof process>"u"||typeof _g>"u")return;const r=_g.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Xv(r[1]);return e&&JSON.parse(e)},Ic=()=>{try{return nT()||rT()||iT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Jv=r=>{var e,t;return(t=(e=Ic())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},sT=r=>{const e=Jv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Zv=()=>{var r;return(r=Ic())===null||r===void 0?void 0:r.config},ey=r=>{var e;return(e=Ic())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[tc(JSON.stringify(t)),tc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function uT(){var r;const e=(r=Ic())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fT(){const r=Cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pT(){return!uT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="FirebaseError";class Ui extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=vT,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?yT(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Ui(o,f,s)}}function yT(r,e){return r.replace(_T,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _T=/\{\$([^}]+)}/g;function wT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function nc(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(wg(l)&&wg(h)){if(!nc(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ha(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function qa(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function ET(r,e){const t=new TT(r,e);return t.subscribe.bind(t)}class TT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");IT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=gd),o.error===void 0&&(o.error=gd),o.complete===void 0&&(o.complete=gd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new oT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CT(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RT(r){return r===Ks?void 0:r}function CT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ST(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const AT={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},PT=je.INFO,xT={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},NT=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xT[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hf{constructor(e){this.name=e,this._logLevel=PT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const DT=(r,e)=>e.some(t=>r instanceof t);let Eg,Tg;function bT(){return Eg||(Eg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LT(){return Tg||(Tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ty=new WeakMap,Nd=new WeakMap,ny=new WeakMap,vd=new WeakMap,df=new WeakMap;function OT(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ys(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ty.set(t,r)}).catch(()=>{}),df.set(e,r),e}function VT(r){if(Nd.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Nd.set(r,e)}let Dd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Nd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ny.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function MT(r){Dd=r(Dd)}function FT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(yd(this),e,...t);return ny.set(s,e.sort?e.sort():[e]),ys(s)}:LT().includes(r)?function(...e){return r.apply(yd(this),e),ys(ty.get(this))}:function(...e){return ys(r.apply(yd(this),e))}}function jT(r){return typeof r=="function"?FT(r):(r instanceof IDBTransaction&&VT(r),DT(r,bT())?new Proxy(r,Dd):r)}function ys(r){if(r instanceof IDBRequest)return OT(r);if(vd.has(r))return vd.get(r);const e=jT(r);return e!==r&&(vd.set(r,e),df.set(e,r)),e}const yd=r=>df.get(r);function UT(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=ys(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ys(h.result),p.oldVersion,p.newVersion,ys(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const BT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],_d=new Map;function Ig(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_d.get(e))return _d.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=zT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||BT.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&p.done]))[0]};return _d.set(e,l),l}MT(r=>({...r,get:(e,t,s)=>Ig(e,t)||r.get(e,t,s),has:(e,t)=>!!Ig(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function WT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bd="@firebase/app",Sg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new hf("@firebase/app"),HT="@firebase/app-compat",qT="@firebase/analytics-compat",KT="@firebase/analytics",GT="@firebase/app-check-compat",QT="@firebase/app-check",YT="@firebase/auth",XT="@firebase/auth-compat",JT="@firebase/database",ZT="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",rI="@firebase/installations",iI="@firebase/installations-compat",sI="@firebase/messaging",oI="@firebase/messaging-compat",aI="@firebase/performance",lI="@firebase/performance-compat",uI="@firebase/remote-config",cI="@firebase/remote-config-compat",hI="@firebase/storage",dI="@firebase/storage-compat",fI="@firebase/firestore",pI="@firebase/vertexai",mI="@firebase/firestore-compat",gI="firebase",vI="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",yI={[bd]:"fire-core",[HT]:"fire-core-compat",[KT]:"fire-analytics",[qT]:"fire-analytics-compat",[QT]:"fire-app-check",[GT]:"fire-app-check-compat",[YT]:"fire-auth",[XT]:"fire-auth-compat",[JT]:"fire-rtdb",[ZT]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[rI]:"fire-iid",[iI]:"fire-iid-compat",[sI]:"fire-fcm",[oI]:"fire-fcm-compat",[aI]:"fire-perf",[lI]:"fire-perf-compat",[uI]:"fire-rc",[cI]:"fire-rc-compat",[hI]:"fire-gcs",[dI]:"fire-gcs-compat",[fI]:"fire-fst",[mI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[gI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,_I=new Map,Od=new Map;function Rg(r,e){try{r.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Go(r){const e=r.name;if(Od.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Od.set(e,r);for(const t of rc.values())Rg(t,r);for(const t of _I.values())Rg(t,r);return!0}function ff(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function oi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new gl("app","Firebase",wI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=vI;function ry(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=Zv()),!t)throw _s.create("no-options");const l=rc.get(o);if(l){if(nc(t,l.options)&&nc(s,l.config))return l;throw _s.create("duplicate-app",{appName:o})}const h=new kT(o);for(const p of Od.values())h.addComponent(p);const f=new EI(t,s,h);return rc.set(o,f),f}function iy(r=Ld){const e=rc.get(r);if(!e&&r===Ld&&Zv())return ry();if(!e)throw _s.create("no-app",{appName:r});return e}function ws(r,e,t){var s;let o=(s=yI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(f.join(" "));return}Go(new Js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebase-heartbeat-database",II=1,nl="firebase-heartbeat-store";let wd=null;function sy(){return wd||(wd=UT(TI,II,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nl)}catch(t){console.warn(t)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),wd}async function SI(r){try{const t=(await sy()).transaction(nl),s=await t.objectStore(nl).get(oy(r));return await t.done,s}catch(e){if(e instanceof Ui)Oi.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(t.message)}}}async function Cg(r,e){try{const s=(await sy()).transaction(nl,"readwrite");await s.objectStore(nl).put(e,oy(r)),await s.done}catch(t){if(t instanceof Ui)Oi.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oi.warn(s.message)}}}function oy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1024,CI=30*24*60*60*1e3;class kI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=kg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=CI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kg(),{heartbeatsToSend:s,unsentEntries:o}=AI(this._heartbeatsCache.heartbeats),l=tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Oi.warn(t),""}}}function kg(){return new Date().toISOString().substring(0,10)}function AI(r,e=RI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ag(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ag(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ag(r){return tc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){Go(new Js("platform-logger",e=>new $T(e),"PRIVATE")),Go(new Js("heartbeat",e=>new kI(e),"PRIVATE")),ws(bd,Sg,r),ws(bd,Sg,"esm2017"),ws("fire-js","")}xI("");function pf(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function ay(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NI=ay,ly=new gl("auth","Firebase",ay());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new hf("@firebase/auth");function DI(r,...e){ic.logLevel<=je.WARN&&ic.warn(`Auth (${sa}): ${r}`,...e)}function Hu(r,...e){ic.logLevel<=je.ERROR&&ic.error(`Auth (${sa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,...e){throw mf(r,...e)}function ai(r,...e){return mf(r,...e)}function uy(r,e,t){const s=Object.assign(Object.assign({},NI()),{[e]:t});return new gl("auth","Firebase",s).create(e,{appName:r.name})}function bi(r){return uy(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mf(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return ly.create(r,...e)}function Ie(r,e,...t){if(!r)throw mf(e,...t)}function Pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hu(e),new Error(e)}function Vi(r,e){r||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function bI(){return Pg()==="http:"||Pg()==="https:"}function Pg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bI()||hT()||"connection"in navigator)?navigator.onLine:!0}function OI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=lT()||dT()}get(){return LI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new yl(3e4,6e4);function Bi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function zi(r,e,t,s,o={}){return hy(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=vl(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:p},l);return cT()||(v.referrerPolicy="no-referrer"),cy.fetch()(dy(r,r.config.apiHost,t,f),v)})}async function hy(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},VI),e);try{const o=new jI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Ou(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,v]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Ou(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Ou(r,"user-disabled",h);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw uy(r,w,v);Hr(r,w)}}catch(o){if(o instanceof Ui)throw o;Hr(r,"network-request-failed",{message:String(o)})}}async function _l(r,e,t,s,o={}){const l=await zi(r,e,t,s,o);return"mfaPendingCredential"in l&&Hr(r,"multi-factor-auth-required",{_serverResponse:l}),l}function dy(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?gf(r.config,o):`${r.config.apiScheme}://${o}`}function FI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),MI.get())})}}function Ou(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ai(r,e,s);return o.customData._tokenResponse=t,o}function xg(r){return r!==void 0&&r.enterprise!==void 0}class UI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BI(r,e){return zi(r,"GET","/v2/recaptchaConfig",Bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,e){return zi(r,"POST","/v1/accounts:delete",e)}async function fy(r,e){return zi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $I(r,e=!1){const t=ir(r),s=await t.getIdToken(e),o=vf(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Ya(Ed(o.auth_time)),issuedAtTime:Ya(Ed(o.iat)),expirationTime:Ya(Ed(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ed(r){return Number(r)*1e3}function vf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xv(t);return o?JSON.parse(o):(Hu("Failed to decode base64 JWT payload"),null)}catch(o){return Hu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ng(r){const e=vf(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ui&&WI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(r){var e;const t=r.auth,s=await r.getIdToken(),o=await rl(r,fy(t,{idToken:s}));Ie(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?py(l.providerUserInfo):[],f=KI(r.providerData,h),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),w=p?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Md(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,T)}async function qI(r){const e=ir(r);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function py(r){return r.map(e=>{var{providerId:t}=e,s=pf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,e){const t=await hy(r,{},async()=>{const s=vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=dy(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",cy.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QI(r,e){return zi(r,"POST","/v2/accounts:revokeToken",Bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ng(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Ng(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await GI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Wo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Md(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await rl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $I(this,e)}reload(){return qI(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await sc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await rl(this,zI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,p,v,w;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,k=(o=t.email)!==null&&o!==void 0?o:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,j=(h=t.photoURL)!==null&&h!==void 0?h:void 0,W=(f=t.tenantId)!==null&&f!==void 0?f:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ee=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:ie,emailVerified:ue,isAnonymous:xe,providerData:me,stsTokenManager:N}=t;Ie(ie&&N,e,"internal-error");const R=Wo.fromJSON(this.name,N);Ie(typeof ie=="string",e,"internal-error"),cs(T,e.name),cs(k,e.name),Ie(typeof ue=="boolean",e,"internal-error"),Ie(typeof xe=="boolean",e,"internal-error"),cs(b,e.name),cs(j,e.name),cs(W,e.name),cs(O,e.name),cs(q,e.name),cs(ee,e.name);const S=new xi({uid:ie,auth:e,email:k,emailVerified:ue,displayName:T,isAnonymous:xe,photoURL:j,phoneNumber:b,tenantId:W,stsTokenManager:R,createdAt:q,lastLoginAt:ee});return me&&Array.isArray(me)&&(S.providerData=me.map(P=>Object.assign({},P))),O&&(S._redirectEventId=O),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new Wo;o.updateFromServerResponse(t);const l=new xi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await sc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?py(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Wo;f.updateFromIdToken(s);const p=new xi({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Md(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Map;function Ni(r){Vi(r instanceof Function,"Expected a class definition");let e=Dg.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Dg.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}my.type="NONE";const bg=my;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r,e,t){return`firebase:${r}:${e}:${t}`}class Ho{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=qu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ho(Ni(bg),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Ni(bg);const h=qu(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(h);if(w){const T=xi._fromJSON(e,w);v!==l&&(f=T),l=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ho(l,e,s):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new Ho(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_y(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ey(e))return"Blackberry";if(Ty(e))return"Webos";if(vy(e))return"Safari";if((e.includes("chrome/")||yy(e))&&!e.includes("edge/"))return"Chrome";if(wy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gy(r=Cn()){return/firefox\//i.test(r)}function vy(r=Cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yy(r=Cn()){return/crios\//i.test(r)}function _y(r=Cn()){return/iemobile/i.test(r)}function wy(r=Cn()){return/android/i.test(r)}function Ey(r=Cn()){return/blackberry/i.test(r)}function Ty(r=Cn()){return/webos/i.test(r)}function yf(r=Cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YI(r=Cn()){var e;return yf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XI(){return fT()&&document.documentMode===10}function Iy(r=Cn()){return yf(r)||wy(r)||Ty(r)||Ey(r)||/windows phone/i.test(r)||_y(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(r,e=[]){let t;switch(r){case"Browser":t=Lg(Cn());break;case"Worker":t=`${Lg(Cn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e={}){return zi(r,"GET","/v2/passwordPolicy",Bi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=6;class t1{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:e1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Og(this),this.idTokenSubscription=new Og(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ly,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fy(this,{idToken:e}),s=await xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(bi(this));const t=e?ir(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZI(this),t=new t1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await QI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&DI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ps(r){return ir(r)}class Og{constructor(e){this.auth=e,this.observer=null,this.addObserver=ET(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r1(r){Sc=r}function Ry(r){return Sc.loadJS(r)}function i1(){return Sc.recaptchaEnterpriseScript}function s1(){return Sc.gapiScript}function o1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class a1{constructor(){this.enterprise=new l1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class l1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const u1="recaptcha-enterprise",Cy="NO_RECAPTCHA";class c1{constructor(e){this.type=u1,this.auth=Ps(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{BI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new UI(p);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,h(v.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;xg(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(v=>{h(v)}).catch(()=>{h(Cy)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new a1().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&xg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=i1();p.length!==0&&(p+=f),Ry(p).then(()=>{o(f,l,h)}).catch(v=>{h(v)})}}).catch(f=>{h(f)})})}}async function Vg(r,e,t,s=!1,o=!1){const l=new c1(r);let h;if(o)h=Cy;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function oc(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Vg(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Vg(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r,e){const t=ff(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(nc(l,e??{}))return o;Hr(o,"already-initialized")}return t.initialize({options:e})}function d1(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function f1(r,e,t){const s=Ps(r);Ie(s._canInitEmulator,s,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=ky(e),{host:h,port:f}=p1(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),m1()}function ky(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function p1(r){const e=ky(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Mg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Mg(h)}}}function Mg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function m1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function g1(r,e){return zi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,e){return _l(r,"POST","/v1/accounts:signInWithPassword",Bi(r,e))}async function y1(r,e){return zi(r,"POST","/v1/accounts:sendOobCode",Bi(r,e))}async function _1(r,e){return y1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(r,e){return _l(r,"POST","/v1/accounts:signInWithEmailLink",Bi(r,e))}async function E1(r,e){return _l(r,"POST","/v1/accounts:signInWithEmailLink",Bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends _f{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new il(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new il(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oc(e,t,"signInWithPassword",v1);case"emailLink":return w1(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oc(e,s,"signUpPassword",g1);case"emailLink":return E1(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r,e){return _l(r,"POST","/v1/accounts:signInWithIdp",Bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="http://localhost";class Zs extends _f{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=pf(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Zs(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:T1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S1(r){const e=Ha(qa(r)).link,t=e?Ha(qa(e)).deep_link_id:null,s=Ha(qa(r)).deep_link_id;return(s?Ha(qa(s)).link:null)||s||t||e||r}class wf{constructor(e){var t,s,o,l,h,f;const p=Ha(qa(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(s=p.oobCode)!==null&&s!==void 0?s:null,T=I1((o=p.mode)!==null&&o!==void 0?o:null);Ie(v&&w&&T,"argument-error"),this.apiKey=v,this.operation=T,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=S1(e);try{return new wf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return il._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=wf.parseLink(t);return Ie(s,"argument-error"),il._fromEmailAndCode(e,s.code,s.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends wl{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wl{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wl{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return gs.credential(t,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,e){return _l(r,"POST","/v1/accounts:signUp",Bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await xi._fromIdTokenResponse(e,s,o),h=Fg(s);return new eo({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Fg(s);return new eo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Fg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Ui{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ac(e,t,s,o)}}function Py(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(r,l,e,s):l})}async function C1(r,e,t=!1){const s=await rl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return eo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(r,e,t=!1){const{auth:s}=r;if(oi(s.app))return Promise.reject(bi(s));const o="reauthenticate";try{const l=await rl(r,Py(s,o,e,r),t);Ie(l.idToken,s,"internal-error");const h=vf(l.idToken);Ie(h,s,"internal-error");const{sub:f}=h;return Ie(r.uid===f,s,"user-mismatch"),eo._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Hr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xy(r,e,t=!1){if(oi(r.app))return Promise.reject(bi(r));const s="signIn",o=await Py(r,s,e),l=await eo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function A1(r,e){return xy(Ps(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(r){const e=Ps(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P1(r,e,t){const s=Ps(r);await oc(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_1)}async function x1(r,e,t){if(oi(r.app))return Promise.reject(bi(r));const s=Ps(r),h=await oc(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ny(r),p}),f=await eo._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function N1(r,e,t){return oi(r.app)?Promise.reject(bi(r)):A1(ir(r),oa.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ny(r),s})}function D1(r,e,t,s){return ir(r).onIdTokenChanged(e,t,s)}function b1(r,e,t){return ir(r).beforeAuthStateChanged(e,t)}function L1(r,e,t,s){return ir(r).onAuthStateChanged(e,t,s)}function Dy(r){return ir(r).signOut()}const lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=1e3,V1=10;class Ly extends by{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Iy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);XI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,V1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},O1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ly.type="LOCAL";const M1=Ly;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends by{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Oy.type="SESSION";const Vy=Oy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Rc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),p=await F1(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const v=Ef("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const k=T;if(k.data.eventId===v)switch(k.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(k.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function U1(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function B1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function $1(){return My()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="firebaseLocalStorageDb",W1=1,uc="firebaseLocalStorage",jy="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cc(r,e){return r.transaction([uc],e?"readwrite":"readonly").objectStore(uc)}function H1(){const r=indexedDB.deleteDatabase(Fy);return new El(r).toPromise()}function Fd(){const r=indexedDB.open(Fy,W1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uc,{keyPath:jy})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uc)?e(s):(s.close(),await H1(),e(await Fd()))})})}async function jg(r,e,t){const s=Cc(r,!0).put({[jy]:e,value:t});return new El(s).toPromise()}async function q1(r,e){const t=Cc(r,!1).get(e),s=await new El(t).toPromise();return s===void 0?null:s.value}function Ug(r,e){const t=Cc(r,!0).delete(e);return new El(t).toPromise()}const K1=800,G1=3;class Uy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>G1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return My()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rc._getInstance($1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await B1(),!this.activeServiceWorker)return;this.sender=new j1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fd();return await jg(e,lc,"1"),await Ug(e,lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>jg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>q1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ug(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Cc(o,!1).getAll();return new El(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uy.type="LOCAL";const Q1=Uy;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,e){return e?Ni(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends _f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function X1(r){return xy(r.auth,new Tf(r),r.bypassAuthState)}function J1(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),k1(t,new Tf(r),r.bypassAuthState)}async function Z1(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),C1(t,new Tf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X1;case"linkViaPopup":case"linkViaRedirect":return Z1;case"reauthViaPopup":case"reauthViaRedirect":return J1;default:Hr(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new yl(2e3,1e4);class $o extends By{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Ef();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eS.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="pendingRedirect",Ku=new Map;class nS extends By{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const s=await rS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rS(r,e){const t=oS(e),s=sS(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function iS(r,e){Ku.set(r._key(),e)}function sS(r){return Ni(r._redirectPersistence)}function oS(r){return qu(tS,r.config.apiKey,r.name)}async function aS(r,e,t=!1){if(oi(r.app))return Promise.reject(bi(r));const s=Ps(r),o=Y1(s,e),h=await new nS(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=10*60*1e3;class uS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!zy(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ai(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bg(e))}saveEventToCache(e){this.cachedEventUids.add(Bg(e)),this.lastProcessedEventTime=Date.now()}}function Bg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zy({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zy(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(r,e={}){return zi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fS=/^https?/;async function pS(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hS(r);for(const t of e)try{if(mS(t))return}catch{}Hr(r,"unauthorized-domain")}function mS(r){const e=Vd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!fS.test(t))return!1;if(dS.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new yl(3e4,6e4);function zg(){const r=li().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function vS(r){return new Promise((e,t)=>{var s,o,l;function h(){zg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zg(),t(ai(r,"network-request-failed"))},timeout:gS.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=li().gapi)===null||l===void 0)&&l.load)h();else{const f=o1("iframefcb");return li()[f]=()=>{gapi.load?h():t(ai(r,"network-request-failed"))},Ry(`${s1()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function yS(r){return Gu=Gu||vS(r),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new yl(5e3,15e3),wS="__/auth/iframe",ES="emulator/auth/iframe",TS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SS(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?gf(e,ES):`https://${r.config.authDomain}/${wS}`,s={apiKey:e.apiKey,appName:r.name,v:sa},o=IS.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${vl(s).slice(1)}`}async function RS(r){const e=await yS(r),t=li().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:SS(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TS,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=ai(r,"network-request-failed"),f=li().setTimeout(()=>{l(h)},_S.get());function p(){li().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kS=500,AS=600,PS="_blank",xS="http://localhost";class $g{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NS(r,e,t,s=kS,o=AS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},CS),{width:s.toString(),height:o.toString(),top:l,left:h}),v=Cn().toLowerCase();t&&(f=yy(v)?PS:t),gy(v)&&(e=e||xS,p.scrollbars="yes");const w=Object.entries(p).reduce((k,[b,j])=>`${k}${b}=${j},`,"");if(YI(v)&&f!=="_self")return DS(e||"",f),new $g(null);const T=window.open(e||"",f,w);Ie(T,r,"popup-blocked");try{T.focus()}catch{}return new $g(T)}function DS(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__/auth/handler",LS="emulator/auth/handler",OS=encodeURIComponent("fac");async function Wg(r,e,t,s,o,l){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:sa,eventId:o};if(e instanceof Ay){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",wT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof wl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await r._getAppCheckToken(),v=p?`#${OS}=${encodeURIComponent(p)}`:"";return`${VS(r)}?${vl(f).slice(1)}${v}`}function VS({config:r}){return r.emulator?gf(r,LS):`https://${r.authDomain}/${bS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class MS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vy,this._completeRedirectFn=aS,this._overrideRedirectResult=iS}async _openPopup(e,t,s,o){var l;Vi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Wg(e,t,s,Vd(),o);return NS(e,h,Ef())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Wg(e,t,s,Vd(),o);return U1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Vi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await RS(e),s=new uS(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Td,{type:Td},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Td];h!==void 0&&t(!!h),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Iy()||vy()||yf()}}const FS=MS;var Hg="@firebase/auth",qg="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BS(r){Go(new Js("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sy(r)},v=new n1(s,o,l,p);return d1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Go(new Js("auth-internal",e=>{const t=Ps(e.getProvider("auth").getImmediate());return(s=>new jS(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Hg,qg,US(r)),ws(Hg,qg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=5*60,$S=ey("authIdTokenMaxAge")||zS;let Kg=null;const WS=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>$S)return;const o=t==null?void 0:t.token;Kg!==o&&(Kg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Tl(r=iy()){const e=ff(r,"auth");if(e.isInitialized())return e.getImmediate();const t=h1(r,{popupRedirectResolver:FS,persistence:[Q1,M1,Vy]}),s=ey("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=WS(l.toString());b1(t,h,()=>h(t.currentUser)),D1(t,f=>h(f))}}const o=Jv("auth");return o&&f1(t,`http://${o}`),t}function HS(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}r1({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=ai("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",HS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BS("Browser");const $y=V.createContext(),qS=({children:r})=>{const[e,t]=V.useState(null),[s,o]=V.useState(!0);return V.useEffect(()=>{const l=Tl(),h=L1(l,f=>{t(f),o(!1)});return()=>h()},[]),I.jsx($y.Provider,{value:{user:e,loading:s},children:!s&&r})},Wy=()=>V.useContext($y);function KS(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}))}const GS=V.forwardRef(KS),QS=()=>{const{user:r}=Wy(),e=pl(),t=Tl(),s=async()=>{try{await Dy(t),e("/login")}catch(o){console.error("Logout failed",o)}};return I.jsxs("nav",{className:"bg-blue-500 p-4 flex justify-between items-center",children:[I.jsx("div",{children:I.jsx("h1",{className:"text-white font-bold text-xl",children:"Collab Workspace"})}),I.jsx("div",{children:I.jsxs("ul",{className:"flex space-x-4",children:[I.jsx("li",{children:I.jsx("button",{onClick:()=>e("/"),className:"text-white",children:"Home"})}),I.jsx("li",{children:I.jsx("button",{onClick:()=>e("/about"),className:"text-white",children:"About"})}),I.jsx("li",{children:I.jsx("button",{onClick:()=>e("/plans"),className:"text-white",children:"Plans"})}),r?I.jsxs("div",{className:"relative",children:[I.jsx(GS,{className:"w-7 h-7 text-blue-200 rounded-full cursor-pointer",onClick:()=>e("/dashboard")}),I.jsx("div",{className:"absolute right-0 mt-2 bg-white shadow-lg rounded hidden group-hover:block",children:I.jsx("button",{className:"block px-4 py-2 text-black hover:bg-gray-200",onClick:s,children:"Logout"})})]}):I.jsxs(I.Fragment,{children:[I.jsx("li",{children:I.jsx("button",{onClick:()=>e("/login"),className:"text-white",children:"Login"})}),I.jsx("li",{children:I.jsx("button",{onClick:()=>e("/register"),className:"text-white",children:"Register"})})]})]})})]})},YS=()=>I.jsxs("footer",{className:"bg-gray-800 text-white py-8",children:[I.jsxs("div",{className:"container mx-auto px-6 md:flex justify-between",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-xl font-bold",children:"Collab Workspace"}),I.jsx("p",{className:"mt-2",children:"Empowering Creativity & Productivity."})]}),I.jsxs("div",{className:"mt-4 md:mt-0",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Quick Links"}),I.jsxs("ul",{className:"mt-2 space-y-2",children:[I.jsx("li",{children:I.jsx("a",{href:"/",className:"hover:text-purple-400",children:"Home"})}),I.jsx("li",{children:I.jsx("a",{href:"/about",className:"hover:text-purple-400",children:"About Us"})}),I.jsx("li",{children:I.jsx("a",{href:"/contact",className:"hover:text-purple-400",children:"Contact"})})]})]}),I.jsxs("div",{className:"mt-4 md:mt-0",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Follow Us"}),I.jsxs("div",{className:"mt-2 flex space-x-4",children:[I.jsx("a",{href:"https://facebook.com",className:"hover:text-purple-400",children:"Facebook"}),I.jsx("a",{href:"https://instagram.com",className:"hover:text-purple-400",children:"Instagram"}),I.jsx("a",{href:"https://linkedin.com",className:"hover:text-purple-400",children:"LinkedIn"})]})]})]}),I.jsxs("div",{className:"text-center mt-8 border-t border-gray-700 pt-4",children:["© ",new Date().getFullYear()," Collab Workspace. All rights reserved."]})]}),XS=({children:r})=>I.jsxs("div",{className:"min-h-screen bg-gray-100",children:[I.jsx(QS,{}),I.jsx("main",{className:"p-4",children:r}),I.jsx(YS,{})]});function JS(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}))}const ZS=V.forwardRef(JS);function eR(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"}))}const tR=V.forwardRef(eR);function nR(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}))}const rR=V.forwardRef(nR);function iR(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"}))}const sR=V.forwardRef(iR);function oR(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}))}const aR=V.forwardRef(oR);function lR(r,e){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},r),V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"}))}const uR=V.forwardRef(lR),cR=[{icon:I.jsx(rR,{className:"h-8 w-8 text-purple-500"}),title:"Modern & Ergonomic Furniture",description:"Experience seamless and stylish work environments."},{icon:I.jsx(uR,{className:"h-8 w-8 text-blue-500"}),title:"High-Speed Internet",description:"Empowering seamless connectivity in this dynamic workspace."},{icon:I.jsx(tR,{className:"h-8 w-8 text-yellow-500"}),title:"24x7 Power Backup",description:"Reliable and constant power for uninterrupted productivity."},{icon:I.jsx(aR,{className:"h-8 w-8 text-green-500"}),title:"Hygiene & Cleanliness",description:"Pristine and sanitized environment for your well-being."},{icon:I.jsx(ZS,{className:"h-8 w-8 text-gray-500"}),title:"CCTV Surveillance",description:"Ensuring a secure and focused working space."},{icon:I.jsx(sR,{className:"h-8 w-8 text-red-500"}),title:"Printer",description:"For all your printing needs."}],hR=()=>I.jsxs("div",{className:"bg-white py-12",children:[I.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Amenities"}),I.jsx("p",{className:"text-center text-gray-600 mb-10",children:"A Place That Helps Growth of Your Work"}),I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 px-4 md:px-20",children:cR.map((r,e)=>I.jsxs("div",{className:"flex flex-col items-center text-center space-y-4 border p-6 rounded-lg shadow-lg",children:[r.icon,I.jsx("h3",{className:"text-xl font-semibold",children:r.title}),I.jsx("p",{className:"text-gray-500",children:r.description})]},e))})]});function Ft(){return Ft=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Ft.apply(this,arguments)}function kc(r,e){if(r==null)return{};var t,s,o={},l=Object.keys(r);for(s=0;s<l.length;s++)e.indexOf(t=l[s])>=0||(o[t]=r[t]);return o}function Ys(r){var e=V.useRef({fn:r,curr:void 0}).current;if(e.fn=r,!e.curr){var t=Object.create(null);Object.keys(r).forEach(function(s){t[s]=function(){var o;return(o=e.fn[s]).call.apply(o,[e.fn].concat([].slice.call(arguments)))}}),e.curr=t}return e.curr}function cc(r){return V.useReducer(function(e,t){return Ft({},e,typeof t=="function"?t(e):t)},r)}var Hy=V.createContext(void 0),Ai=typeof window<"u"&&"ontouchstart"in window,jd=function(r,e,t){return Math.max(Math.min(r,t),e)},Vu=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=0),jd(r,1*(1-t),Math.max(6,e)*(1+t))},Ud=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?V.useEffect:V.useLayoutEffect;function Fo(r,e,t){var s=V.useRef(e);s.current=e,V.useEffect(function(){function o(l){s.current(l)}return r&&window.addEventListener(r,o,t),function(){r&&window.removeEventListener(r,o)}},[r])}var dR=["container"];function fR(r){var e=r.container,t=e===void 0?document.body:e,s=kc(r,dR);return XE.createPortal(Me.createElement("div",Ft({},s)),t)}function pR(r){return Me.createElement("svg",Ft({width:"44",height:"44",viewBox:"0 0 768 768"},r),Me.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function mR(r){return Me.createElement("svg",Ft({width:"44",height:"44",viewBox:"0 0 768 768"},r),Me.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function gR(r){return Me.createElement("svg",Ft({width:"44",height:"44",viewBox:"0 0 768 768"},r),Me.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function vR(){return V.useEffect(function(){var r=document.body.style,e=r.overflow;return r.overflow="hidden",function(){r.overflow=e}},[]),null}function Gg(r){var e=r.touches[0],t=e.clientX,s=e.clientY;if(r.touches.length>=2){var o=r.touches[1],l=o.clientX,h=o.clientY;return[(t+l)/2,(s+h)/2,Math.sqrt(Math.pow(l-t,2)+Math.pow(h-s,2))]}return[t,s,0]}var ds=function(r,e,t,s){var o,l=t*e,h=(l-s)/2,f=r;return l<=s?(o=1,f=0):r>0&&h-r<=0?(o=2,f=h):r<0&&h+r<=0&&(o=3,f=-h),[o,f]};function Id(r,e,t,s,o,l,h,f,p,v){h===void 0&&(h=innerWidth/2),f===void 0&&(f=innerHeight/2),p===void 0&&(p=0),v===void 0&&(v=0);var w=ds(r,l,t,innerWidth)[0],T=ds(e,l,s,innerHeight),k=innerWidth/2,b=innerHeight/2;return{x:h-l/o*(h-(k+r))-k+(s/t>=3&&t*l===innerWidth?0:w?p/2:p),y:f-l/o*(f-(b+e))-b+(T[0]?v/2:v),lastCX:h,lastCY:f}}function Bd(r,e,t){var s=r%180!=0;return s?[t,e,s]:[e,t,s]}function Sd(r,e,t){var s=Bd(t,innerWidth,innerHeight),o=s[0],l=s[1],h=0,f=o,p=l,v=r/e*l,w=e/r*o;return r<o&&e<l?(f=r,p=e):r<o&&e>=l?f=v:r>=o&&e<l||r/e>o/l?p=w:e/r>=3&&!s[2]?h=((p=w)-l)/2:f=v,{width:f,height:p,x:0,y:h,pause:!0}}function Mu(r,e){var t=e.leading,s=t!==void 0&&t,o=e.maxWait,l=e.wait,h=l===void 0?o||0:l,f=V.useRef(r);f.current=r;var p=V.useRef(0),v=V.useRef(),w=function(){return v.current&&clearTimeout(v.current)},T=V.useCallback(function(){var k=[].slice.call(arguments),b=Date.now();function j(){p.current=b,w(),f.current.apply(null,k)}var W=p.current,O=b-W;if(W===0&&(s&&j(),p.current=b),o!==void 0){if(O>o)return void j()}else O<h&&(p.current=b);w(),v.current=setTimeout(function(){j(),p.current=0},h)},[h,o,s]);return T.cancel=w,T}var Qg=function(r,e,t){return Gs(r,e,t,100,function(s){return s},function(){return Gs(e,r,t)})},yR=function(r){return 1-Math.pow(1-r,4)};function Gs(r,e,t,s,o,l){s===void 0&&(s=400),o===void 0&&(o=yR);var h=e-r;if(h!==0){var f=Date.now(),p=0,v=function(){var T=Math.min(1,(Date.now()-f)/s);t(r+o(T)*h)&&T<1?w():(cancelAnimationFrame(p),T>=1&&l&&l())};w()}function w(){p=requestAnimationFrame(v)}}var _R={T:0,L:0,W:0,H:0,FIT:void 0},qy=function(){var r=V.useRef(!1);return V.useEffect(function(){return r.current=!0,function(){r.current=!1}},[]),r},wR=["className"];function ER(r){var e=r.className,t=e===void 0?"":e,s=kc(r,wR);return Me.createElement("div",Ft({className:"PhotoView__Spinner "+t},s),Me.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},Me.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),Me.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var TR=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function IR(r){var e=r.src,t=r.loaded,s=r.broken,o=r.className,l=r.onPhotoLoad,h=r.loadingElement,f=r.brokenElement,p=kc(r,TR),v=qy();return e&&!s?Me.createElement(Me.Fragment,null,Me.createElement("img",Ft({className:"PhotoView__Photo"+(o?" "+o:""),src:e,onLoad:function(w){var T=w.target;v.current&&l({loaded:!0,naturalWidth:T.naturalWidth,naturalHeight:T.naturalHeight})},onError:function(){v.current&&l({broken:!0})},alt:""},p)),!t&&(Me.createElement("span",{className:"PhotoView__icon"},h)||Me.createElement(ER,{className:"PhotoView__icon"}))):f?Me.createElement("span",{className:"PhotoView__icon"},typeof f=="function"?f({src:e}):f):null}var SR={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function RR(r){var e=r.item,t=e.src,s=e.render,o=e.width,l=o===void 0?0:o,h=e.height,f=h===void 0?0:h,p=e.originRef,v=r.visible,w=r.speed,T=r.easing,k=r.wrapClassName,b=r.className,j=r.style,W=r.loadingElement,O=r.brokenElement,q=r.onPhotoTap,ee=r.onMaskTap,ie=r.onReachMove,ue=r.onReachUp,xe=r.onPhotoResize,me=r.isActive,N=r.expose,R=cc(SR),S=R[0],P=R[1],L=V.useRef(0),F=qy(),A=S.naturalWidth,Je=A===void 0?l:A,Ge=S.naturalHeight,Ye=Ge===void 0?f:Ge,He=S.width,te=He===void 0?l:He,pe=S.height,se=pe===void 0?f:pe,M=S.loaded,G=M===void 0?!t:M,ce=S.broken,ve=S.x,Te=S.y,Re=S.touched,Be=S.stopRaf,Ne=S.maskTouched,be=S.rotate,Fe=S.scale,Dn=S.CX,Kn=S.CY,hn=S.lastX,Gn=S.lastY,Ze=S.lastCX,Kr=S.lastCY,dn=S.lastScale,sr=S.touchTime,Ir=S.touchLength,It=S.pause,Xt=S.reach,Sr=Ys({onScale:function(K){return fn(Vu(K))},onRotate:function(K){be!==K&&(N({rotate:K}),P(Ft({rotate:K},Sd(Je,Ye,K))))}});function fn(K,ge,Oe){Fe!==K&&(N({scale:K}),P(Ft({scale:K},Id(ve,Te,te,se,Fe,K,ge,Oe),K<=1&&{x:0,y:0})))}var Rr=Mu(function(K,ge,Oe){if(Oe===void 0&&(Oe=0),(Re||Ne)&&me){var Yn=Bd(be,te,se),bt=Yn[0],Zt=Yn[1];if(Oe===0&&L.current===0){var De=Math.abs(K-Dn)<=20,kt=Math.abs(ge-Kn)<=20;if(De&&kt)return void P({lastCX:K,lastCY:ge});L.current=De?ge>Kn?3:2:1}var yt,kn=K-Ze,pn=ge-Kr;if(Oe===0){var bn=ds(kn+hn,Fe,bt,innerWidth)[0],$t=ds(pn+Gn,Fe,Zt,innerHeight);yt=function(hr,mn,Ln,_t){return mn&&hr===1||_t==="x"?"x":Ln&&hr>1||_t==="y"?"y":void 0}(L.current,bn,$t[0],Xt),yt!==void 0&&ie(yt,K,ge,Fe)}if(yt==="x"||Ne)return void P({reach:"x"});var An=Vu(Fe+(Oe-Ir)/100/2*Fe,Je/te,.2);N({scale:An}),P(Ft({touchLength:Oe,reach:yt,scale:An},Id(ve,Te,te,se,Fe,An,K,ge,kn,pn)))}},{maxWait:8});function Cr(K){return!Be&&!Re&&(F.current&&P(Ft({},K,{pause:v})),F.current)}var it,et,zt,kr,Qn,or,ar,Dt,Gr=(Qn=function(K){return Cr({x:K})},or=function(K){return Cr({y:K})},ar=function(K){return F.current&&(N({scale:K}),P({scale:K})),!Re&&F.current},Dt=Ys({X:function(K){return Qn(K)},Y:function(K){return or(K)},S:function(K){return ar(K)}}),function(K,ge,Oe,Yn,bt,Zt,De,kt,yt,kn,pn){var bn=Bd(kn,bt,Zt),$t=bn[0],An=bn[1],hr=ds(K,kt,$t,innerWidth),mn=hr[0],Ln=hr[1],_t=ds(ge,kt,An,innerHeight),On=_t[0],gn=_t[1],Pr=Date.now()-pn;if(Pr>=200||kt!==De||Math.abs(yt-De)>1){var Vn=Id(K,ge,bt,Zt,De,kt),vn=Vn.x,Mn=Vn.y,Wt=mn?Ln:vn!==K?vn:null,xr=On?gn:Mn!==ge?Mn:null;return Wt!==null&&Gs(K,Wt,Dt.X),xr!==null&&Gs(ge,xr,Dt.Y),void(kt!==De&&Gs(De,kt,Dt.S))}var Nr=(K-Oe)/Pr,ze=(ge-Yn)/Pr,Xn=Math.sqrt(Math.pow(Nr,2)+Math.pow(ze,2)),en=!1,Ht=!1;(function(ct,St){var At,Lt=ct,pt=0,tn=0,wt=function(Qr){At||(At=Qr);var dr=Qr-At,pi=Math.sign(ct),Dr=-.001*pi,Yr=Math.sign(-Lt)*Math.pow(Lt,2)*2e-4,ha=Lt*dr+(Dr+Yr)*Math.pow(dr,2)/2;pt+=ha,At=Qr,pi*(Lt+=(Dr+Yr)*dr)<=0?nn():St(pt)?yn():nn()};function yn(){tn=requestAnimationFrame(wt)}function nn(){cancelAnimationFrame(tn)}yn()})(Xn,function(ct){var St=K+ct*(Nr/Xn),At=ge+ct*(ze/Xn),Lt=ds(St,De,$t,innerWidth),pt=Lt[0],tn=Lt[1],wt=ds(At,De,An,innerHeight),yn=wt[0],nn=wt[1];if(pt&&!en&&(en=!0,mn?Gs(St,tn,Dt.X):Qg(tn,St+(St-tn),Dt.X)),yn&&!Ht&&(Ht=!0,On?Gs(At,nn,Dt.Y):Qg(nn,At+(At-nn),Dt.Y)),en&&Ht)return!1;var Qr=en||Dt.X(tn),dr=Ht||Dt.Y(nn);return Qr&&dr})}),lr=(it=q,et=function(K,ge){Xt||fn(Fe!==1?1:Math.max(2,Je/te),K,ge)},zt=V.useRef(0),kr=Mu(function(){zt.current=0,it.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var K=[].slice.call(arguments);zt.current+=1,kr.apply(void 0,K),zt.current>=2&&(kr.cancel(),zt.current=0,et.apply(void 0,K))});function ur(K,ge){if(L.current=0,(Re||Ne)&&me){P({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var Oe=Vu(Fe,Je/te);if(Gr(ve,Te,hn,Gn,te,se,Fe,Oe,dn,be,sr),ue(K,ge),Dn===K&&Kn===ge){if(Re)return void lr(K,ge);Ne&&ee(K,ge)}}}function Ar(K,ge,Oe){Oe===void 0&&(Oe=0),P({touched:!0,CX:K,CY:ge,lastCX:K,lastCY:ge,lastX:ve,lastY:Te,lastScale:Fe,touchLength:Oe,touchTime:Date.now()})}function cr(K){P({maskTouched:!0,CX:K.clientX,CY:K.clientY,lastX:ve,lastY:Te})}Fo(Ai?void 0:"mousemove",function(K){K.preventDefault(),Rr(K.clientX,K.clientY)}),Fo(Ai?void 0:"mouseup",function(K){ur(K.clientX,K.clientY)}),Fo(Ai?"touchmove":void 0,function(K){K.preventDefault();var ge=Gg(K);Rr.apply(void 0,ge)},{passive:!1}),Fo(Ai?"touchend":void 0,function(K){var ge=K.changedTouches[0];ur(ge.clientX,ge.clientY)},{passive:!1}),Fo("resize",Mu(function(){G&&!Re&&(P(Sd(Je,Ye,be)),xe())},{maxWait:8})),Ud(function(){me&&N(Ft({scale:Fe,rotate:be},Sr))},[me]);var Jt=function(K,ge,Oe,Yn,bt,Zt,De,kt,yt,kn){var pn=function(vn,Mn,Wt,xr,Nr){var ze=V.useRef(!1),Xn=cc({lead:!0,scale:Wt}),en=Xn[0],Ht=en.lead,ct=en.scale,St=Xn[1],At=Mu(function(Lt){try{return Nr(!0),St({lead:!1,scale:Lt}),Promise.resolve()}catch(pt){return Promise.reject(pt)}},{wait:xr});return Ud(function(){ze.current?(Nr(!1),St({lead:!0}),At(Wt)):ze.current=!0},[Wt]),Ht?[vn*ct,Mn*ct,Wt/ct]:[vn*Wt,Mn*Wt,1]}(Zt,De,kt,yt,kn),bn=pn[0],$t=pn[1],An=pn[2],hr=function(vn,Mn,Wt,xr,Nr){var ze=V.useState(_R),Xn=ze[0],en=ze[1],Ht=V.useState(0),ct=Ht[0],St=Ht[1],At=V.useRef(),Lt=Ys({OK:function(){return vn&&St(4)}});function pt(tn){Nr(!1),St(tn)}return V.useEffect(function(){if(At.current||(At.current=Date.now()),Wt){if(function(tn,wt){var yn=tn&&tn.current;if(yn&&yn.nodeType===1){var nn=yn.getBoundingClientRect();wt({T:nn.top,L:nn.left,W:nn.width,H:nn.height,FIT:yn.tagName==="IMG"?getComputedStyle(yn).objectFit:void 0})}}(Mn,en),vn)return Date.now()-At.current<250?(St(1),requestAnimationFrame(function(){St(2),requestAnimationFrame(function(){return pt(3)})}),void setTimeout(Lt.OK,xr)):void St(4);pt(5)}},[vn,Wt]),[ct,Xn]}(K,ge,Oe,yt,kn),mn=hr[0],Ln=hr[1],_t=Ln.W,On=Ln.FIT,gn=innerWidth/2,Pr=innerHeight/2,Vn=mn<3||mn>4;return[Vn?_t?Ln.L:gn:Yn+(gn-Zt*kt/2),Vn?_t?Ln.T:Pr:bt+(Pr-De*kt/2),bn,Vn&&On?bn*(Ln.H/_t):$t,mn===0?An:Vn?_t/(Zt*kt)||.01:An,Vn?On?1:0:1,mn,On]}(v,p,G,ve,Te,te,se,Fe,w,function(K){return P({pause:K})}),Ce=Jt[4],Le=Jt[6],tt="transform "+w+"ms "+T,st={className:b,onMouseDown:Ai?void 0:function(K){K.stopPropagation(),K.button===0&&Ar(K.clientX,K.clientY,0)},onTouchStart:Ai?function(K){K.stopPropagation(),Ar.apply(void 0,Gg(K))}:void 0,onWheel:function(K){if(!Xt){var ge=Vu(Fe-K.deltaY/100/2,Je/te);P({stopRaf:!0}),fn(ge,K.clientX,K.clientY)}},style:{width:Jt[2]+"px",height:Jt[3]+"px",opacity:Jt[5],objectFit:Le===4?void 0:Jt[7],transform:be?"rotate("+be+"deg)":void 0,transition:Le>2?tt+", opacity "+w+"ms ease, height "+(Le<4?w/2:Le>4?w:0)+"ms "+T:void 0}};return Me.createElement("div",{className:"PhotoView__PhotoWrap"+(k?" "+k:""),style:j,onMouseDown:!Ai&&me?cr:void 0,onTouchStart:Ai&&me?function(K){return cr(K.touches[0])}:void 0},Me.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Ce+", 0, 0, "+Ce+", "+Jt[0]+", "+Jt[1]+")",transition:Re||It?void 0:tt,willChange:me?"transform":void 0}},t?Me.createElement(IR,Ft({src:t,loaded:G,broken:ce},st,{onPhotoLoad:function(K){P(Ft({},K,K.loaded&&Sd(K.naturalWidth||0,K.naturalHeight||0,be)))},loadingElement:W,brokenElement:O})):s&&s({attrs:st,scale:Ce,rotate:be})))}var Yg={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function CR(r){var e=r.loop,t=e===void 0?3:e,s=r.speed,o=r.easing,l=r.photoClosable,h=r.maskClosable,f=h===void 0||h,p=r.maskOpacity,v=p===void 0?1:p,w=r.pullClosable,T=w===void 0||w,k=r.bannerVisible,b=k===void 0||k,j=r.overlayRender,W=r.toolbarRender,O=r.className,q=r.maskClassName,ee=r.photoClassName,ie=r.photoWrapClassName,ue=r.loadingElement,xe=r.brokenElement,me=r.images,N=r.index,R=N===void 0?0:N,S=r.onIndexChange,P=r.visible,L=r.onClose,F=r.afterClose,A=r.portalContainer,Je=cc(Yg),Ge=Je[0],Ye=Je[1],He=V.useState(0),te=He[0],pe=He[1],se=Ge.x,M=Ge.touched,G=Ge.pause,ce=Ge.lastCX,ve=Ge.lastCY,Te=Ge.bg,Re=Te===void 0?v:Te,Be=Ge.lastBg,Ne=Ge.overlay,be=Ge.minimal,Fe=Ge.scale,Dn=Ge.rotate,Kn=Ge.onScale,hn=Ge.onRotate,Gn=r.hasOwnProperty("index"),Ze=Gn?R:te,Kr=Gn?S:pe,dn=V.useRef(Ze),sr=me.length,Ir=me[Ze],It=typeof t=="boolean"?t:sr>t,Xt=function(Ce,Le){var tt=V.useReducer(function(Oe){return!Oe},!1)[1],st=V.useRef(0),K=function(Oe,Yn){var bt=V.useRef(Oe);function Zt(De){bt.current=De}return V.useMemo(function(){(function(De){Ce?(De(Ce),st.current=1):st.current=2})(Zt)},[Oe]),[bt.current,Zt]}(Ce),ge=K[1];return[K[0],st.current,function(){tt(),st.current===2&&(ge(!1),Le&&Le()),st.current=0}]}(P,F),Sr=Xt[0],fn=Xt[1],Rr=Xt[2];Ud(function(){if(Sr)return Ye({pause:!0,x:Ze*-(innerWidth+20)}),void(dn.current=Ze);Ye(Yg)},[Sr]);var Cr=Ys({close:function(Ce){hn&&hn(0),Ye({overlay:!0,lastBg:Re}),L(Ce)},changeIndex:function(Ce,Le){Le===void 0&&(Le=!1);var tt=It?dn.current+(Ce-Ze):Ce,st=sr-1,K=jd(tt,0,st),ge=It?tt:K,Oe=innerWidth+20;Ye({touched:!1,lastCX:void 0,lastCY:void 0,x:-Oe*ge,pause:Le}),dn.current=ge,Kr&&Kr(It?Ce<0?st:Ce>st?0:Ce:K)}}),it=Cr.close,et=Cr.changeIndex;function zt(Ce){return Ce?it():Ye({overlay:!Ne})}function kr(){Ye({x:-(innerWidth+20)*Ze,lastCX:void 0,lastCY:void 0,pause:!0}),dn.current=Ze}function Qn(Ce,Le,tt,st){Ce==="x"?function(K){if(ce!==void 0){var ge=K-ce,Oe=ge;!It&&(Ze===0&&ge>0||Ze===sr-1&&ge<0)&&(Oe=ge/2),Ye({touched:!0,lastCX:ce,x:-(innerWidth+20)*dn.current+Oe,pause:!1})}else Ye({touched:!0,lastCX:K,x:se,pause:!1})}(Le):Ce==="y"&&function(K,ge){if(ve!==void 0){var Oe=v===null?null:jd(v,.01,v-Math.abs(K-ve)/100/4);Ye({touched:!0,lastCY:ve,bg:ge===1?Oe:v,minimal:ge===1})}else Ye({touched:!0,lastCY:K,bg:Re,minimal:!0})}(tt,st)}function or(Ce,Le){var tt=Ce-(ce??Ce),st=Le-(ve??Le),K=!1;if(tt<-40)et(Ze+1);else if(tt>40)et(Ze-1);else{var ge=-(innerWidth+20)*dn.current;Math.abs(st)>100&&be&&T&&(K=!0,it()),Ye({touched:!1,x:ge,lastCX:void 0,lastCY:void 0,bg:v,overlay:!!K||Ne})}}Fo("keydown",function(Ce){if(P)switch(Ce.key){case"ArrowLeft":et(Ze-1,!0);break;case"ArrowRight":et(Ze+1,!0);break;case"Escape":it()}});var ar=function(Ce,Le,tt){return V.useMemo(function(){var st=Ce.length;return tt?Ce.concat(Ce).concat(Ce).slice(st+Le-1,st+Le+2):Ce.slice(Math.max(Le-1,0),Math.min(Le+2,st+1))},[Ce,Le,tt])}(me,Ze,It);if(!Sr)return null;var Dt=Ne&&!fn,Gr=P?Re:Be,lr=Kn&&hn&&{images:me,index:Ze,visible:P,onClose:it,onIndexChange:et,overlayVisible:Dt,overlay:Ir&&Ir.overlay,scale:Fe,rotate:Dn,onScale:Kn,onRotate:hn},ur=s?s(fn):400,Ar=o?o(fn):"cubic-bezier(0.25, 0.8, 0.25, 1)",cr=s?s(3):600,Jt=o?o(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return Me.createElement(fR,{className:"PhotoView-Portal"+(Dt?"":" PhotoView-Slider__clean")+(P?"":" PhotoView-Slider__willClose")+(O?" "+O:""),role:"dialog",onClick:function(Ce){return Ce.stopPropagation()},container:A},P&&Me.createElement(vR,null),Me.createElement("div",{className:"PhotoView-Slider__Backdrop"+(q?" "+q:"")+(fn===1?" PhotoView-Slider__fadeIn":fn===2?" PhotoView-Slider__fadeOut":""),style:{background:Gr?"rgba(0, 0, 0, "+Gr+")":void 0,transitionTimingFunction:Ar,transitionDuration:(M?0:ur)+"ms",animationDuration:ur+"ms"},onAnimationEnd:Rr}),b&&Me.createElement("div",{className:"PhotoView-Slider__BannerWrap"},Me.createElement("div",{className:"PhotoView-Slider__Counter"},Ze+1," / ",sr),Me.createElement("div",{className:"PhotoView-Slider__BannerRight"},W&&lr&&W(lr),Me.createElement(pR,{className:"PhotoView-Slider__toolbarIcon",onClick:it}))),ar.map(function(Ce,Le){var tt=It||Ze!==0?dn.current-1+Le:Ze+Le;return Me.createElement(RR,{key:It?Ce.key+"/"+Ce.src+"/"+tt:Ce.key,item:Ce,speed:ur,easing:Ar,visible:P,onReachMove:Qn,onReachUp:or,onPhotoTap:function(){return zt(l)},onMaskTap:function(){return zt(f)},wrapClassName:ie,className:ee,style:{left:(innerWidth+20)*tt+"px",transform:"translate3d("+se+"px, 0px, 0)",transition:M||G?void 0:"transform "+cr+"ms "+Jt},loadingElement:ue,brokenElement:xe,onPhotoResize:kr,isActive:dn.current===tt,expose:Ye})}),!Ai&&b&&Me.createElement(Me.Fragment,null,(It||Ze!==0)&&Me.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return et(Ze-1,!0)}},Me.createElement(mR,null)),(It||Ze+1<sr)&&Me.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return et(Ze+1,!0)}},Me.createElement(gR,null))),j&&lr&&Me.createElement("div",{className:"PhotoView-Slider__Overlay"},j(lr)))}var kR=["children","onIndexChange","onVisibleChange"],AR={images:[],visible:!1,index:0};function PR(r){var e=r.children,t=r.onIndexChange,s=r.onVisibleChange,o=kc(r,kR),l=cc(AR),h=l[0],f=l[1],p=V.useRef(0),v=h.images,w=h.visible,T=h.index,k=Ys({nextId:function(){return p.current+=1},update:function(W){var O=v.findIndex(function(ee){return ee.key===W.key});if(O>-1){var q=v.slice();return q.splice(O,1,W),void f({images:q})}f(function(ee){return{images:ee.images.concat(W)}})},remove:function(W){f(function(O){var q=O.images.filter(function(ee){return ee.key!==W});return{images:q,index:Math.min(q.length-1,T)}})},show:function(W){var O=v.findIndex(function(q){return q.key===W});f({visible:!0,index:O}),s&&s(!0,O,h)}}),b=Ys({close:function(){f({visible:!1}),s&&s(!1,T,h)},changeIndex:function(W){f({index:W}),t&&t(W,h)}}),j=V.useMemo(function(){return Ft({},h,k)},[h,k]);return Me.createElement(Hy.Provider,{value:j},e,Me.createElement(CR,Ft({images:v,visible:w,index:T,onIndexChange:b.changeIndex,onClose:b.close},o)))}var xR=function(r){var e,t,s=r.src,o=r.render,l=r.overlay,h=r.width,f=r.height,p=r.triggers,v=p===void 0?["onClick"]:p,w=r.children,T=V.useContext(Hy),k=(e=function(){return T.nextId()},(t=V.useRef({sign:!1,fn:void 0}).current).sign||(t.sign=!0,t.fn=e()),t.fn),b=V.useRef(null);V.useImperativeHandle(w==null?void 0:w.ref,function(){return b.current}),V.useEffect(function(){return function(){T.remove(k)}},[]);var j=Ys({render:function(O){return o&&o(O)},show:function(O,q){T.show(k),function(ee,ie){if(w){var ue=w.props[ee];ue&&ue(ie)}}(O,q)}}),W=V.useMemo(function(){var O={};return v.forEach(function(q){O[q]=j.show.bind(null,q)}),O},[]);return V.useEffect(function(){T.update({key:k,src:s,originRef:b,render:j.render,overlay:l,width:h,height:f})},[s]),w?V.Children.only(V.cloneElement(w,Ft({},W,{ref:b}))):null};const NR=()=>{const r=[{src:"/images/hero1.jpg",alt:"Workspace 1"},{src:"/images/hero2.jpg",alt:"Workspace 2"},{src:"/images/hero3.jpg",alt:"Workspace 3"},{src:"/images/hero4.jpg",alt:"Workspace 4"}];return I.jsx("div",{className:"py-12 bg-gradient-to-r from-purple-50 to-purple-100",children:I.jsxs("div",{className:"container mx-auto px-6 text-center",children:[I.jsx("h2",{className:"text-4xl font-extrabold text-purple-600 mb-6",children:"Workspace Photo Gallery"}),I.jsx(PR,{children:I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map((e,t)=>I.jsx(xR,{src:e.src,children:I.jsx("img",{src:e.src,alt:e.alt,className:"w-full h-56 object-cover rounded-lg shadow-lg cursor-pointer"})},t))})})]})})},DR=()=>I.jsxs("div",{className:"text-center mt-10",children:[I.jsx("h2",{className:"text-4xl font-bold",children:"Welcome to A Co-Working Workspace"}),I.jsx("p",{className:"mt-4 text-lg",children:"Book workstations, cabins, and more on hourly, daily, or monthly basis with amenities provided."}),I.jsx(hR,{}),I.jsx(NR,{})]}),bR=()=>I.jsx("div",{className:"bg-gray-100 py-12",children:I.jsx("div",{className:"container mx-auto px-4 md:px-12 lg:px-24",children:I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-600 mb-6",children:"About Us"}),I.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:["Welcome to ",I.jsx("span",{className:"font-semibold",children:"Collab Workspace"}),", where co-working reaches new heights! Since our establishment in 2019, we’ve been on a mission to revolutionize the co-working industry by delivering unmatched services to our esteemed clients. We understand the unique needs and challenges faced by mid to small-scale companies, and that’s why we’ve curated a suite of solutions specifically tailored to address those pain points with precision."]}),I.jsxs("p",{className:"text-lg text-gray-700",children:["But at ",I.jsx("span",{className:"font-semibold",children:"Collab Workspace"}),", we don’t stop at exceptional services – we go above and beyond to create an inspiring and invigorating environment that sparks creativity and fuels productivity. Our meticulously designed workspace is more than just four walls; it’s a dynamic haven that empowers employees to flourish and achieve remarkable results."]})]}),I.jsx("div",{children:I.jsx("img",{src:"/images/hero1.jpg",alt:"Workspace",className:"rounded-lg shadow-lg"})})]})})}),LR=()=>{const r=[{title:"Hourly Pass",price:" ₹200/ hr /Desk",description:"Perfect for short visits. Access to shared workspaces, internet, and amenities for an hour."},{title:"Day Pass",price:"₹500 / day /Desk",description:"Ideal for day-long work. Includes access to shared workspaces, internet, and all amenities."},{title:"Monthly Membership",price:"₹5000 / month /Desk",description:"Best for regular users. Access to dedicated workspaces, conference rooms, internet, and all amenities."}],e=[{title:"Hourly Pass",price:" ₹1000/ hr ",description:"Perfect for short visits. Access to shared workspaces, internet, and amenities for an hour."},{title:"Day Pass",price:"₹3000 / day ",description:"Ideal for day-long work. Includes access to shared workspaces, internet, and all amenities."},{title:"Monthly Membership",price:"₹21000 / month ",description:"Best for regular users. Access to dedicated workspaces, conference rooms, internet, and all amenities."}];return I.jsxs("div",{children:[I.jsxs("div",{className:" bg-blue-100",children:[I.jsx("h2",{className:"text-4xl font-bold text-center mb-10",children:"Our Plans for Open Workspace "}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((t,s)=>I.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[I.jsx("h3",{className:"text-2xl font-bold mb-4",children:t.title}),I.jsx("p",{className:"text-xl text-green-600 font-semibold mb-4",children:t.price}),I.jsx("p",{className:"text-gray-700 mb-4",children:t.description}),I.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Choose Plan"})]},s))})]}),I.jsxs("div",{className:" pt-5 bg-blue-100",children:[I.jsx("h2",{className:"text-4xl font-bold text-center mb-10",children:"Our Plans for Private cabin "}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,s)=>I.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[I.jsx("h3",{className:"text-2xl font-bold mb-4",children:t.title}),I.jsx("p",{className:"text-xl text-green-600 font-semibold mb-4",children:t.price}),I.jsx("p",{className:"text-gray-700 mb-4",children:t.description}),I.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Choose Plan"})]},s))})]})]})};var OR="firebase",VR="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(OR,VR,"app");var Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,Ky;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function S(){}S.prototype=R.prototype,N.D=R.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(P,L,F){for(var A=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)A[Je-2]=arguments[Je];return R.prototype[L].apply(P,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,S){S||(S=0);var P=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)P[L]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(L=0;16>L;++L)P[L]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=N.g[0],S=N.g[1],L=N.g[2];var F=N.g[3],A=R+(F^S&(L^F))+P[0]+3614090360&4294967295;R=S+(A<<7&4294967295|A>>>25),A=F+(L^R&(S^L))+P[1]+3905402710&4294967295,F=R+(A<<12&4294967295|A>>>20),A=L+(S^F&(R^S))+P[2]+606105819&4294967295,L=F+(A<<17&4294967295|A>>>15),A=S+(R^L&(F^R))+P[3]+3250441966&4294967295,S=L+(A<<22&4294967295|A>>>10),A=R+(F^S&(L^F))+P[4]+4118548399&4294967295,R=S+(A<<7&4294967295|A>>>25),A=F+(L^R&(S^L))+P[5]+1200080426&4294967295,F=R+(A<<12&4294967295|A>>>20),A=L+(S^F&(R^S))+P[6]+2821735955&4294967295,L=F+(A<<17&4294967295|A>>>15),A=S+(R^L&(F^R))+P[7]+4249261313&4294967295,S=L+(A<<22&4294967295|A>>>10),A=R+(F^S&(L^F))+P[8]+1770035416&4294967295,R=S+(A<<7&4294967295|A>>>25),A=F+(L^R&(S^L))+P[9]+2336552879&4294967295,F=R+(A<<12&4294967295|A>>>20),A=L+(S^F&(R^S))+P[10]+4294925233&4294967295,L=F+(A<<17&4294967295|A>>>15),A=S+(R^L&(F^R))+P[11]+2304563134&4294967295,S=L+(A<<22&4294967295|A>>>10),A=R+(F^S&(L^F))+P[12]+1804603682&4294967295,R=S+(A<<7&4294967295|A>>>25),A=F+(L^R&(S^L))+P[13]+4254626195&4294967295,F=R+(A<<12&4294967295|A>>>20),A=L+(S^F&(R^S))+P[14]+2792965006&4294967295,L=F+(A<<17&4294967295|A>>>15),A=S+(R^L&(F^R))+P[15]+1236535329&4294967295,S=L+(A<<22&4294967295|A>>>10),A=R+(L^F&(S^L))+P[1]+4129170786&4294967295,R=S+(A<<5&4294967295|A>>>27),A=F+(S^L&(R^S))+P[6]+3225465664&4294967295,F=R+(A<<9&4294967295|A>>>23),A=L+(R^S&(F^R))+P[11]+643717713&4294967295,L=F+(A<<14&4294967295|A>>>18),A=S+(F^R&(L^F))+P[0]+3921069994&4294967295,S=L+(A<<20&4294967295|A>>>12),A=R+(L^F&(S^L))+P[5]+3593408605&4294967295,R=S+(A<<5&4294967295|A>>>27),A=F+(S^L&(R^S))+P[10]+38016083&4294967295,F=R+(A<<9&4294967295|A>>>23),A=L+(R^S&(F^R))+P[15]+3634488961&4294967295,L=F+(A<<14&4294967295|A>>>18),A=S+(F^R&(L^F))+P[4]+3889429448&4294967295,S=L+(A<<20&4294967295|A>>>12),A=R+(L^F&(S^L))+P[9]+568446438&4294967295,R=S+(A<<5&4294967295|A>>>27),A=F+(S^L&(R^S))+P[14]+3275163606&4294967295,F=R+(A<<9&4294967295|A>>>23),A=L+(R^S&(F^R))+P[3]+4107603335&4294967295,L=F+(A<<14&4294967295|A>>>18),A=S+(F^R&(L^F))+P[8]+1163531501&4294967295,S=L+(A<<20&4294967295|A>>>12),A=R+(L^F&(S^L))+P[13]+2850285829&4294967295,R=S+(A<<5&4294967295|A>>>27),A=F+(S^L&(R^S))+P[2]+4243563512&4294967295,F=R+(A<<9&4294967295|A>>>23),A=L+(R^S&(F^R))+P[7]+1735328473&4294967295,L=F+(A<<14&4294967295|A>>>18),A=S+(F^R&(L^F))+P[12]+2368359562&4294967295,S=L+(A<<20&4294967295|A>>>12),A=R+(S^L^F)+P[5]+4294588738&4294967295,R=S+(A<<4&4294967295|A>>>28),A=F+(R^S^L)+P[8]+2272392833&4294967295,F=R+(A<<11&4294967295|A>>>21),A=L+(F^R^S)+P[11]+1839030562&4294967295,L=F+(A<<16&4294967295|A>>>16),A=S+(L^F^R)+P[14]+4259657740&4294967295,S=L+(A<<23&4294967295|A>>>9),A=R+(S^L^F)+P[1]+2763975236&4294967295,R=S+(A<<4&4294967295|A>>>28),A=F+(R^S^L)+P[4]+1272893353&4294967295,F=R+(A<<11&4294967295|A>>>21),A=L+(F^R^S)+P[7]+4139469664&4294967295,L=F+(A<<16&4294967295|A>>>16),A=S+(L^F^R)+P[10]+3200236656&4294967295,S=L+(A<<23&4294967295|A>>>9),A=R+(S^L^F)+P[13]+681279174&4294967295,R=S+(A<<4&4294967295|A>>>28),A=F+(R^S^L)+P[0]+3936430074&4294967295,F=R+(A<<11&4294967295|A>>>21),A=L+(F^R^S)+P[3]+3572445317&4294967295,L=F+(A<<16&4294967295|A>>>16),A=S+(L^F^R)+P[6]+76029189&4294967295,S=L+(A<<23&4294967295|A>>>9),A=R+(S^L^F)+P[9]+3654602809&4294967295,R=S+(A<<4&4294967295|A>>>28),A=F+(R^S^L)+P[12]+3873151461&4294967295,F=R+(A<<11&4294967295|A>>>21),A=L+(F^R^S)+P[15]+530742520&4294967295,L=F+(A<<16&4294967295|A>>>16),A=S+(L^F^R)+P[2]+3299628645&4294967295,S=L+(A<<23&4294967295|A>>>9),A=R+(L^(S|~F))+P[0]+4096336452&4294967295,R=S+(A<<6&4294967295|A>>>26),A=F+(S^(R|~L))+P[7]+1126891415&4294967295,F=R+(A<<10&4294967295|A>>>22),A=L+(R^(F|~S))+P[14]+2878612391&4294967295,L=F+(A<<15&4294967295|A>>>17),A=S+(F^(L|~R))+P[5]+4237533241&4294967295,S=L+(A<<21&4294967295|A>>>11),A=R+(L^(S|~F))+P[12]+1700485571&4294967295,R=S+(A<<6&4294967295|A>>>26),A=F+(S^(R|~L))+P[3]+2399980690&4294967295,F=R+(A<<10&4294967295|A>>>22),A=L+(R^(F|~S))+P[10]+4293915773&4294967295,L=F+(A<<15&4294967295|A>>>17),A=S+(F^(L|~R))+P[1]+2240044497&4294967295,S=L+(A<<21&4294967295|A>>>11),A=R+(L^(S|~F))+P[8]+1873313359&4294967295,R=S+(A<<6&4294967295|A>>>26),A=F+(S^(R|~L))+P[15]+4264355552&4294967295,F=R+(A<<10&4294967295|A>>>22),A=L+(R^(F|~S))+P[6]+2734768916&4294967295,L=F+(A<<15&4294967295|A>>>17),A=S+(F^(L|~R))+P[13]+1309151649&4294967295,S=L+(A<<21&4294967295|A>>>11),A=R+(L^(S|~F))+P[4]+4149444226&4294967295,R=S+(A<<6&4294967295|A>>>26),A=F+(S^(R|~L))+P[11]+3174756917&4294967295,F=R+(A<<10&4294967295|A>>>22),A=L+(R^(F|~S))+P[2]+718787259&4294967295,L=F+(A<<15&4294967295|A>>>17),A=S+(F^(L|~R))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+F&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var S=R-this.blockSize,P=this.B,L=this.h,F=0;F<R;){if(L==0)for(;F<=S;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<R;)if(P[L++]=N.charCodeAt(F++),L==this.blockSize){o(this,P),L=0;break}}else for(;F<R;)if(P[L++]=N[F++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var S=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.u(N),N=Array(16),R=S=0;4>R;++R)for(var P=0;32>P;P+=8)N[S++]=this.g[R]>>>P&255;return N};function l(N,R){var S=f;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=R(N)}function h(N,R){this.h=R;for(var S=[],P=!0,L=N.length-1;0<=L;L--){var F=N[L]|0;P&&F==R||(S[L]=F,P=!1)}this.g=S}var f={};function p(N){return-128<=N&&128>N?l(N,function(R){return new h([R|0],0>R?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return O(v(-N));for(var R=[],S=1,P=0;N>=S;P++)R[P]=N/S|0,S*=4294967296;return new h(R,0)}function w(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return O(w(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(R,8)),P=T,L=0;L<N.length;L+=8){var F=Math.min(8,N.length-L),A=parseInt(N.substring(L,L+F),R);8>F?(F=v(Math.pow(R,F)),P=P.j(F).add(v(A))):(P=P.j(S),P=P.add(v(A)))}return P}var T=p(0),k=p(1),b=p(16777216);r=h.prototype,r.m=function(){if(W(this))return-O(this).m();for(var N=0,R=1,S=0;S<this.g.length;S++){var P=this.i(S);N+=(0<=P?P:4294967296+P)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(W(this))return"-"+O(this).toString(N);for(var R=v(Math.pow(N,6)),S=this,P="";;){var L=ue(S,R).g;S=q(S,L.j(R));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=L,j(S))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=q(this,N),W(N)?-1:j(N)?0:1};function O(N){for(var R=N.g.length,S=[],P=0;P<R;P++)S[P]=~N.g[P];return new h(S,~N.h).add(k)}r.abs=function(){return W(this)?O(this):this},r.add=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],P=0,L=0;L<=R;L++){var F=P+(this.i(L)&65535)+(N.i(L)&65535),A=(F>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);P=A>>>16,F&=65535,A&=65535,S[L]=A<<16|F}return new h(S,S[S.length-1]&-2147483648?-1:0)};function q(N,R){return N.add(O(R))}r.j=function(N){if(j(this)||j(N))return T;if(W(this))return W(N)?O(this).j(O(N)):O(O(this).j(N));if(W(N))return O(this.j(O(N)));if(0>this.l(b)&&0>N.l(b))return v(this.m()*N.m());for(var R=this.g.length+N.g.length,S=[],P=0;P<2*R;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<N.g.length;L++){var F=this.i(P)>>>16,A=this.i(P)&65535,Je=N.i(L)>>>16,Ge=N.i(L)&65535;S[2*P+2*L]+=A*Ge,ee(S,2*P+2*L),S[2*P+2*L+1]+=F*Ge,ee(S,2*P+2*L+1),S[2*P+2*L+1]+=A*Je,ee(S,2*P+2*L+1),S[2*P+2*L+2]+=F*Je,ee(S,2*P+2*L+2)}for(P=0;P<R;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=R;P<2*R;P++)S[P]=0;return new h(S,0)};function ee(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ie(N,R){this.g=N,this.h=R}function ue(N,R){if(j(R))throw Error("division by zero");if(j(N))return new ie(T,T);if(W(N))return R=ue(O(N),R),new ie(O(R.g),O(R.h));if(W(R))return R=ue(N,O(R)),new ie(O(R.g),R.h);if(30<N.g.length){if(W(N)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var S=k,P=R;0>=P.l(N);)S=xe(S),P=xe(P);var L=me(S,1),F=me(P,1);for(P=me(P,2),S=me(S,2);!j(P);){var A=F.add(P);0>=A.l(N)&&(L=L.add(S),F=A),P=me(P,1),S=me(S,1)}return R=q(N,L.j(R)),new ie(L,R)}for(L=T;0<=N.l(R);){for(S=Math.max(1,Math.floor(N.m()/R.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=v(S),A=F.j(R);W(A)||0<A.l(N);)S-=P,F=v(S),A=F.j(R);j(F)&&(F=k),L=L.add(F),N=q(N,A)}return new ie(L,N)}r.A=function(N){return ue(this,N).h},r.and=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],P=0;P<R;P++)S[P]=this.i(P)&N.i(P);return new h(S,this.h&N.h)},r.or=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],P=0;P<R;P++)S[P]=this.i(P)|N.i(P);return new h(S,this.h|N.h)},r.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],P=0;P<R;P++)S[P]=this.i(P)^N.i(P);return new h(S,this.h^N.h)};function xe(N){for(var R=N.g.length+1,S=[],P=0;P<R;P++)S[P]=N.i(P)<<1|N.i(P-1)>>>31;return new h(S,N.h)}function me(N,R){var S=R>>5;R%=32;for(var P=N.g.length-S,L=[],F=0;F<P;F++)L[F]=0<R?N.i(F+S)>>>R|N.i(F+S+1)<<32-R:N.i(F+S);return new h(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ky=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Xs=h}).apply(typeof Xg<"u"?Xg:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gy,Ka,Qy,Qu,zd,Yy,Xy,Jy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var y=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in y))break e;y=y[U]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,E=!1,U={next:function(){if(!E&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,y){return u.call.apply(u.bind,arguments)}function T(u,m,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function k(u,m,y){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,k.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function j(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,U,H){for(var re=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)re[rt-2]=arguments[rt];return m.prototype[U].apply(E,re)}}function W(u){const m=u.length;if(0<m){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function O(u,m){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(p(E)){const U=u.length||0,H=E.length||0;u.length=U+H;for(let re=0;re<H;re++)u[U+re]=E[re]}else u.push(E)}}class q{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ue(u){return ue[" "](u),u}ue[" "]=function(){};var xe=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function me(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function N(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function R(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let y,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(y in E)u[y]=E[y];for(let H=0;H<S.length;H++)y=S[H],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function L(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function F(u){f.setTimeout(()=>{throw u},0)}function A(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Je{constructor(){this.h=this.g=null}add(m,y){const E=Ge.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Ge=new q(()=>new Ye,u=>u.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let He,te=!1,pe=new Je,se=()=>{const u=f.Promise.resolve(void 0);He=()=>{u.then(M)}};var M=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){F(y)}var m=Ge;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}te=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,m),f.removeEventListener("test",y,m)}catch{}return u}();function Te(u,m){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(xe){e:{try{ue(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}j(Te,ce);var Re={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function be(u,m,y,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=U,this.key=++Ne,this.da=this.fa=!1}function Fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dn(u){this.src=u,this.g={},this.h=0}Dn.prototype.add=function(u,m,y,E,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=hn(u,m,E,U);return-1<re?(m=u[re],y||(m.fa=!1)):(m=new be(m,this.src,H,!!E,U),m.fa=y,u.push(m)),m};function Kn(u,m){var y=m.type;if(y in u.g){var E=u.g[y],U=Array.prototype.indexOf.call(E,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(E,U,1),H&&(Fe(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function hn(u,m,y,E){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==E)return U}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),Ze={};function Kr(u,m,y,E,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Kr(u,m[H],y,E,U);return null}return y=Cr(y),u&&u[Be]?u.K(m,y,v(E)?!!E.capture:!!E,U):dn(u,m,y,!1,E,U)}function dn(u,m,y,E,U,H){if(!m)throw Error("Invalid event type");var re=v(U)?!!U.capture:!!U,rt=fn(u);if(rt||(u[Gn]=rt=new Dn(u)),y=rt.add(m,y,E,re,H),y.proxy)return y;if(E=sr(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)ve||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(Xt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function sr(){function u(y){return m.call(u.src,u.listener,y)}const m=Sr;return u}function Ir(u,m,y,E,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ir(u,m[H],y,E,U);else E=v(E)?!!E.capture:!!E,y=Cr(y),u&&u[Be]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=hn(H,y,E,U),-1<y&&(Fe(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=fn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=hn(m,y,E,U)),(y=-1<u?m[u]:null)&&It(y))}function It(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])Kn(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(Xt(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=fn(m))?(Kn(y,u),y.h==0&&(y.src=null,m[Gn]=null)):Fe(u)}}}function Xt(u){return u in Ze?Ze[u]:Ze[u]="on"+u}function Sr(u,m){if(u.da)u=!0;else{m=new Te(m,this);var y=u.listener,E=u.ha||u.src;u.fa&&It(u),u=y.call(E,m)}return u}function fn(u){return u=u[Gn],u instanceof Dn?u:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cr(u){return typeof u=="function"?u:(u[Rr]||(u[Rr]=function(m){return u.handleEvent(m)}),u[Rr])}function it(){G.call(this),this.i=new Dn(this),this.M=this,this.F=null}j(it,G),it.prototype[Be]=!0,it.prototype.removeEventListener=function(u,m,y,E){Ir(this,u,m,y,E)};function et(u,m){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new ce(m,u);else if(m instanceof ce)m.target=m.target||u;else{var U=m;m=new ce(E,u),P(m,U)}if(U=!0,y)for(var H=y.length-1;0<=H;H--){var re=m.g=y[H];U=zt(re,E,!0,m)&&U}if(re=m.g=u,U=zt(re,E,!0,m)&&U,U=zt(re,E,!1,m)&&U,y)for(H=0;H<y.length;H++)re=m.g=y[H],U=zt(re,E,!1,m)&&U}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],E=0;E<y.length;E++)Fe(y[E]);delete u.g[m],u.h--}}this.F=null},it.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},it.prototype.L=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function zt(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var re=m[H];if(re&&!re.da&&re.capture==y){var rt=re.listener,Ot=re.ha||re.src;re.fa&&Kn(u.i,re),U=rt.call(Ot,E)!==!1&&U}}return U&&!E.defaultPrevented}function kr(u,m,y){if(typeof u=="function")y&&(u=k(u,y));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Qn(u){u.g=kr(()=>{u.g=null,u.i&&(u.i=!1,Qn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class or extends G{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){G.call(this),this.h=u,this.g={}}j(ar,G);var Dt=[];function Gr(u){me(u.g,function(m,y){this.g.hasOwnProperty(y)&&It(m)},u),u.g={}}ar.prototype.N=function(){ar.aa.N.call(this),Gr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=f.JSON.stringify,ur=f.JSON.parse,Ar=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function cr(){}cr.prototype.h=null;function Jt(u){return u.h||(u.h=u.i())}function Ce(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){ce.call(this,"d")}j(tt,ce);function st(){ce.call(this,"c")}j(st,ce);var K={},ge=null;function Oe(){return ge=ge||new it}K.La="serverreachability";function Yn(u){ce.call(this,K.La,u)}j(Yn,ce);function bt(u){const m=Oe();et(m,new Yn(m))}K.STAT_EVENT="statevent";function Zt(u,m){ce.call(this,K.STAT_EVENT,u),this.stat=m}j(Zt,ce);function De(u){const m=Oe();et(m,new Zt(m,u))}K.Ma="timingevent";function kt(u,m){ce.call(this,K.Ma,u),this.size=m}j(kt,ce);function yt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function pn(u,m,y,E,U,H){u.info(function(){if(u.g)if(H)for(var re="",rt=H.split("&"),Ot=0;Ot<rt.length;Ot++){var qe=rt[Ot].split("=");if(1<qe.length){var qt=qe[0];qe=qe[1];var Pt=qt.split("_");re=2<=Pt.length&&Pt[1]=="type"?re+(qt+"="+qe+"&"):re+(qt+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+y+`
`+re})}function bn(u,m,y,E,U,H,re){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+re})}function $t(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hr(u,y)+(E?" "+E:"")})}function An(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function hr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return lr(y)}catch{return m}}var mn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ln={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_t;function On(){}j(On,cr),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},_t=new On;function gn(u,m,y,E){this.j=u,this.i=m,this.l=y,this.R=E||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var Vn={},vn={};function Mn(u,m,y){u.L=1,u.v=Hi(Jn(m)),u.m=y,u.P=!0,Wt(u,null)}function Wt(u,m){u.F=Date.now(),ze(u),u.A=Jn(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Ki(y.i,"t",E),u.C=0,y=u.j.J,u.h=new Pr,u.g=Fl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new or(k(u.Y,u,u.g),u.O)),m=u.U,y=u.g,E=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Dt[0]=U.toString()),U=Dt);for(var H=0;H<U.length;H++){var re=Kr(y,U[H],E||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),bt(),pn(u.i,u.u,u.A,u.l,u.R,u.m)}gn.prototype.ca=function(u){u=u.target;const m=this.M;m&&jn(u)==3?m.j():this.Y(u)},gn.prototype.Y=function(u){try{if(u==this.g)e:{const Pt=jn(this.g);var m=this.g.Ba();const pr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||Pt!=4||m==7||(m==8||0>=pr?bt(3):bt(2)),en(this);var y=this.g.Z();this.X=y;t:if(xr(this)){var E=ma(this.g);u="";var U=E.length,H=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),Ht(this);var re="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(H&&m==U-1)});E.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,bn(this.i,this.u,this.A,this.l,this.R,Pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Ot=this.g;if((rt=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(rt)){var qe=rt;break t}}qe=null}if(y=qe)$t(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,St(this,y);else{this.o=!1,this.s=3,De(12),ct(this),Ht(this);break e}}if(this.P){y=!0;let er;for(;!this.J&&this.C<re.length;)if(er=Nr(this,re),er==vn){Pt==4&&(this.s=4,De(14),y=!1),$t(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Vn){this.s=4,De(15),$t(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else $t(this.i,this.l,er,null),St(this,er);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||re.length!=0||this.h.h||(this.s=1,De(16),y=!1),this.o=this.o&&y,!y)$t(this.i,this.l,re,"[Invalid Chunked Response]"),ct(this),Ht(this);else if(0<re.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),va(qt),qt.M=!0,De(11))}}else $t(this.i,this.l,re,null),St(this,re);Pt==4&&ct(this),this.o&&!this.J&&(Pt==4?mo(this.j,this):(this.o=!1,ze(this)))}else uo(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),ct(this),Ht(this)}}}catch{}finally{}};function xr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Nr(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?vn:(y=Number(m.substring(y,E)),isNaN(y)?Vn:(E+=1,E+y>m.length?vn:(m=m.slice(E,E+y),u.C=E+y,m)))}gn.prototype.cancel=function(){this.J=!0,ct(this)};function ze(u){u.S=Date.now()+u.I,Xn(u,u.I)}function Xn(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=yt(k(u.ba,u),m)}function en(u){u.B&&(f.clearTimeout(u.B),u.B=null)}gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(An(this.i,this.A),this.L!=2&&(bt(),De(17)),ct(this),this.s=2,Ht(this)):Xn(this,this.S-u)};function Ht(u){u.j.G==0||u.J||mo(u.j,u)}function ct(u){en(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Gr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function St(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||wt(y.h,u))){if(!u.K&&wt(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)po(y),Mr(y);else break e;fo(y),De(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=yt(k(y.Za,y),6e3));if(1>=tn(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _i(y,11)}else if((u.K||y.g==u)&&po(y),!ee(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let qe=U[m];if(y.T=qe[0],qe=qe[1],y.G==2)if(qe[0]=="c"){y.K=qe[1],y.ia=qe[2];const qt=qe[3];qt!=null&&(y.la=qt,y.j.info("VER="+y.la));const Pt=qe[4];Pt!=null&&(y.Aa=Pt,y.j.info("SVER="+y.Aa));const pr=qe[5];pr!=null&&typeof pr=="number"&&0<pr&&(E=1.5*pr,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const er=u.g;if(er){const Ls=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var H=E.h;H.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(yn(H,H.h),H.h=null))}if(E.D){const vo=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(E.ya=vo,ot(E.I,E.D,vo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var re=u;if(E.qa=Ml(E,E.J?E.ia:null,E.W),re.K){nn(E.h,re);var rt=re,Ot=E.L;Ot&&(rt.I=Ot),rt.B&&(en(rt),ze(rt)),E.g=re}else bs(E);0<y.i.length&&ei(y)}else qe[0]!="stop"&&qe[0]!="close"||_i(y,7);else y.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?_i(y,7):sn(y):qe[0]!="noop"&&y.l&&y.l.ta(qe),y.v=0)}}bt(4)}catch{}}var At=class{constructor(u,m){this.g=u,this.map=m}};function Lt(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function tn(u){return u.h?1:u.g?u.g.size:0}function wt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yn(u,m){u.g?u.g.add(m):u.h=m}function nn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Lt.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return W(u.i)}function dr(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,E=0;E<y;E++)m.push(u[E]);return m}m=[],y=0;for(E in u)m[y++]=u[E];return m}function pi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const E in u)m[y++]=E;return m}}}function Dr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=pi(u),E=dr(u),U=E.length,H=0;H<U;H++)m.call(void 0,E[H],y&&y[H],u)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),U=null;if(0<=E){var H=u[y].substring(0,E);U=u[y].substring(E+1)}else H=u[y];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mi){this.h=u.h,xs(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,y=new Xr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Wi(this,y),this.m=u.m}else u&&(m=String(u).match(Yr))?(this.h=!1,xs(this,m[1]||"",!0),this.o=$e(m[2]||""),this.g=$e(m[3]||"",!0),$i(this,m[4]),this.l=$e(m[5]||"",!0),Wi(this,m[6]||"",!0),this.m=$e(m[7]||"")):(this.h=!1,this.i=new Xr(null,this.h))}mi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qi(m,oo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qi(m,oo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(qi(y,y.charAt(0)=="/"?Pl:Al,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",qi(y,da)),u.join("")};function Jn(u){return new mi(u)}function xs(u,m,y){u.j=y?$e(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wi(u,m,y){m instanceof Xr?(u.i=m,Jr(u.i,u.h)):(y||(m=qi(m,xl)),u.i=new Xr(m,u.h))}function ot(u,m,y){u.i.set(m,y)}function Hi(u){return ot(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $e(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qi(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,kl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,Al=/[#\?:]/g,Pl=/[#\?]/g,xl=/[#\?@]/g,da=/#/g;function Xr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Xr.prototype,r.add=function(u,m){rn(this),this.i=null,u=fr(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function br(u,m){rn(u),m=fr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lr(u,m){return rn(u),m=fr(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(y,E){y.forEach(function(U){u.call(m,U,E,this)},this)},this)},r.na=function(){rn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let E=0;E<m.length;E++){const U=u[E];for(let H=0;H<U.length;H++)y.push(m[E])}return y},r.V=function(u){rn(this);let m=[];if(typeof u=="string")Lr(this,u)&&(m=m.concat(this.g.get(fr(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return rn(this),this.i=null,u=fr(this,u),Lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ki(u,m,y){br(u,m),0<y.length&&(u.i=null,u.g.set(fr(u,m),W(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var E=m[y];const H=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var U=H;re[E]!==""&&(U+="="+encodeURIComponent(String(re[E]))),u.push(U)}}return this.i=u.join("&")};function fr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jr(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(y,E){var U=E.toLowerCase();E!=U&&(br(this,E),Ki(this,U,y))},u)),u.j=m}function Uc(u,m){const y=new kn;if(f.Image){const E=new Image;E.onload=b(Fn,y,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Fn,y,"TestLoadImage: error",!1,m,E),E.onabort=b(Fn,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Fn,y,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Nl(u,m){const y=new kn,E=new AbortController,U=setTimeout(()=>{E.abort(),Fn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(H=>{clearTimeout(U),H.ok?Fn(y,"TestPingServer: ok",!0,m):Fn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Fn(y,"TestPingServer: error",!1,m)})}function Fn(u,m,y,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(y)}catch{}}function Bc(){this.g=new Ar}function Dl(u,m,y){const E=y||"";try{Dr(u,function(U,H){let re=U;v(U)&&(re=lr(U)),m.push(E+H+"="+encodeURIComponent(re))})}catch(U){throw m.push(E+"type="+encodeURIComponent("_badmap")),U}}function gi(u){this.l=u.Ub||null,this.j=u.eb||!1}j(gi,cr),gi.prototype.g=function(){return new Ns(this.l,this.j)},gi.prototype.i=function(u){return function(){return u}}({});function Ns(u,m){it.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ns,it),r=Ns.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Vr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Or(this):Vr(this),this.readyState==3&&bl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Or(this))},r.Qa=function(u){this.g&&(this.response=u,Or(this))},r.ga=function(){this.g&&Or(this)};function Or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vr(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Vr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vi(u){let m="";return me(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function Gi(u,m,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=vi(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):ot(u,m,y))}function ht(u){it.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(ht,it);var zc=/^https?$/i,fa=["POST","PUT"];r=ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_t.g(),this.v=this.o?Jt(this.o):Jt(_t),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ds(this,H);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)y.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())y.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(fa,m,void 0))||E||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of y)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Ds(this,H)}};function Ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ao(u),Zn(u)}function ao(u){u.A||(u.A=!0,et(u,"complete"),et(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,et(this,"complete"),et(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},r.bb=function(){pa(this)};function pa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||jn(u)!=4||u.Z()!=2)){if(u.u&&jn(u)==4)kr(u.Ea,0,u);else if(et(u,"readystatechange"),jn(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var E;if(E=re===0){var U=String(u.D).match(Yr)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),E=!zc.test(U?U.toLowerCase():"")}y=E}if(y)et(u,"complete"),et(u,"success");else{u.m=6;try{var H=2<jn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ao(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){lo(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||et(u,"ready");try{y.onreadystatechange=E}catch{}}}function lo(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ur(m)}};function ma(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(u){const m={};u=(u.g&&2<=jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ee(u[E]))continue;var y=L(u[E]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}N(m,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ga(u){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Lt(u&&u.concurrentRequestLimit),this.Da=new Bc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ga.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,E){De(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ml(this,null,this.W),ei(this)};function sn(u){if(co(u),u.G==3){var m=u.U++,y=Jn(u.I);if(ot(y,"SID",u.K),ot(y,"RID",m),ot(y,"TYPE","terminate"),yi(u,y),m=new gn(u,u.j,m),m.L=2,m.v=Hi(Jn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=m.v,y=!0),y||(m.g=Fl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ze(m)}Vl(u)}function Mr(u){u.g&&(va(u),u.g.cancel(),u.g=null)}function co(u){Mr(u),u.u&&(f.clearTimeout(u.u),u.u=null),po(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ei(u){if(!pt(u.h)&&!u.s){u.s=!0;var m=u.Ga;He||se(),te||(He(),te=!0),pe.add(m,u),u.B=0}}function $c(u,m){return tn(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=yt(k(u.Ga,u,m),Ol(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new gn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),P(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Qi(this,U,m),y=Jn(this.I),ot(y,"RID",u),ot(y,"CVER",22),this.D&&ot(y,"X-HTTP-Session-Id",this.D),yi(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(vi(H)))+"&"+m:this.m&&Gi(y,this.m,H)),yn(this.h,U),this.Ua&&ot(y,"TYPE","init"),this.P?(ot(y,"$req",m),ot(y,"SID","null"),U.T=!0,Mn(U,y,null)):Mn(U,y,m),this.G=2}}else this.G==3&&(u?ho(this,u):this.i.length==0||pt(this.h)||ho(this))};function ho(u,m){var y;m?y=m.l:y=u.U++;const E=Jn(u.I);ot(E,"SID",u.K),ot(E,"RID",y),ot(E,"AID",u.T),yi(u,E),u.m&&u.o&&Gi(E,u.m,u.o),y=new gn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),yn(u.h,y),Mn(y,E,m)}function yi(u,m){u.H&&me(u.H,function(y,E){ot(m,E,y)}),u.l&&Dr({},function(y,E){ot(m,E,y)})}function Qi(u,m,y){y=Math.min(u.i.length,y);var E=u.l?k(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const re=["count="+y];H==-1?0<y?(H=U[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let rt=!0;for(let Ot=0;Ot<y;Ot++){let qe=U[Ot].g;const qt=U[Ot].map;if(qe-=H,0>qe)H=Math.max(0,U[Ot].g-100),rt=!1;else try{Dl(qt,re,"req"+qe+"_")}catch{E&&E(qt)}}if(rt){E=re.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,E}function bs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;He||se(),te||(He(),te=!0),pe.add(m,u),u.v=0}}function fo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=yt(k(u.Fa,u),Ol(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=yt(k(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Mr(this),Ll(this))};function va(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ll(u){u.g=new gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Jn(u.qa);ot(m,"RID","rpc"),ot(m,"SID",u.K),ot(m,"AID",u.T),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ot(m,"TO",u.ja),ot(m,"TYPE","xmlhttp"),yi(u,m),u.m&&u.o&&Gi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Hi(Jn(m)),y.m=null,y.P=!0,Wt(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Mr(this),fo(this),De(19))};function po(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function mo(u,m){var y=null;if(u.g==m){po(u),va(u),u.g=null;var E=2}else if(wt(u.h,m))y=m.D,nn(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;E=Oe(),et(E,new kt(E,y)),ei(u)}else bs(u);else if(U=m.s,U==3||U==0&&0<m.X||!(E==1&&$c(u,m)||E==2&&fo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Ol(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var y=k(u.fb,u),E=u.Xa;const U=!E;E=new mi(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||xs(E,"https"),Hi(E),U?Uc(E.toString(),y):Nl(E.toString(),y)}else De(2);u.G=0,u.l&&u.l.sa(m),Vl(u),co(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Vl(u){if(u.G=0,u.ka=[],u.l){const m=Qr(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Ml(u,m,y){var E=y instanceof mi?Jn(y):new mi(y);if(E.g!="")m&&(E.g=m+"."+E.g),$i(E,E.s);else{var U=f.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new mi(null);E&&xs(H,E),m&&(H.g=m),U&&$i(H,U),y&&(H.l=y),E=H}return y=u.D,m=u.ya,y&&m&&ot(E,y,m),ot(E,"VER",u.la),yi(u,E),E}function Fl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ht(new gi({eb:y})):new ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ya(){}r=ya.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function go(){}go.prototype.g=function(u,m){return new Pn(u,m)};function Pn(u,m){it.call(this),this.g=new ga(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ee(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ee(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}j(Pn,it),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){sn(this.g)},Pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=lr(u),u=y);m.i.push(new At(m.Ya++,u)),m.G==3&&ei(m)},Pn.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,Pn.aa.N.call(this)};function jl(u){tt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}j(jl,tt);function Ul(){st.call(this),this.status=1}j(Ul,st);function ti(u){this.g=u}j(ti,ya),ti.prototype.ua=function(){et(this.g,"a")},ti.prototype.ta=function(u){et(this.g,new jl(u))},ti.prototype.sa=function(u){et(this.g,new Ul)},ti.prototype.ra=function(){et(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Jy=function(){return new go},Xy=function(){return Oe()},Yy=K,zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,Qu=mn,Ln.COMPLETE="complete",Qy=Ln,Ce.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",it.prototype.listen=it.prototype.K,Ka=Ce,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Gy=ht}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Jg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new hf("@firebase/firestore");function jo(){return to.logLevel}function ae(r,...e){if(to.logLevel<=je.DEBUG){const t=e.map(If);to.debug(`Firestore (${aa}): ${r}`,...t)}}function Mi(r,...e){if(to.logLevel<=je.ERROR){const t=e.map(If);to.error(`Firestore (${aa}): ${r}`,...t)}}function Qo(r,...e){if(to.logLevel<=je.WARN){const t=e.map(If);to.warn(`Firestore (${aa}): ${r}`,...t)}}function If(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+r;throw Mi(e),new Error(e)}function nt(r,e){r||ke()}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class FR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jR{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Es,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Es)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string"),new Zy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new Sn(e)}}class UR{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class BR{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new UR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $R{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new zR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=WR(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function We(r,e){return r<e?-1:r>e?1:0}function Yo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ut(0,0))}static max(){return new Ae(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,s){t===void 0?t=0:t>e.length&&ke(),s===void 0?s=e.length-t:s>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends sl{construct(e,t,s){return new Tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new we(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends sl{construct(e,t,s){return new un(e,t,s)}static isValidIdentifier(e){return HR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new we(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new we(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new we(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Tt.fromString(e))}static fromName(e){return new Ee(Tt.fromString(e).popFirst(5))}static empty(){return new Ee(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Tt(e.slice()))}}function qR(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ut(t+1,0):new Ut(t,s));return new Is(o,Ee.empty(),e)}function KR(r){return new Is(r.readTime,r.key,-1)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Ae.min(),Ee.empty(),-1)}static max(){return new Is(Ae.max(),Ee.empty(),-1)}}function GR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(r.documentKey,e.documentKey),t!==0?t:We(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==QR)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,s)=>{t(e)})}static reject(e){return new Q((t,s)=>{s(e)})}static waitFor(e){return new Q((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next(o=>o?Q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Q((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const v=p;t(e[v]).next(w=>{h[v]=w,++f,f===l&&s(h)},w=>o(w))}})}static doWhile(e,t){return new Q((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function XR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ac.oe=-1;function Pc(r){return r==null}function hc(r){return r===0&&1/r==-1/0}function JR(r){return typeof r=="number"&&Number.isInteger(r)&&!hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Zg(e)),e=eC(r.get(t),e);return Zg(e)}function eC(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Zg(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function no(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function t_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new ln(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,s,o,l){return this}insert(e,t,s){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Wr([])}unionWith(e){let t=new Bt(un.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new n_("Invalid base64 string: "+l):l}}(e);return new cn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(r){if(nt(!!r),typeof r=="string"){let e=0;const t=tC.exec(r);if(nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rs(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function xc(r){const e=r.mapValue.fields.__previous_value__;return Sf(e)?xc(e):e}function ol(r){const e=Ss(r.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,s,o,l,h,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=v}}class al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sf(r)?4:iC(r)?9007199254740991:rC(r)?10:11:ke()}function hi(r,e){if(r===e)return!0;const t=Cs(r);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ol(r).isEqual(ol(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ss(o.timestampValue),f=Ss(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Rs(o.bytesValue).isEqual(Rs(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Ct(o.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ct(o.integerValue)===Ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Ct(o.doubleValue),f=Ct(l.doubleValue);return h===f?hc(h)===hc(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(ev(h)!==ev(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!hi(h[p],f[p])))return!1;return!0}(r,e);default:return ke()}}function ll(r,e){return(r.values||[]).find(t=>hi(t,e))!==void 0}function Xo(r,e){if(r===e)return 0;const t=Cs(r),s=Cs(e);if(t!==s)return We(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=Ct(l.integerValue||l.doubleValue),p=Ct(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return nv(r.timestampValue,e.timestampValue);case 4:return nv(ol(r),ol(e));case 5:return We(r.stringValue,e.stringValue);case 6:return function(l,h){const f=Rs(l),p=Rs(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let v=0;v<f.length&&v<p.length;v++){const w=We(f[v],p[v]);if(w!==0)return w}return We(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=We(Ct(l.latitude),Ct(h.latitude));return f!==0?f:We(Ct(l.longitude),Ct(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return rv(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,v,w;const T=l.fields||{},k=h.fields||{},b=(f=T.value)===null||f===void 0?void 0:f.arrayValue,j=(p=k.value)===null||p===void 0?void 0:p.arrayValue,W=We(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return W!==0?W:rv(b,j)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Uu.mapValue&&h===Uu.mapValue)return 0;if(l===Uu.mapValue)return 1;if(h===Uu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),v=h.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const k=We(p[T],w[T]);if(k!==0)return k;const b=Xo(f[p[T]],v[w[T]]);if(b!==0)return b}return We(p.length,w.length)}(r.mapValue,e.mapValue);default:throw ke()}}function nv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return We(r,e);const t=Ss(r),s=Ss(e),o=We(t.seconds,s.seconds);return o!==0?o:We(t.nanos,s.nanos)}function rv(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Xo(t[o],s[o]);if(l)return l}return We(t.length,s.length)}function Jo(r){return $d(r)}function $d(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ss(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Rs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ee.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=$d(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${$d(t.fields[h])}`;return o+"}"}(r.mapValue):ke()}function Yu(r){switch(Cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(r);return e?16+Yu(e):16;case 5:return 2*r.stringValue.length;case 6:return Rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Yu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return no(s.fields,(l,h)=>{o+=l.length+Yu(h)}),o}(r.mapValue);default:throw ke()}}function Wd(r){return!!r&&"integerValue"in r}function Rf(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xu(r){return!!r&&"mapValue"in r}function rC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return no(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Xa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function iC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(t)}setAll(e){let t=un.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Xa(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){no(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Er(Xa(this.value))}}function r_(r){const e=[];return no(r.fields,(t,s)=>{const o=new un([t]);if(Xu(s)){const l=r_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,Ae.min(),Ae.min(),Ae.min(),Er.empty(),0)}static newFoundDocument(e,t,s,o){return new Rn(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Rn(e,2,t,Ae.min(),Ae.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Ae.min(),Ae.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function ov(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),t.key):s=Xo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function sC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{}class jt extends i_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new aC(e,t,s):t==="array-contains"?new cC(e,s):t==="in"?new hC(e,s):t==="not-in"?new dC(e,s):t==="array-contains-any"?new fC(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new lC(e,s):new uC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xo(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends i_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new di(e,t)}matches(e){return s_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function s_(r){return r.op==="and"}function o_(r){return oC(r)&&s_(r)}function oC(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function Hd(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Jo(r.value);if(o_(r))return r.filters.map(e=>Hd(e)).join(",");{const e=r.filters.map(t=>Hd(t)).join(",");return`${r.op}(${e})`}}function a_(r,e){return r instanceof jt?function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,e):r instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&a_(h,o.filters[f]),!0):!1}(r,e):void ke()}function l_(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`}(r):r instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(l_).join(" ,")+"}"}(r):"Filter"}class aC extends jt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class lC extends jt{constructor(e,t){super(e,"in",t),this.keys=u_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uC extends jt{constructor(e,t){super(e,"not-in",t),this.keys=u_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function u_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class cC extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rf(t)&&ll(t.arrayValue,this.value)}}class hC extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ll(this.value.arrayValue,t)}}class dC extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ll(this.value.arrayValue,t)}}class fC extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function lv(r,e=null,t=[],s=[],o=null,l=null,h=null){return new pC(r,e,t,s,o,l,h)}function Cf(r){const e=Pe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Hd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Jo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Jo(s)).join(",")),e.ue=t}return e.ue}function kf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!sC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!a_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!av(r.startAt,e.startAt)&&av(r.endAt,e.endAt)}function qd(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mC(r,e,t,s,o,l,h,f){return new Nc(r,e,t,s,o,l,h,f)}function Af(r){return new Nc(r)}function uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gC(r){return r.collectionGroup!==null}function Ja(r){const e=Pe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Bt(un.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new fc(l,s))}),t.has(un.keyField().canonicalString())||e.ce.push(new fc(un.keyField(),s))}return e.ce}function ui(r){const e=Pe(r);return e.le||(e.le=vC(e,Ja(r))),e.le}function vC(r,e){if(r.limitType==="F")return lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new fc(o.field,l)});const t=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return lv(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Kd(r,e,t){return new Nc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Dc(r,e){return kf(ui(r),ui(e))&&r.limitType===e.limitType}function c_(r){return`${Cf(ui(r))}|lt:${r.limitType}`}function Uo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>l_(o)).join(", ")}]`),Pc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Jo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Jo(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function bc(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Ja(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const v=ov(h,f,p);return h.inclusive?v<=0:v<0}(s.startAt,Ja(s),o)||s.endAt&&!function(h,f,p){const v=ov(h,f,p);return h.inclusive?v>=0:v>0}(s.endAt,Ja(s),o))}(r,e)}function yC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function h_(r){return(e,t)=>{let s=!1;for(const o of Ja(r)){const l=_C(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function _C(r,e,t){const s=r.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),v=f.data.field(l);return p!==null&&v!==null?Xo(p,v):ke()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return t_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new vt(Ee.comparator);function Fi(){return wC}const d_=new vt(Ee.comparator);function Ga(...r){let e=d_;for(const t of r)e=e.insert(t.key,t);return e}function f_(r){let e=d_;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Qs(){return Za()}function p_(){return Za()}function Za(){return new ro(r=>r.toString(),(r,e)=>r.isEqual(e))}const EC=new vt(Ee.comparator),TC=new Bt(Ee.comparator);function Ue(...r){let e=TC;for(const t of r)e=e.add(t);return e}const IC=new Bt(We);function SC(){return IC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function m_(r){return{integerValue:""+r}}function RC(r,e){return JR(e)?m_(e):Pf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function CC(r,e,t){return r instanceof pc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sf(l)&&(l=xc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof ul?v_(r,e):r instanceof cl?y_(r,e):function(o,l){const h=g_(o,l),f=cv(h)+cv(o.Pe);return Wd(h)&&Wd(o.Pe)?m_(f):Pf(o.serializer,f)}(r,e)}function kC(r,e,t){return r instanceof ul?v_(r,e):r instanceof cl?y_(r,e):t}function g_(r,e){return r instanceof mc?function(s){return Wd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class pc extends Lc{}class ul extends Lc{constructor(e){super(),this.elements=e}}function v_(r,e){const t=__(e);for(const s of r.elements)t.some(o=>hi(o,s))||t.push(s);return{arrayValue:{values:t}}}class cl extends Lc{constructor(e){super(),this.elements=e}}function y_(r,e){let t=__(e);for(const s of r.elements)t=t.filter(o=>!hi(o,s));return{arrayValue:{values:t}}}class mc extends Lc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function cv(r){return Ct(r.integerValue||r.doubleValue)}function __(r){return Rf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function AC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ul&&o instanceof ul||s instanceof cl&&o instanceof cl?Yo(s.elements,o.elements,hi):s instanceof mc&&o instanceof mc?hi(s.Pe,o.Pe):s instanceof pc&&o instanceof pc}(r.transform,e.transform)}class PC{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oc{}function w_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new T_(r.key,Li.none()):new Il(r.key,r.data,Li.none());{const t=r.data,s=Er.empty();let o=new Bt(un.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new io(r.key,s,new Wr(o.toArray()),Li.none())}}function xC(r,e,t){r instanceof Il?function(o,l,h){const f=o.value.clone(),p=dv(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof io?function(o,l,h){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=dv(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(E_(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function el(r,e,t,s){return r instanceof Il?function(l,h,f,p){if(!Ju(l.precondition,h))return f;const v=l.value.clone(),w=fv(l.fieldTransforms,p,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof io?function(l,h,f,p){if(!Ju(l.precondition,h))return f;const v=fv(l.fieldTransforms,p,h),w=h.data;return w.setAll(E_(l)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,f){return Ju(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function NC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=g_(s.transform,o||null);l!=null&&(t===null&&(t=Er.empty()),t.set(s.field,l))}return t||null}function hv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Yo(s,o,(l,h)=>AC(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Il extends Oc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class io extends Oc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function E_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function dv(r,e,t){const s=new Map;nt(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,kC(h,f,t[o]))}return s}function fv(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,CC(l,h,e))}return s}class T_ extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DC extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&xC(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=el(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=el(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=p_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=w_(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,s)=>hv(t,s))&&Yo(this.baseMutations,e.baseMutations,(t,s)=>hv(t,s))}}class xf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){nt(e.mutations.length===s.length);let o=function(){return EC}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new xf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ke;function VC(r){switch(r){default:return ke();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function I_(r){if(r===void 0)return Mi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return ke()}}(Ke=Nt||(Nt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Xs([4294967295,4294967295],0);function pv(r){const e=MC().encode(r),t=new Ky;return t.update(e),new Uint8Array(t.digest())}function mv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([t,s],0),new Xs([o,l],0)]}class Nf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Qa(`Invalid padding: ${t}`);if(s<0)throw new Qa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Xs.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(Xs.fromNumber(s)));return o.compare(FC)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=pv(e),[s,o]=mv(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Nf(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=pv(e),[s,o]=mv(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vc(Ae.min(),o,new vt(We),Fi(),Ue())}}class Sl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Sl(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class S_{constructor(e,t){this.targetId=e,this.me=t}}class R_{constructor(e,t,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class gv{constructor(){this.fe=0,this.ge=vv(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),s=Ue();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ke()}}),new Sl(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=vv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fi(),this.qe=Bu(),this.Qe=Bu(),this.Ke=new vt(We)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(qd(l))if(s===0){const h=new Ee(l.path);this.We(t,h,Rn.newNoDocument(h,Ae.min()))}else nt(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Rs(s).toUint8Array()}catch(p){if(p instanceof n_)return Qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Nf(h,o,l)}catch(p){return Qo(p instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&qd(f.target)){const p=new Ee(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Rn.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=Ue();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const v=this.Ye(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Vc(e,t,this.Ke,this.ke,s);return this.ke=Fi(),this.qe=Bu(),this.Qe=Bu(),this.Ke=new vt(We),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new gv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Bt(We),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(We),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new gv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Bu(){return new vt(Ee.comparator)}function vv(){return new vt(Ee.comparator)}const UC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zC={and:"AND",or:"OR"};class $C{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gd(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WC(r,e){return gc(r,e.toTimestamp())}function ci(r){return nt(!!r),Ae.fromTimestamp(function(t){const s=Ss(t);return new Ut(s.seconds,s.nanos)}(r))}function Df(r,e){return Qd(r,e).canonicalString()}function Qd(r,e){const t=function(o){return new Tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function k_(r){const e=Tt.fromString(r);return nt(D_(e)),e}function Yd(r,e){return Df(r.databaseId,e.path)}function Rd(r,e){const t=k_(e);if(t.get(1)!==r.databaseId.projectId)throw new we(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new we(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ee(P_(t))}function A_(r,e){return Df(r.databaseId,e)}function HC(r){const e=k_(r);return e.length===4?Tt.emptyPath():P_(e)}function Xd(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function P_(r){return nt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function yv(r,e,t){return{name:Yd(r,e),fields:t.value.mapValue.fields}}function qC(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,w){return v.useProto3Json?(nt(w===void 0||typeof w=="string"),cn.fromBase64String(w||"")):(nt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),cn.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const w=v.code===void 0?Z.UNKNOWN:I_(v.code);return new we(w,v.message||"")}(h);t=new R_(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rd(r,s.document.name),l=ci(s.document.updateTime),h=s.document.createTime?ci(s.document.createTime):Ae.min(),f=new Er({mapValue:{fields:s.document.fields}}),p=Rn.newFoundDocument(o,l,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new Zu(v,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rd(r,s.document),l=s.readTime?ci(s.readTime):Ae.min(),h=Rn.newNoDocument(o,l),f=s.removedTargetIds||[];t=new Zu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rd(r,s.document),l=s.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return ke();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new OC(o,l),f=s.targetId;t=new S_(f,h)}}return t}function KC(r,e){let t;if(e instanceof Il)t={update:yv(r,e.key,e.value)};else if(e instanceof T_)t={delete:Yd(r,e.key)};else if(e instanceof io)t={update:yv(r,e.key,e.data),updateMask:nk(e.fieldMask)};else{if(!(e instanceof DC))return ke();t={verify:Yd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ul)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw ke()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:WC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke()}(r,e.precondition)),t}function GC(r,e){return r&&r.length>0?(nt(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?ci(o.updateTime):ci(l);return h.isEqual(Ae.min())&&(h=ci(l)),new PC(h,o.transformResults||[])}(t,e))):[]}function QC(r,e){return{documents:[A_(r,e.path)]}}function YC(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=A_(r,o);const l=function(v){if(v.length!==0)return N_(di.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(v){if(v.length!==0)return v.map(w=>function(k){return{field:Bo(k.field),direction:ZC(k.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Gd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:o}}function XC(r){let e=HC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){nt(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const k=x_(T);return k instanceof di&&o_(k)?k.getFilters():[k]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(k=>function(j){return new fc(zo(j.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(k))}(t.orderBy));let f=null;t.limit&&(f=function(T){let k;return k=typeof T=="object"?T.value:T,Pc(k)?null:k}(t.limit));let p=null;t.startAt&&(p=function(T){const k=!!T.before,b=T.values||[];return new dc(b,k)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const k=!T.before,b=T.values||[];return new dc(b,k)}(t.endAt)),mC(e,o,h,l,f,"F",p,v)}function JC(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function x_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=zo(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zo(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(r):r.fieldFilter!==void 0?function(t){return jt.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(s=>x_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(r):ke()}function ZC(r){return UC[r]}function ek(r){return BC[r]}function tk(r){return zC[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function zo(r){return un.fromServerFormat(r.fieldPath)}function N_(r){return r instanceof jt?function(t){if(t.op==="=="){if(sv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(iv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(iv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:ek(t.op),value:t.value}}}(r):r instanceof di?function(t){const s=t.getFilters().map(o=>N_(o));return s.length===1?s[0]:{compositeFilter:{op:tk(t.op),filters:s}}}(r):ke()}function nk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s,o,l=Ae.min(),h=Ae.min(),f=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.ht=e}}function ik(r){const e=XC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.ln=new ok}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Is.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Bt(Tt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Zo(0)}static Qn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv([r,e],[t,s]){const o=We(r,t);return o===0?We(e,s):o}class ak{constructor(e){this.Gn=e,this.buffer=new Bt(wv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();wv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.Yn(3e5)})}}class uk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Ac.oe);const s=new ak(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(_v)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,f,p,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),jo()<=je.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function ck(r,e){return new uk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&el(s.mutation,o,Wr.empty(),Ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=Qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Ga();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Qs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=Fi();const h=Za(),f=function(){return Za()}();return t.forEach((p,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof io)?l=l.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),el(w.mutation,v,w.mutation.getFieldMask(),Ut.now())):h.set(v.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((v,w)=>h.set(v,w)),t.forEach((v,w)=>{var T;return f.set(v,new dk(w,(T=h.get(v))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Za();let o=new vt((h,f)=>h-f),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const v=t.get(p);if(v===null)return;let w=s.get(p)||Wr.empty();w=f.applyToLocalView(v,w),s.set(p,w);const T=(o.get(f.batchId)||Ue()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),v=p.key,w=p.value,T=p_();w.forEach(k=>{if(!l.has(k)){const b=w_(t.get(k),s.get(k));b!==null&&T.set(k,b),l=l.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Q.resolve(Qs());let f=-1,p=l;return h.next(v=>Q.forEach(v,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{p=p.insert(w,k)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,p,v,Ue())).next(w=>({batchId:f,changes:f_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let o=Ga();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Ga();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,p=>{const v=function(T,k){return new Nc(k,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(w=>{w.forEach((T,k)=>{h=h.insert(T,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Rn.newInvalidDocument(w)))});let f=Ga();return h.forEach((p,v)=>{const w=l.get(p);w!==void 0&&el(w.mutation,v,Wr.empty(),Ut.now()),bc(t,v)&&(f=f.insert(p,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ik(o.bundledQuery),readTime:ci(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.overlays=new vt(Ee.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Qs();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=Qs(),l=t.length+1,h=new Ee(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new vt((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=Qs(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=Qs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=o)););return Q.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LC(t,s));let l=this.Er.get(t);l===void 0&&(l=Ue(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.dr=new Bt(Yt.Ar),this.Rr=new Bt(Yt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Yt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new Ee(new Tt([])),s=new Yt(t,e),o=new Yt(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ee(new Tt([])),s=new Yt(t,e),o=new Yt(t,e+1);let l=Ue();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Yt(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ee.comparator(e.key,t.key)||We(e.br,t.br)}static Vr(e,t){return We(e.br,t.br)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Bt(Yt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bC(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new Yt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(We);return t.forEach(o=>{const l=new Yt(o,0),h=new Yt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{s=s.add(f.br)})}),Q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const h=new Yt(new Ee(l),0);let f=new Bt(We);return this.vr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(p.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){nt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Q.forEach(t.mutations,o=>{const l=new Yt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Yt(t,0),o=this.vr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.Nr=e,this.docs=function(){return new vt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let s=Fi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Rn.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Fi();const h=t.path,f=new Ee(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||GR(KR(w),s)<=0||(o.has(w.key)||bc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,o){ke()}Lr(e,t){return Q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new _k(this)}getSize(e){return Q.resolve(this.size)}}class _k extends hk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.persistence=e,this.Br=new ro(t=>Cf(t),kf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new bf,this.targetCount=0,this.Qr=Zo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ac(0),this.Ur=!1,this.Ur=!0,this.Wr=new gk,this.referenceDelegate=e(this),this.Gr=new wk(this),this.indexManager=new sk,this.remoteDocumentCache=function(o){return new yk(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new rk(t),this.jr=new pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new vk(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new Ek(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class Ek extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class Lf{constructor(e){this.persistence=e,this.Zr=new bf,this.Xr=null}static ei(e){return new Lf(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,s=>{const o=Ee.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class vc{constructor(e,t){this.persistence=e,this.ri=new ro(s=>ZR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ck(this,t)}static ei(e,t){return new vc(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,l.removeEntry(h,Ae.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yu(e.data.value)),t}ir(e,t,s){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Of(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return pT()?8:XR(Cn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new Tk;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(jo()<=je.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(jo()<=je.DEBUG&&ae("QueryEngine","Query:",Uo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(jo()<=je.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):Q.resolve())}Xi(e,t){if(uv(t))return Q.resolve(null);let s=ui(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Kd(t,null,"F"),s=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ue(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const v=this.rs(t,f);return this.ss(t,v,h,p.readTime)?this.Xi(e,Kd(t,null,"F")):this.os(e,v,t,p)}))})))}es(e,t,s,o){return uv(t)||o.isEqual(Ae.min())?Q.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?Q.resolve(null):(jo()<=je.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.os(e,h,t,qR(o,-1)).next(f=>f))})}rs(e,t){let s=new Bt(h_(e));return t.forEach((o,l)=>{bc(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return jo()<=je.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Is.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new vt(We),this.cs=new ro(l=>Cf(l),kf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Rk(r,e,t,s){return new Sk(r,e,t,s)}async function L_(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let p=Ue();for(const v of o){h.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:f}))})})}function Ck(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,v,w){const T=v.batch,k=T.keys();let b=Q.resolve();return k.forEach(j=>{b=b.next(()=>w.getEntry(p,j)).next(W=>{const O=v.docVersions.get(j);nt(O!==null),W.version.compareTo(O)<0&&(T.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),w.addEntry(W)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=Ue();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(p=p.add(f.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function O_(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function kk(r,e){const t=Pe(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,T)=>{const k=o.get(T);if(!k)return;f.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,T)));let b=k.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(cn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,s)),o=o.insert(T,b),function(W,O,q){return W.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(k,b,w)&&f.push(t.Gr.updateTargetData(l,b))});let p=Fi(),v=Ue();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(Ak(l,h,e.documentUpdates).next(w=>{p=w.Is,v=w.Es})),!s.isEqual(Ae.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(w)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,v)).next(()=>p)}).then(l=>(t.us=o,l))}function Ak(r,e,t){let s=Ue(),o=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Fi();return t.forEach((f,p)=>{const v=l.get(f);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)}),{Is:h,Es:o}})}function Pk(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function xk(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new vs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function Jd(r,e,t){const s=Pe(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ua(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Ev(r,e,t){const s=Pe(r);let o=Ae.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,v,w){const T=Pe(p),k=T.cs.get(w);return k!==void 0?Q.resolve(T.us.get(k)):T.Gr.getTargetData(v,w)}(s,h,ui(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?l:Ue())).next(f=>(Nk(s,yC(e),f),{documents:f,ds:l})))}function Nk(r,e,t){let s=r.ls.get(e)||Ae.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class Tv{constructor(){this.activeTargetIds=SC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dk{constructor(){this._o=new Tv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Tv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function Cd(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class Vk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const f=Cd(),p=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,l,h),this.Bo(t,p,v,o).then(w=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw Qo("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,s,o,l,h,f){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=Lk[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=Cd();return new Promise((h,f)=>{const p=new Gy;p.setWithCredentials(!0),p.listenOnce(Qy.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qu.NO_ERROR:const w=p.getResponseJson();ae(In,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Qu.TIMEOUT:ae(In,`RPC '${e}' ${l} timed out`),f(new we(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const T=p.getStatus();if(ae(In,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const b=k==null?void 0:k.error;if(b&&b.status&&b.message){const j=function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(q)>=0?q:Z.UNKNOWN}(b.status);f(new we(j,b.message))}else f(new we(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new we(Z.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ae(In,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(o);ae(In,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",v,s,15)})}qo(e,t,s){const o=Cd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Jy(),f=Xy(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const w=l.join("");ae(In,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);let k=!1,b=!1;const j=new Ok({Eo:O=>{b?ae(In,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(k||(ae(In,`Opening RPC '${e}' stream ${o} transport.`),T.open(),k=!0),ae(In,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},Ao:()=>T.close()}),W=(O,q,ee)=>{O.listen(q,ie=>{try{ee(ie)}catch(ue){setTimeout(()=>{throw ue},0)}})};return W(T,Ka.EventType.OPEN,()=>{b||(ae(In,`RPC '${e}' stream ${o} transport opened.`),j.So())}),W(T,Ka.EventType.CLOSE,()=>{b||(b=!0,ae(In,`RPC '${e}' stream ${o} transport closed`),j.Do())}),W(T,Ka.EventType.ERROR,O=>{b||(b=!0,Qo(In,`RPC '${e}' stream ${o} transport errored:`,O),j.Do(new we(Z.UNAVAILABLE,"The operation could not be completed")))}),W(T,Ka.EventType.MESSAGE,O=>{var q;if(!b){const ee=O.data[0];nt(!!ee);const ie=ee,ue=(ie==null?void 0:ie.error)||((q=ie[0])===null||q===void 0?void 0:q.error);if(ue){ae(In,`RPC '${e}' stream ${o} received error:`,ue);const xe=ue.status;let me=function(S){const P=Nt[S];if(P!==void 0)return I_(P)}(xe),N=ue.message;me===void 0&&(me=Z.INTERNAL,N="Unknown error status: "+xe+" with message "+ue.message),b=!0,j.Do(new we(me,N)),T.close()}else ae(In,`RPC '${e}' stream ${o} received:`,ee),j.vo(ee)}}),W(f,Yy.STAT_EVENT,O=>{O.stat===zd.PROXY?ae(In,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===zd.NOPROXY&&ae(In,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.bo()},0),j}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){return new $C(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t,s,o,l,h,f,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new V_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new we(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mk extends M_{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=qC(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ae.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?ci(h.readTime):Ae.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Xd(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=qd(p)?{documents:QC(l,p)}:{query:YC(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=C_(l,h.resumeToken);const v=Gd(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=gc(l,h.snapshotVersion.toTimestamp());const v=Gd(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=JC(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Xd(this.serializer),t.removeTarget=e,this.c_(t)}}class Fk extends M_{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=GC(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Xd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>KC(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new we(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,Qd(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(Z.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,Qd(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new we(Z.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Uk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Mi(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{so(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const v=Pe(p);v.k_.add(4),await Rl(v),v.K_.set("Unknown"),v.k_.delete(4),await Fc(v)}(this))})}),this.K_=new Uk(s,o)}}async function Fc(r){if(so(r))for(const e of r.q_)await e(!0)}async function Rl(r){for(const e of r.q_)await e(!1)}function F_(r,e){const t=Pe(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),jf(t)?Ff(t):ca(t).s_()&&Mf(t,e))}function Vf(r,e){const t=Pe(r),s=ca(t);t.B_.delete(e),s.s_()&&j_(t,e),t.B_.size===0&&(s.s_()?s.a_():so(t)&&t.K_.set("Unknown"))}function Mf(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(r).V_(e)}function j_(r,e){r.U_.xe(e),ca(r).m_(e)}function Ff(r){r.U_=new jC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),ca(r).start(),r.K_.F_()}function jf(r){return so(r)&&!ca(r).i_()&&r.B_.size>0}function so(r){return Pe(r).k_.size===0}function U_(r){r.U_=void 0}async function zk(r){r.K_.set("Online")}async function $k(r){r.B_.forEach((e,t)=>{Mf(r,e)})}async function Wk(r,e){U_(r),jf(r)?(r.K_.O_(e),Ff(r)):r.K_.set("Unknown")}async function Hk(r,e,t){if(r.K_.set("Online"),e instanceof R_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yc(r,s)}else if(e instanceof Zu?r.U_.$e(e):e instanceof S_?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ae.min()))try{const s=await O_(r.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.B_.get(v);w&&l.B_.set(v,w.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,v)=>{const w=l.B_.get(p);if(!w)return;l.B_.set(p,w.withResumeToken(cn.EMPTY_BYTE_STRING,w.snapshotVersion)),j_(l,p);const T=new vs(w.target,p,v,w.sequenceNumber);Mf(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await yc(r,s)}}async function yc(r,e,t){if(!ua(e))throw e;r.k_.add(1),await Rl(r),r.K_.set("Offline"),t||(t=()=>O_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Fc(r)})}function B_(r,e){return e().catch(t=>yc(r,t,e))}async function jc(r){const e=Pe(r),t=ks(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;qk(e);)try{const o=await Pk(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,Kk(e,o)}catch(o){await yc(e,o)}z_(e)&&$_(e)}function qk(r){return so(r)&&r.L_.length<10}function Kk(r,e){r.L_.push(e);const t=ks(r);t.s_()&&t.f_&&t.g_(e.mutations)}function z_(r){return so(r)&&!ks(r).i_()&&r.L_.length>0}function $_(r){ks(r).start()}async function Gk(r){ks(r).w_()}async function Qk(r){const e=ks(r);for(const t of r.L_)e.g_(t.mutations)}async function Yk(r,e,t){const s=r.L_.shift(),o=xf.from(s,e,t);await B_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jc(r)}async function Xk(r,e){e&&ks(r).f_&&await async function(s,o){if(function(h){return VC(h)&&h!==Z.ABORTED}(o.code)){const l=s.L_.shift();ks(s).__(),await B_(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await jc(s)}}(r,e),z_(r)&&$_(r)}async function Sv(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=so(t);t.k_.add(3),await Rl(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Fc(t)}async function Jk(r,e){const t=Pe(r);e?(t.k_.delete(2),await Fc(t)):e||(t.k_.add(2),await Rl(t),t.K_.set("Unknown"))}function ca(r){return r.W_||(r.W_=function(t,s,o){const l=Pe(t);return l.b_(),new Mk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:zk.bind(null,r),mo:$k.bind(null,r),po:Wk.bind(null,r),R_:Hk.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),jf(r)?Ff(r):r.K_.set("Unknown")):(await r.W_.stop(),U_(r))})),r.W_}function ks(r){return r.G_||(r.G_=function(t,s,o){const l=Pe(t);return l.b_(),new Fk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:Gk.bind(null,r),po:Xk.bind(null,r),p_:Qk.bind(null,r),y_:Yk.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await jc(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Uf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bf(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),ua(r))return new we(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=Ga(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.z_=new vt(Ee.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ea{constructor(e,t,s,o,l,h,f,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new ea(e,t,Ko.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class eA{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Pe(t),l=o.queries;o.queries=Cv(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(s)})})(this,new we(Z.ABORTED,"Firestore shutting down"))}}function Cv(){return new ro(r=>c_(r),Dc)}async function tA(r,e){const t=Pe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new Zk,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Bf(h,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&zf(t)}async function nA(r,e){const t=Pe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function rA(r,e){const t=Pe(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&zf(t)}function iA(r,e,t){const s=Pe(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function zf(r){r.X_.forEach(e=>{e.next()})}var Zd,kv;(kv=Zd||(Zd={})).na="default",kv.Cache="cache";class sA{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ea(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.key=e}}class H_{constructor(e){this.key=e}}class oA{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=h_(e),this.ma=new Ko(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Rv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const k=o.get(w),b=bc(this.query,T)?T:null,j=!!k&&this.mutatedKeys.has(k.key),W=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;k&&b?k.data.isEqual(b.data)?j!==W&&(s.track({type:3,doc:b}),O=!0):this.ya(k,b)||(s.track({type:2,doc:b}),O=!0,(p&&this.Va(b,p)>0||v&&this.Va(b,v)<0)&&(f=!0)):!k&&b?(s.track({type:0,doc:b}),O=!0):k&&!b&&(s.track({type:1,doc:k}),O=!0,(p||v)&&(f=!0)),O&&(b?(h=h.add(b),l=W?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,T)=>function(b,j){const W=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return W(b)-W(j)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,v=p!==this.Aa;return this.Aa=p,h.length!==0||v?{snapshot:new ea(this.query,e.ma,l,h,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Rv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new H_(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new W_(s))}),t}va(e){this.da=e.ds,this.Ra=Ue();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ea.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class aA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class lA{constructor(e){this.key=e,this.Fa=!1}}class uA{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new ro(f=>c_(f),Dc),this.Oa=new Map,this.Na=new Set,this.La=new vt(Ee.comparator),this.Ba=new Map,this.ka=new bf,this.qa={},this.Qa=new Map,this.Ka=Zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function cA(r,e,t=!0){const s=X_(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await q_(s,e,t,!0),o}async function hA(r,e){const t=X_(r);await q_(t,e,!0,!1)}async function q_(r,e,t,s){const o=await xk(r.localStore,ui(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await dA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&F_(r.remoteStore,o),f}async function dA(r,e,t,s,o){r.Ua=(T,k,b)=>async function(W,O,q,ee){let ie=O.view.ga(q);ie.ss&&(ie=await Ev(W.localStore,O.query,!1).then(({documents:N})=>O.view.ga(N,ie)));const ue=ee&&ee.targetChanges.get(O.targetId),xe=ee&&ee.targetMismatches.get(O.targetId)!=null,me=O.view.applyChanges(ie,W.isPrimaryClient,ue,xe);return Pv(W,O.targetId,me.ba),me.snapshot}(r,T,k,b);const l=await Ev(r.localStore,e,!0),h=new oA(e,l.ds),f=h.ga(l.documents),p=Sl.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,p);Pv(r,t,v.ba);const w=new aA(e,t,h);return r.xa.set(e,w),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),v.snapshot}async function fA(r,e,t){const s=Pe(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!Dc(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Vf(s.remoteStore,o.targetId),ef(s,o.targetId)}).catch(la)):(ef(s,o.targetId),await Jd(s.localStore,o.targetId,!0))}async function pA(r,e){const t=Pe(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Vf(t.remoteStore,s.targetId))}async function mA(r,e,t){const s=TA(r);try{const o=await function(h,f){const p=Pe(h),v=Ut.now(),w=f.reduce((b,j)=>b.add(j.key),Ue());let T,k;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let j=Fi(),W=Ue();return p.hs.getEntries(b,w).next(O=>{j=O,j.forEach((q,ee)=>{ee.isValidDocument()||(W=W.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,j)).next(O=>{T=O;const q=[];for(const ee of f){const ie=NC(ee,T.get(ee.key).overlayedDocument);ie!=null&&q.push(new io(ee.key,ie,r_(ie.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(b,v,q,f)}).next(O=>{k=O;const q=O.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(b,O.batchId,q)})}).then(()=>({batchId:k.batchId,changes:f_(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let v=h.qa[h.currentUser.toKey()];v||(v=new vt(We)),v=v.insert(f,p),h.qa[h.currentUser.toKey()]=v}(s,o.batchId,t),await Cl(s,o.changes),await jc(s.remoteStore)}catch(o){const l=Bf(o,"Failed to persist write");t.reject(l)}}async function K_(r,e){const t=Pe(r);try{const s=await kk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?nt(h.Fa):o.removedDocuments.size>0&&(nt(h.Fa),h.Fa=!1))}),await Cl(t,s,e)}catch(s){await la(s)}}function Av(r,e,t){const s=Pe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Pe(h);p.onlineState=f;let v=!1;p.queries.forEach((w,T)=>{for(const k of T.J_)k.ea(f)&&(v=!0)}),v&&zf(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gA(r,e,t){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new vt(Ee.comparator);h=h.insert(l,Rn.newNoDocument(l,Ae.min()));const f=Ue().add(l),p=new Vc(Ae.min(),new Map,new vt(We),h,f);await K_(s,p),s.La=s.La.remove(l),s.Ba.delete(e),$f(s)}else await Jd(s.localStore,e,!1).then(()=>ef(s,e,t)).catch(la)}async function vA(r,e){const t=Pe(r),s=e.batch.batchId;try{const o=await Ck(t.localStore,e);Q_(t,s,null),G_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Cl(t,o)}catch(o){await la(o)}}async function yA(r,e,t){const s=Pe(r);try{const o=await function(h,f){const p=Pe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return p.mutationQueue.lookupMutationBatch(v,f).next(T=>(nt(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(v,T))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>p.localDocuments.getDocuments(v,w))})}(s.localStore,e);Q_(s,e,t),G_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Cl(s,o)}catch(o){await la(o)}}function G_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function Q_(r,e,t){const s=Pe(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function ef(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||Y_(r,s)})}function Y_(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(Vf(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),$f(r))}function Pv(r,e,t){for(const s of t)s instanceof W_?(r.ka.addReference(s.key,e),_A(r,s)):s instanceof H_?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||Y_(r,s.key)):ke()}function _A(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(s),$f(r))}function $f(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Ee(Tt.fromString(e)),s=r.Ka.next();r.Ba.set(s,new lA(t)),r.La=r.La.insert(t,s),F_(r.remoteStore,new vs(ui(Af(t.path)),s,"TargetPurposeLimboResolution",Ac.oe))}}async function Cl(r,e,t){const s=Pe(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,p)=>{h.push(s.Ua(p,e,t).then(v=>{var w;if((v||t)&&s.isPrimaryClient){const T=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Of.zi(p.targetId,v);l.push(T)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,v){const w=Pe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Q.forEach(v,k=>Q.forEach(k.Wi,b=>w.persistence.referenceDelegate.addReference(T,k.targetId,b)).next(()=>Q.forEach(k.Gi,b=>w.persistence.referenceDelegate.removeReference(T,k.targetId,b)))))}catch(T){if(!ua(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const k=T.targetId;if(!T.fromCache){const b=w.us.get(k),j=b.snapshotVersion,W=b.withLastLimboFreeSnapshotVersion(j);w.us=w.us.insert(k,W)}}}(s.localStore,l))}async function wA(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await L_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new we(Z.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cl(t,s.Ts)}}function EA(r,e){const t=Pe(r),s=t.Ba.get(e);if(s&&s.Fa)return Ue().add(s.key);{let o=Ue();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function X_(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gA.bind(null,e),e.Ma.R_=rA.bind(null,e.eventManager),e.Ma.Wa=iA.bind(null,e.eventManager),e}function TA(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yA.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Rk(this.persistence,new Ik,e.initialUser,this.serializer)}ja(e){return new b_(Lf.ei,this.serializer)}za(e){return new Dk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class IA extends _c{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){nt(this.persistence.referenceDelegate instanceof vc);const s=this.persistence.referenceDelegate.garbageCollector;return new lk(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new b_(s=>vc.ei(s,t),this.serializer)}}class tf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Av(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wA.bind(null,this.syncEngine),await Jk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eA}()}createDatastore(e){const t=Mc(e.databaseInfo.databaseId),s=function(l){return new Vk(l)}(e.databaseInfo);return function(l,h,f,p){return new jk(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new Bk(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Av(this.syncEngine,t,0),function(){return Iv.p()?new Iv:new bk}())}createSyncEngine(e,t){return function(o,l,h,f,p,v,w){const T=new uA(o,l,h,f,p,v);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Pe(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Rl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tf.provider={build:()=>new tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=e_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Bf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ad(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await L_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function xv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await CA(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Sv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Sv(e.remoteStore,o)),r._onlineComponents=e}async function CA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await Ad(r,new _c)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Ad(r,new IA(void 0));return r._offlineComponents}async function J_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await xv(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await xv(r,new tf))),r._onlineComponents}function kA(r){return J_(r).then(e=>e.syncEngine)}async function AA(r){const e=await J_(r),t=e.eventManager;return t.onListen=cA.bind(null,e.syncEngine),t.onUnlisten=fA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pA.bind(null,e.syncEngine),t}function PA(r,e,t={}){const s=new Es;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,v){const w=new SA({next:k=>{w.eu(),h.enqueueAndForget(()=>nA(l,T));const b=k.docs.has(f);!b&&k.fromCache?v.reject(new we(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&k.fromCache&&p&&p.source==="server"?v.reject(new we(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(k)},error:k=>v.reject(k)}),T=new sA(Af(f.path),w,{includeMetadataChanges:!0,ua:!0});return tA(l,T)}(await AA(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,e,t){if(!t)throw new we(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NA(r,e,t,s){if(e===!0&&s===!0)throw new we(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Dv(r){if(!Ee.isDocumentKey(r))throw new we(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke()}function hl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new we(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wf(r);throw new we(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new we(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new we(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new we(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new we(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new MR;switch(s.type){case"firstParty":return new BR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new we(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Nv.get(t);s&&(ae("ComponentProvider","Removing Datastore"),Nv.delete(t),s.terminate())}(this),Promise.resolve()}}function DA(r,e,t,s={}){var o;const l=(r=hl(r,Hf))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=Sn.MOCK_USER;else{f=aT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new we(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Sn(v)}r._authCredentials=new FR(new Zy(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qf(this.firestore,e,this._query)}}class Tr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class dl extends qf{constructor(e,t,s){super(e,t,Af(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new Ee(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function e0(r,e,...t){if(r=ir(r),arguments.length===1&&(e=e_.newId()),xA("doc","path",e),r instanceof Hf){const s=Tt.fromString(e,...t);return Dv(s),new Tr(r,null,new Ee(s))}{if(!(r instanceof Tr||r instanceof dl))throw new we(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...t));return Dv(s),new Tr(r.firestore,r instanceof dl?r.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new V_(this,"async_queue_retry"),this.fu=()=>{const s=kd();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=kd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=kd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Es;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ua(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Mi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Uf.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Kf extends Hf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lv(e),this._firestoreClient=void 0,await e}}}function bA(r,e){const t=typeof r=="object"?r:iy(),s=typeof r=="string"?r:"(default)",o=ff(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=sT("firestore");l&&DA(o,...l)}return o}function t0(r){if(r._terminated)throw new we(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LA(r),r._firestoreClient}function LA(r){var e,t,s;const o=r._freezeSettings(),l=function(f,p,v,w){return new nC(f,p,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Z_(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new RA(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(cn.fromBase64String(e))}catch(t){throw new we(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/^__.*__$/;class VA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new Il(e,this.data,t,this.fieldTransforms)}}function r0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Xf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Xf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return wc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(r0(this.Mu)&&OA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class MA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Mc(e)}$u(e,t,s,o=!1){return new Xf({Mu:e,methodName:t,Ku:s,path:un.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FA(r){const e=r._freezeSettings(),t=Mc(r._databaseId);return new MA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function jA(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);a0("Data must be an object, but it was:",h,s);const f=s0(s,h);let p,v;if(l.merge)p=new Wr(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const k=UA(e,T,t);if(!h.contains(k))throw new we(Z.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);zA(w,k)||w.push(k)}p=new Wr(w),v=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,v=h.fieldTransforms;return new VA(new Er(f),p,v)}function i0(r,e){if(o0(r=ir(r)))return a0("Unsupported field value:",e,r),s0(r,e);if(r instanceof n0)return function(s,o){if(!r0(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let p=i0(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=ir(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ut.fromDate(s);return{timestampValue:gc(o.serializer,l)}}if(s instanceof Ut){const l=new Ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(s instanceof Qf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ta)return{bytesValue:C_(o.serializer,s._byteString)};if(s instanceof Tr){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Df(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yf)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Pf(f.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Wf(s)}`)}(r,e)}function s0(r,e){const t={};return t_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(r,(s,o)=>{const l=i0(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function o0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ut||r instanceof Qf||r instanceof ta||r instanceof Tr||r instanceof n0||r instanceof Yf)}function a0(r,e,t){if(!o0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Wf(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function UA(r,e,t){if((e=ir(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return l0(r,e);throw wc("Field path arguments must be of type string or ",r,!1,void 0,t)}const BA=new RegExp("[~\\*/\\[\\]]");function l0(r,e,t){if(e.search(BA)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Gf(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wc(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new we(Z.INVALID_ARGUMENT,f+r+p)}function zA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $A(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $A extends u0{data(){return super.data()}}function c0(r,e){return typeof e=="string"?l0(r,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}class WA{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return no(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ct(h.doubleValue));return new Yf(l)}convertGeoPoint(e){return new Qf(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=xc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Tt.fromString(e);nt(D_(s));const o=new al(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return o.isEqual(t)||Mi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h0 extends u0{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(c0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class KA extends h0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r){r=hl(r,Tr);const e=hl(r.firestore,Kf);return PA(t0(e),r._key).then(t=>JA(e,r,t))}class QA extends WA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function YA(r,e,t){r=hl(r,Tr);const s=hl(r.firestore,Kf),o=HA(r.converter,e);return XA(s,[jA(FA(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Li.none())])}function XA(r,e){return function(s,o){const l=new Es;return s.asyncQueue.enqueueAndForget(async()=>mA(await kA(s),o,l)),l.promise}(t0(r),e)}function JA(r,e,t){const s=t.docs.get(e._key),o=new QA(r);return new h0(r,o,e._key,s,new qA(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){aa=o})(sa),Go(new Js("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Kf(new jR(s.getProvider("auth-internal")),new $R(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new we(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(v.options.projectId,w)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ws(Jg,"4.7.5",e),ws(Jg,"4.7.5","esm2017")})();const ZA={apiKey:"AIzaSyBIvLnf1q-91Yt91nPvL0BbCxyLn72EzKo",authDomain:"cohandler-e3152.firebaseapp.com",projectId:"cohandler-e3152",storageBucket:"cohandler-e3152.firebasestorage.app",messagingSenderId:"723273148875",appId:"1:723273148875:web:00150a7b1119751275ee4e"},d0=ry(ZA),eP=Tl(d0),f0=bA(d0),tP=()=>{const[r,e]=V.useState(""),[t,s]=V.useState(""),[o,l]=V.useState(""),[h,f]=V.useState(""),[p,v]=V.useState(""),w=async T=>{T.preventDefault(),v("");try{const b=(await x1(eP,t,h)).user;await YA(e0(f0,"users",b.uid),{fullName:r,email:t,number:o}),alert("Registration successful!")}catch(k){v(k.message)}};return I.jsx("div",{className:"flex justify-center items-start pt-2 min-h-screen bg-blue-100",children:I.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Register"}),p&&I.jsx("p",{className:"text-red-500",children:p}),I.jsxs("form",{onSubmit:w,children:[I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-gray-700",children:"Full Name"}),I.jsx("input",{type:"text",placeholder:"Enter your full name",value:r,onChange:T=>e(T.target.value),className:"w-full p-3 border rounded-lg mt-2"})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-gray-700",children:"Email"}),I.jsx("input",{type:"email",placeholder:"Enter your email",value:t,onChange:T=>s(T.target.value),className:"w-full p-3 border rounded-lg mt-2"})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-gray-700",children:"Number"}),I.jsx("input",{type:"text",placeholder:"Enter your number",value:o,onChange:T=>l(T.target.value),className:"w-full p-3 border rounded-lg mt-2"})]}),I.jsxs("div",{className:"mb-6",children:[I.jsx("label",{className:"block text-gray-700",children:"Password"}),I.jsx("input",{type:"password",placeholder:"Create a password",value:h,onChange:T=>f(T.target.value),className:"w-full p-3 border rounded-lg mt-2"})]}),I.jsx("button",{className:"w-full bg-green-500 text-white py-2 rounded-lg font-semibold hover:bg-green-600",children:"Register"})]})]})})},nP=()=>{const[r,e]=V.useState(""),[t,s]=V.useState(""),[o,l]=V.useState(""),h=pl(),f=Tl(),p=async w=>{w.preventDefault();try{await N1(f,r,t),h("/dashboard")}catch{l("Invalid email or password. Please try again.")}},v=async()=>{if(!r){l("Please enter your email to reset the password.");return}try{await P1(f,r),alert("Password reset link sent to your email.")}catch{l("Failed to send reset link. Please check your email address.")}};return I.jsx("div",{className:"flex justify-center items-start pt-2 min-h-screen bg-blue-100",children:I.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Login"}),o&&I.jsx("p",{className:"text-red-500 text-center mb-4",children:o}),I.jsxs("form",{onSubmit:p,children:[I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-gray-700",children:"Email"}),I.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:w=>e(w.target.value),className:"w-full p-3 border rounded-lg mt-2",required:!0})]}),I.jsxs("div",{className:"mb-6",children:[I.jsx("label",{className:"block text-gray-700",children:"Password"}),I.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:w=>s(w.target.value),className:"w-full p-3 border rounded-lg mt-2",required:!0})]}),I.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white py-2 rounded-lg font-semibold hover:bg-green-600",children:"Login"})]}),I.jsxs("div",{className:"flex justify-between items-center mt-4",children:[I.jsx("button",{onClick:v,className:"text-blue-500 hover:underline",children:"Forgot Password?"}),I.jsx("button",{onClick:()=>h("/register"),className:"text-blue-500 hover:underline",children:"Register"})]})]})})},rP=()=>{const[r,e]=V.useState(null),[t,s]=V.useState("profile"),o=pl(),l=Tl();V.useEffect(()=>{(async()=>{const v=l.currentUser;if(v)try{const w=e0(f0,"users",v.uid),T=await GA(w);T.exists()&&e(T.data())}catch(w){console.error("Error fetching user data:",w)}else o("/login")})()},[l,o]);const h=()=>{Dy(l).then(()=>{o("/login")}).catch(p=>{console.error("Logout failed:",p)})},f=()=>{switch(t){case"profile":return I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Profile Information"}),r?I.jsxs("div",{children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Name:"})," ",r.name]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Contact Number:"})," ",r.number]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Workspace Booking Details:"})," ",r.bookings||"No bookings yet"]})]}):I.jsx("p",{children:"Loading user data..."})]});case"bookingOptions":return I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Booking Options"}),I.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[I.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[I.jsx("img",{src:"/images/workspace1.jpg",alt:"Private Workspace",className:"w-full h-48 object-cover"}),I.jsxs("div",{className:"p-4",children:[I.jsx("h3",{className:"font-bold text-lg",children:"Private Workspace"}),I.jsx("p",{className:"text-gray-600 mt-2",children:"A private and quiet space for focused work."}),I.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",onClick:()=>handleBooking("Private Workspace"),children:"Book Now"})]})]}),I.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[I.jsx("img",{src:"/images/workspace2.jpg",alt:"Shared Workspace",className:"w-full h-48 object-cover"}),I.jsxs("div",{className:"p-4",children:[I.jsx("h3",{className:"font-bold text-lg",children:"Shared Workspace"}),I.jsx("p",{className:"text-gray-600 mt-2",children:"A collaborative space shared with others."}),I.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",onClick:()=>handleBooking("Shared Workspace"),children:"Book Now"})]})]}),I.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[I.jsx("img",{src:"/images/workspace2.jpg",alt:"Shared Workspace",className:"w-full h-48 object-cover"}),I.jsxs("div",{className:"p-4",children:[I.jsx("h3",{className:"font-bold text-lg",children:"Shared Workspace"}),I.jsx("p",{className:"text-gray-600 mt-2",children:"A collaborative space shared with others."}),I.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",onClick:()=>handleBooking("Shared Workspace"),children:"Book Now"})]})]}),I.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[I.jsx("img",{src:"/images/workspace2.jpg",alt:"Shared Workspace",className:"w-full h-48 object-cover"}),I.jsxs("div",{className:"p-4",children:[I.jsx("h3",{className:"font-bold text-lg",children:"Shared Workspace"}),I.jsx("p",{className:"text-gray-600 mt-2",children:"A collaborative space shared with others."}),I.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",onClick:()=>handleBooking("Shared Workspace"),children:"Book Now"})]})]})]})]});case"bookingHistory":return I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Booking History"}),I.jsx("p",{children:"Your past bookings will appear here."})]});case"billingInvoices":return I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Billing & Invoices"}),I.jsx("p",{children:"Here you can view your billing and invoices."})]});case"support":return I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Support Section"}),I.jsx("p",{children:"If you have any issues, feel free to reach out to us."})]});default:return I.jsx("p",{children:"Invalid section"})}};return I.jsxs("div",{className:"flex",children:[I.jsxs("aside",{className:"bg-purple-100 w-1/4 p-4",children:[I.jsxs("ul",{className:"space-y-4",children:[I.jsx("li",{className:`cursor-pointer ${t==="profile"?"text-green-600 font-bold":""}`,onClick:()=>s("profile"),children:"Profile Information"}),I.jsx("li",{className:`cursor-pointer ${t==="bookingOptions"?"text-green-600 font-bold":""}`,onClick:()=>s("bookingOptions"),children:"Booking Option"}),I.jsx("li",{className:`cursor-pointer ${t==="bookingHistory"?"text-green-600 font-bold":""}`,onClick:()=>s("bookingHistory"),children:"Booking History"}),I.jsx("li",{className:`cursor-pointer ${t==="billingInvoices"?"text-green-600 font-bold":""}`,onClick:()=>s("billingInvoices"),children:"Billing & Invoices"}),I.jsx("li",{className:`cursor-pointer ${t==="support"?"text-green-600 font-bold":""}`,onClick:()=>s("support"),children:"Support Section"})]}),I.jsx("button",{onClick:h,className:"mt-6 bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600",children:"Logout"})]}),I.jsx("main",{className:"flex-1 bg-blue-100 p-6",children:f()})]})},iP=({children:r})=>{const{user:e}=Wy();return e?r:I.jsx(mE,{to:"/login"})},sP=()=>{const[r,e]=V.useState({name:"",email:"",phone:"",company:"",workspaceType:"",date:"",timeSlot:"",duration:"",numberOfPeople:"",amenities:[],seatingPreferences:"",specialRequests:"",plan:"",paymentMode:"",bookingNotes:"",userId:"",password:"",idProof:null}),t=l=>{const{name:h,value:f}=l.target;e({...r,[h]:f})},s=l=>{e({...r,idProof:l.target.files[0]})},o=l=>{l.preventDefault(),console.log("Form Data:",r)};return I.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"Booking Form"}),I.jsxs("form",{onSubmit:o,children:[I.jsxs("div",{children:[I.jsx("label",{children:"Name:"}),I.jsx("input",{type:"text",name:"name",onChange:t,required:!0}),I.jsx("label",{children:"Email:"}),I.jsx("input",{type:"email",name:"email",onChange:t,required:!0}),I.jsx("label",{children:"Phone:"}),I.jsx("input",{type:"tel",name:"phone",onChange:t,required:!0}),I.jsx("label",{children:"Company (optional):"}),I.jsx("input",{type:"text",name:"company",onChange:t})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Workspace Type:"}),I.jsxs("select",{name:"workspaceType",onChange:t,required:!0,children:[I.jsx("option",{value:"",children:"Select"}),I.jsx("option",{value:"Private Cabin",children:"Private Cabin"}),I.jsx("option",{value:"Conference Room",children:"Conference Room"}),I.jsx("option",{value:"Open Seating",children:"Open Seating"})]}),I.jsx("label",{children:"Date:"}),I.jsx("input",{type:"date",name:"date",onChange:t,required:!0}),I.jsx("label",{children:"Time Slot:"}),I.jsx("input",{type:"time",name:"timeSlot",onChange:t,required:!0}),I.jsx("label",{children:"Duration (in hours):"}),I.jsx("input",{type:"number",name:"duration",onChange:t,required:!0}),I.jsx("label",{children:"Number of People:"}),I.jsx("input",{type:"number",name:"numberOfPeople",onChange:t,required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Amenities:"}),I.jsx("textarea",{name:"amenities",onChange:t}),I.jsx("label",{children:"Seating Preferences:"}),I.jsx("input",{type:"text",name:"seatingPreferences",onChange:t}),I.jsx("label",{children:"Special Requests:"}),I.jsx("textarea",{name:"specialRequests",onChange:t})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Plan:"}),I.jsxs("select",{name:"plan",onChange:t,required:!0,children:[I.jsx("option",{value:"",children:"Select"}),I.jsx("option",{value:"Hourly",children:"Hourly"}),I.jsx("option",{value:"Daily",children:"Daily"}),I.jsx("option",{value:"Monthly",children:"Monthly"})]}),I.jsx("label",{children:"Payment Mode:"}),I.jsx("input",{type:"text",name:"paymentMode",onChange:t,required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Email/User ID:"}),I.jsx("input",{type:"email",name:"userId",onChange:t,required:!0}),I.jsx("label",{children:"Password:"}),I.jsx("input",{type:"password",name:"password",onChange:t,required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Upload ID Proof:"}),I.jsx("input",{type:"file",onChange:s,required:!0})]}),I.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",children:"Submit"})]})]})},oP=()=>I.jsx(XS,{children:I.jsxs(vE,{children:[I.jsx(hs,{path:"/",element:I.jsx(DR,{})}),I.jsx(hs,{path:"/about",element:I.jsx(bR,{})}),I.jsx(hs,{path:"/plans",element:I.jsx(LR,{})}),I.jsx(hs,{path:"/register",element:I.jsx(tP,{})}),I.jsx(hs,{path:"/login",element:I.jsx(nP,{})}),I.jsx(hs,{path:"/dashboard",element:I.jsx(iP,{children:I.jsx(rP,{})})}),I.jsx(hs,{path:"/booking",element:I.jsx(sP,{})})]})});Rw.createRoot(document.getElementById("root")).render(I.jsx(V.StrictMode,{children:I.jsx(qS,{children:I.jsx(BE,{children:I.jsx(oP,{})})})}));
